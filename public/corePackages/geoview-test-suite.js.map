{"version":3,"file":"corePackages/geoview-test-suite.js","mappings":"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","sources":["webpack://geoview-core/../geoview-test-suite/src/tests/testers/layer-tester.ts","webpack://geoview-core/../geoview-test-suite/src/tests/core/exceptions.ts","webpack://geoview-core/../geoview-test-suite/src/tests/suites/suite-geochart.ts","webpack://geoview-core/../geoview-test-suite/src/tests/testers/map-config-tester.ts","webpack://geoview-core/../geoview-test-suite/src/tests/core/abstract-tester.ts","webpack://geoview-core/../geoview-test-suite/src/tests/testers/ui-tester.ts","webpack://geoview-core/../geoview-test-suite/src/tests/suites/suite-layer.ts","webpack://geoview-core/../geoview-test-suite/src/tests/suites/suite-map-varia.ts","webpack://geoview-core/../geoview-test-suite/src/tests/core/abstract-test-suite.ts","webpack://geoview-core/../geoview-test-suite/src/tests/suites/abstract-gv-test-suite.ts","webpack://geoview-core/../geoview-test-suite/src/tests/core/test.ts","webpack://geoview-core/../geoview-test-suite/src/tests/suites/suite-map-config.ts","webpack://geoview-core/../geoview-test-suite/src/tests/core/test-step.ts","webpack://geoview-core/../geoview-test-suite/src/tests/testers/geochart-tester.ts","webpack://geoview-core/../geoview-test-suite/src/tests/suites/suite-config.ts","webpack://geoview-core/../geoview-test-suite/src/index.tsx","webpack://geoview-core/../geoview-test-suite/src/tests/testers/map-tester.ts","webpack://geoview-core/../geoview-test-suite/src/tests/suites/suite-ui.ts","webpack://geoview-core/../geoview-test-suite/src/tests/testers/config-tester.ts","webpack://geoview-core/../geoview-test-suite/src/tests/testers/abstract-gv-tester.ts"],"sourcesContent":["import { Test } from '../core/test';\nimport { GVAbstractTester } from './abstract-gv-tester';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport { LayerStatusErrorError } from 'geoview-core/core/exceptions/layer-exceptions';\nimport { LayerNoCapabilitiesError, LayerServiceMetadataUnableToFetchError } from 'geoview-core/core/exceptions/layer-exceptions';\nimport type { TypeGeoviewLayerConfig } from 'geoview-core/api/types/layer-schema-types';\nimport type { AbstractGVLayer } from 'geoview-core/geo/layer/gv-layers/abstract-gv-layer';\nimport { EsriDynamic } from 'geoview-core/geo/layer/geoview-layers/raster/esri-dynamic';\nimport { generateId } from 'geoview-core/core/utils/utilities';\nimport { AbstractBaseLayerEntryConfig } from 'geoview-core/api/config/validation-classes/abstract-base-layer-entry-config';\nimport { LegendEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/legend-event-processor';\nimport { EsriFeature } from 'geoview-core/geo/layer/geoview-layers/vector/esri-feature';\nimport { EsriImage } from 'geoview-core/geo/layer/geoview-layers/raster/esri-image';\nimport { WMS } from 'geoview-core/geo/layer/geoview-layers/raster/wms';\nimport { WFS } from 'geoview-core/geo/layer/geoview-layers/vector/wfs';\nimport { GeoJSON } from 'geoview-core/geo/layer/geoview-layers/vector/geojson';\nimport { GeoTIFF } from 'geoview-core/geo/layer/geoview-layers/raster/geotiff';\nimport { CSV } from 'geoview-core/geo/layer/geoview-layers/vector/csv';\nimport { OgcFeature } from 'geoview-core/geo/layer/geoview-layers/vector/ogc-feature';\nimport { WKB } from 'geoview-core/geo/layer/geoview-layers/vector/wkb';\nimport { KML } from 'geoview-core/geo/layer/geoview-layers/vector/kml';\nimport type { GeoViewLayerAddedResult } from 'geoview-core/geo/layer/layer';\nimport type { TypeMapFeaturesInstance } from 'geoview-core/api/types/map-schema-types';\nimport type { TypeLegendItem } from 'geoview-core/core/components/layers/types';\n\n/**\n * Main Layer testing class.\n * @extends {GVAbstractTester}\n */\nexport class LayerTester extends GVAbstractTester {\n  /**\n   * Returns the name of the Tester.\n   * @returns {string} The name of the Tester.\n   */\n  override getName(): string {\n    return 'LayerTester';\n  }\n\n  // #region ESRI DYNAMIC\n\n  /**\n   * Tests adding an Esri Dynamic Historical Flood Events layer on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddEsriDynamicHistoFloodEvents(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.HISTORICAL_FLOOD_URL_MAP_SERVER;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.HISTORICAL_FLOOD_URL_LAYER_ID;\n    const gvLayerName = 'Esri Dynamic Histo Flood Events';\n\n    // Test\n    return this.test(\n      `Test Adding Esri Dynamic Histo Flood Events on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = EsriDynamic.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.HISTORICAL_FLOOD_URL_LAYER_ID },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPath,\n          undefined,\n          GVAbstractTester.HISTORICAL_FLOOD_ICON_LIST\n        );\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a Geocore layer pointing to an Esri Dynamic layer containing Raster Layers.\n   * @returns {Promise<Test<AbstractGVLayer>>}\n   * A promise that resolves with the test result, expecting a `AbstractGVLayer`.\n   */\n  testAddEsriDynamicWithRasterLayersViaGeocore(): Promise<Test<AbstractGVLayer>> {\n    const gvLayerId = GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_UUID;\n    const layerPathGroup = gvLayerId + '/' + GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_GROUP;\n    const layerPathPetroleum = gvLayerId + '/' + GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_PETROLEUM;\n    const layerPathMinerals = gvLayerId + '/' + GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_MINERALS;\n    const layerPathForestry = gvLayerId + '/' + GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_FORESTRY;\n    const layerPathFisheries = gvLayerId + '/' + GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_FISHERIES;\n    const layerPathAgriculture = gvLayerId + '/' + GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_AGRICULTURE;\n    const layerPathCanecumene = gvLayerId + '/' + GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_CANECUMENE;\n\n    // Test\n    return this.test(\n      `Test Adding Esri Dynamic with Raster Layers via Geocore...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMapFromUUID(test, this.getMapViewer(), gvLayerId);\n\n        // Find the layer and wait until its ready\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPathPetroleum);\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPathMinerals);\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPathForestry);\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPathFisheries);\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPathAgriculture);\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPathCanecumene);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPathPetroleum,\n          undefined,\n          GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_PETROLEUM_ICON_LIST\n        );\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPathMinerals,\n          undefined,\n          GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_MINERALS_ICON_LIST\n        );\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPathForestry,\n          undefined,\n          GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_FORESTRY_ICON_LIST\n        );\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPathFisheries,\n          undefined,\n          GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_FISHERIES_ICON_LIST\n        );\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPathAgriculture,\n          undefined,\n          GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_AGRICULTURE_ICON_LIST\n        );\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPathCanecumene,\n          undefined,\n          GVAbstractTester.ESRI_DYNAMIC_LABOUR_FORCE_CANECUMENE_ICON_LIST\n        );\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPathGroup);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing an Esri Dynamic layer configuration using an invalid metadata URL.\n   * This test verifies that when an Esri Dynamic layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a `LayerServiceMetadataUnableToFetchError`.\n   */\n  testAddEsriDynamicBadUrl(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.HISTORICAL_FLOOD_URL_LAYER_ID;\n    const gvLayerName = 'Esri Dynamic Histo Flood Events';\n\n    // Test\n    return this.testError(\n      `Test Adding Esri Dynamic with bad url...`,\n      LayerServiceMetadataUnableToFetchError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = EsriDynamic.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.HISTORICAL_FLOOD_URL_LAYER_ID },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion ESRI DYNAMIC\n\n  // #region ESRI FEATURE\n\n  /**\n   * Tests adding an Esri Feature Forest Industry layer on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddEsriFeatureForestIndustry(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.FOREST_INDUSTRY_MAP_SERVER;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.FOREST_INDUSTRY_LAYER_ID;\n    const gvLayerName = 'Esri Feature Forest Industry';\n\n    // Test\n    return this.test(\n      `Test Adding Esri Feature Forest Industry on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = EsriFeature.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.FOREST_INDUSTRY_LAYER_ID },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPath,\n          undefined,\n          GVAbstractTester.FOREST_INDUSTRY_ICON_LIST\n        );\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing an Esri Feature layer configuration using an invalid metadata URL.\n   * This test verifies that when an Esri Feature layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a `LayerServiceMetadataUnableToFetchError`.\n   */\n  testAddEsriFeatureBadUrl(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.FOREST_INDUSTRY_LAYER_ID;\n    const gvLayerName = 'Esri Feature Forest Industry';\n\n    // Test\n    return this.testError(\n      `Test Adding Esri Feature with bad url...`,\n      LayerServiceMetadataUnableToFetchError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = EsriFeature.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.FOREST_INDUSTRY_LAYER_ID },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion ESRI FEATURE\n\n  // #region ESRI IMAGE\n\n  /**\n   * Tests adding an EsriImage with Elevationlayer on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddEsriImageWithElevation(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.IMAGE_SERVER_ELEVATION_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.IMAGE_SERVER_ELEVATION_LAYER_ID;\n    const gvLayerName = 'Esri Image Elevation';\n\n    // Test\n    return this.test(\n      `Test Adding Esri Image Elevation on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = EsriImage.createGeoviewLayerConfigSimple(gvLayerId, gvLayerName, layerUrl, false);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests adding an EsriImage with USA layer on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddEsriImageWithUSA(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.IMAGE_SERVER_USA_URL;\n    const layerPathGroup = gvLayerId + '/base-group';\n    const layerPathCities = gvLayerId + '/base-group/' + GVAbstractTester.IMAGE_SERVER_USA_LAYER_ID_CITIES;\n    const layerPathRoads = gvLayerId + '/base-group/' + GVAbstractTester.IMAGE_SERVER_USA_LAYER_ID_ROADS;\n    const gvLayerName = 'Esri Image USA';\n\n    // Test\n    return this.test(\n      `Test Adding Esri Image USA on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = EsriImage.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          {\n            id: GVAbstractTester.IMAGE_SERVER_USA_LAYER_ID_CITIES,\n            layerName: 'Cities',\n          },\n          {\n            id: GVAbstractTester.IMAGE_SERVER_USA_LAYER_ID_ROADS,\n            layerName: 'Roads',\n          },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPathCities);\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPathRoads);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(test, this.getMapViewer(), layerPathCities);\n        LayerTester.helperStepAssertLayerExists(test, this.getMapViewer(), layerPathRoads);\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPathGroup);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing an Esri Image layer configuration using an invalid metadata URL.\n   * This test verifies that when an Esri Image layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a `LayerServiceMetadataUnableToFetchError`.\n   */\n  testAddEsriImageBadUrl(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL + '/' + GVAbstractTester.IMAGE_SERVER_ELEVATION_LAYER_ID + '/ImageServer'; // Has to be formatted like this, because we're guessing the layer id with url parsing!\n    const layerPath = gvLayerId + '/' + GVAbstractTester.IMAGE_SERVER_ELEVATION_LAYER_ID;\n    const gvLayerName = 'Esri Image Elevation';\n\n    // Test\n    return this.testError(\n      `Test Adding Esri Image with bad url...`,\n      LayerServiceMetadataUnableToFetchError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = EsriImage.createGeoviewLayerConfigSimple(gvLayerId, gvLayerName, layerUrl, false);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion ESRI IMAGE\n\n  // #region WMS\n\n  /**\n   * Tests adding a WMS Layer from OWS Mundialis on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddWMSLayerWithOWSMundialis(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.OWS_MUNDIALIS;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.OWS_MUNDIALIS_LAYER_ID;\n    const gvLayerName = 'OWS Mundialis';\n\n    // Test\n    return this.test(\n      `Test Adding WMS Mundialis on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = WMS.createGeoviewLayerConfig(\n          gvLayerId,\n          gvLayerName,\n          layerUrl,\n          undefined,\n          false,\n          [{ id: GVAbstractTester.OWS_MUNDIALIS_LAYER_ID }],\n          false\n        );\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath, undefined, false);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(test, this.getMapViewer(), layerPath, GVAbstractTester.OWS_MUNDIALIS_ICON_IMAGE);\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests adding an Esri Feature Forest Industry layer on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddWMSLayerWithDatacubeMSI(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.DATACUBE_MSI;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.DATACUBE_MSI_LAYER_NAME_MSI_OR_MORE;\n    const gvLayerName = 'Datacube MSI';\n\n    // Test\n    return this.test(\n      `Test Adding WMS Datacube MSI on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = WMS.createGeoviewLayerConfig(\n          gvLayerId,\n          gvLayerName,\n          layerUrl,\n          undefined,\n          false,\n          [{ id: GVAbstractTester.DATACUBE_MSI_LAYER_NAME_MSI_OR_MORE }],\n          false\n        );\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath, undefined, false);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(test, this.getMapViewer(), layerPath, GVAbstractTester.DATACUBE_MSI_ICON_IMAGE);\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests adding an Esri Feature Forest Industry layer on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddWMSLayerWithDatacubeRingOfFire(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.DATACUBE_RING_FIRE;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.DATACUBE_RING_FIRE_LAYER_ID_HALIFAX;\n    const gvLayerName = 'Halifax';\n\n    // Test\n    return this.test(\n      `Test Adding WMS Datacube Ring of Fire XML Halifax on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = WMS.createGeoviewLayerConfig(\n          gvLayerId,\n          gvLayerName,\n          layerUrl,\n          undefined,\n          false,\n          [{ id: GVAbstractTester.DATACUBE_RING_FIRE_LAYER_ID_HALIFAX }],\n          false\n        );\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath, undefined, false);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPath,\n          GVAbstractTester.DATACUBE_RING_FIRE_HALIFAX_ICON_IMAGE\n        );\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a WMS layer configuration using an invalid metadata URL.\n   * This test verifies that when an WMS layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerNoCapabilitiesError}.\n   * @returns {Promise<Test<LayerNoCapabilitiesError>>}\n   * A promise that resolves with the test result, expecting a `LayerNoCapabilitiesError`.\n   */\n  testAddWMSBadUrl(): Promise<Test<LayerNoCapabilitiesError>> {\n    // GV: In the case of a WMS, since a proxy is used when the url fails, and that proxy always returns a 200 response (with an internal error inside)\n    // GV: We can't really test the LayerServiceMetadataUnableToFetchError error exception.\n\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.DATACUBE_MSI_LAYER_NAME_MSI_OR_MORE;\n    const gvLayerName = 'Datacube MSI';\n\n    // Test\n    return this.testError(\n      `Test Adding WMS with bad url...`,\n      LayerServiceMetadataUnableToFetchError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = WMS.createGeoviewLayerConfig(\n          gvLayerId,\n          gvLayerName,\n          layerUrl,\n          undefined,\n          false,\n          [{ id: GVAbstractTester.DATACUBE_MSI_LAYER_NAME_MSI_OR_MORE }],\n          false\n        );\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion WMS\n\n  // #region WFS\n\n  /**\n   * Tests adding an WFS with Geomet Current Conditions layer on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddWFSLayerWithWithGeometCurrentConditions(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.GEOMET_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.GEOMET_URL_CURRENT_COND_LAYER_ID;\n    const gvLayerName = 'Current Conditions';\n\n    // Test\n    return this.test(\n      `Test Adding WFS with Geomet Current Conditions layer on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = WFS.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, 'all', [\n          { id: GVAbstractTester.GEOMET_URL_CURRENT_COND_LAYER_ID },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(test, this.getMapViewer(), layerPath, undefined, GVAbstractTester.GEOMET_ICON_LIST);\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a WMS layer configuration using an invalid metadata URL.\n   * This test verifies that when an WMS layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a `LayerServiceMetadataUnableToFetchError`.\n   */\n  testAddWFSBadUrl(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.GEOMET_URL_CURRENT_COND_LAYER_ID;\n    const gvLayerName = 'Current Conditions';\n\n    // Test\n    return this.testError(\n      `Test Adding WFS with bad url...`,\n      LayerServiceMetadataUnableToFetchError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = WFS.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, 'all', [\n          { id: GVAbstractTester.GEOMET_URL_CURRENT_COND_LAYER_ID },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a WFS layer configuration using an invalid metadata URL.\n   * This test verifies that when an WFS layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerNoCapabilitiesError}.\n   * @returns {Promise<Test<LayerNoCapabilitiesError>>}\n   * A promise that resolves with the test result, expecting a `LayerNoCapabilitiesError`.\n   */\n  testAddWFSOkayUrlNoCap(): Promise<Test<LayerNoCapabilitiesError>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.FAKE_URL_ALWAYS_RETURNING_RESPONSE_INSTEAD_OF_NETWORK_ERROR;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.GEOMET_URL_CURRENT_COND_LAYER_ID;\n    const gvLayerName = 'Current Conditions';\n\n    // Test\n    return this.testError(\n      `Test Adding WFS with okay url no capabilities...`,\n      LayerNoCapabilitiesError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = WFS.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, 'all', [\n          { id: GVAbstractTester.GEOMET_URL_CURRENT_COND_LAYER_ID },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion WFS\n\n  // #region GEOJSON\n\n  /**\n   * Tests adding a GeoJSON with Polygons layer on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddGeoJSONWithMetadataPolygons(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.GEOJSON_METADATA_META;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.GEOJSON_POLYGONS;\n    const gvLayerName = 'Polygons JSON';\n\n    // Test\n    return this.test(\n      `Test Adding GeoJSON with Metadata layer on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = GeoJSON.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.GEOJSON_POLYGONS },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPath,\n          undefined,\n          GVAbstractTester.GEOJSON_POLYGONS_ICON_LIST\n        );\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a GeoJSON layer configuration using an invalid metadata URL.\n   * This test verifies that when a GeoJSON layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerStatusErrorError}.\n   * @returns {Promise<Test<LayerStatusErrorError>>}\n   * A promise that resolves with the test result, expecting a `LayerStatusErrorError`.\n   */\n  testAddGeoJSONBadUrl(): Promise<Test<LayerStatusErrorError>> {\n    // GV: In the case of a GeoJSON, since we don't validate the url until we try to fetch the data,\n    // GV: we have to wait until the layer gets on the map and throws an error, which will since the layer can't reach the data.\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.GEOJSON_POLYGONS;\n    const gvLayerName = 'Polygons JSON';\n\n    // Test\n    return this.testError(\n      `Test Adding GeoJSON with bad url...`,\n      LayerStatusErrorError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = GeoJSON.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.GEOJSON_POLYGONS },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion GEOJSON\n\n  // #region GEOTIFF\n\n  /**\n   * Tests adding a GeoTIFF layer on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddGeotiffLayerWithDatacubeVegetation(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.GEOTIFF_VEGETATION;\n    const gvLayerName = 'Datacube Vegetation';\n    const layerPath = gvLayerId + '/' + GVAbstractTester.GEOTIFF_VEGETATION_FILE;\n\n    // Test\n    return this.test(\n      `Test Adding GeoTIFF Datacube Vegetation on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = GeoTIFF.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.GEOTIFF_VEGETATION_FILE },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready, wait longer than default timeout, because TIFF\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath, 60000, false);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        return LayerTester.helperStepAssertLayerExists(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a GeoTIFF layer configuration using an invalid metadata URL.\n   * This test verifies that when a GeoTIFF layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerStatusErrorError}.\n   * @returns {Promise<Test<LayerStatusErrorError>>}\n   * A promise that resolves with the test result, expecting a `LayerStatusErrorError`.\n   */\n  testAddGeoTIFFWithBadUrl(): Promise<Test<LayerStatusErrorError>> {\n    // GV: In the case of a GeoTIFF, since we don't validate the url until we try to fetch the data,\n    // GV: we have to wait until the layer gets on the map and throws an error, which will since the layer can't reach the data.\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.GEOTIFF_VEGETATION_FILE;\n    const gvLayerName = 'GeoTIFF Vegetation';\n\n    // Test\n    return this.testError(\n      `Test Adding GeoTIFF with bad url...`,\n      LayerStatusErrorError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = GeoTIFF.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.GEOTIFF_VEGETATION_FILE },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion GEOTIFF\n\n  // #region CSV\n\n  /**\n   * Tests adding a CSV with Station List layer on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddCSVWithStationList(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.CSV_STATION_LIST;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.CSV_STATION_LIST_FILE;\n    const gvLayerName = 'Station List CSV';\n\n    // Test\n    return this.test(\n      `Test Adding a CSV with Station List layer on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = CSV.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.CSV_STATION_LIST_FILE },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(test, this.getMapViewer(), layerPath, undefined, GVAbstractTester.CSV_STATION_ICON_LIST);\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a CSV layer configuration using an invalid metadata URL.\n   * This test verifies that when a CSV layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerStatusErrorError}.\n   * @returns {Promise<Test<LayerStatusErrorError>>}\n   * A promise that resolves with the test result, expecting a `LayerStatusErrorError`.\n   */\n  testAddCSVWithBadUrl(): Promise<Test<LayerStatusErrorError>> {\n    // GV: In the case of a CSV, since we don't validate the url until we try to fetch the data,\n    // GV: we have to wait until the layer gets on the map and throws an error, which will since the layer can't reach the data.\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.CSV_STATION_LIST_FILE;\n    const gvLayerName = 'Station List CSV';\n\n    // Test\n    return this.testError(\n      `Test Adding CSV with bad url...`,\n      LayerStatusErrorError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = CSV.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.CSV_STATION_LIST_FILE },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion CSV\n\n  // #region OGC Feature\n\n  /**\n   * Tests adding an OGC Feature layer with Pygeoapi on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddOGCFeatureWithPygeoapi(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.PYGEOAPI_B6RYUVAKK5;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.PYGEOAPI_B6RYUVAKK5_LAKES;\n    const gvLayerName = GVAbstractTester.PYGEOAPI_B6RYUVAKK5_LAKES;\n\n    // Test\n    return this.test(\n      `Test Adding an OGC Feature with Pygeoapi layer on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = OgcFeature.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.PYGEOAPI_B6RYUVAKK5_LAKES },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(\n          test,\n          this.getMapViewer(),\n          layerPath,\n          undefined,\n          GVAbstractTester.PYGEOAPI_B6RYUVAKK5_LAKES_ICON_LIST\n        );\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing an OGC Feature layer configuration using an invalid metadata URL.\n   * This test verifies that when an OGC Feature layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a `LayerServiceMetadataUnableToFetchError`.\n   */\n  testAddOGCFeatureWithBadUrl(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.PYGEOAPI_B6RYUVAKK5_LAKES;\n    const gvLayerName = GVAbstractTester.PYGEOAPI_B6RYUVAKK5_LAKES;\n\n    // Test\n    return this.testError(\n      `Test Adding OGC Feature with bad url...`,\n      LayerServiceMetadataUnableToFetchError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = OgcFeature.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [\n          { id: GVAbstractTester.PYGEOAPI_B6RYUVAKK5_LAKES },\n        ]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion OGC Feature\n\n  // #region WKB\n\n  /**\n   * Tests adding a WKB with South Africa on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddWKBWithSouthAfrica(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.WKB_SOUTH_AFRICA;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.WKB_SOUTH_AFRICA;\n    const gvLayerName = 'WKB South Africa';\n\n    // Test\n    return this.test(\n      `Test Adding a WKB with South Africa layer on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = WKB.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [{ id: GVAbstractTester.WKB_SOUTH_AFRICA }]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath, undefined, false);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing an WKB layer configuration using an invalid metadata URL.\n   * This test verifies that when an WKB layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerStatusErrorError}.\n   * @returns {Promise<Test<LayerStatusErrorError>>}\n   * A promise that resolves with the test result, expecting a `LayerStatusErrorError`.\n   */\n  testAddWKBWithBadUrl(): Promise<Test<LayerStatusErrorError>> {\n    // GV: In the case of a WKB, since we don't validate the url until we try to fetch the data,\n    // GV: we have to wait until the layer gets on the map and throws an error, which will since the layer can't reach the data.\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.WKB_SOUTH_AFRICA;\n    const gvLayerName = GVAbstractTester.WKB_SOUTH_AFRICA;\n\n    // Test\n    return this.testError(\n      `Test Adding WKB with bad url...`,\n      LayerStatusErrorError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = WKB.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [{ id: GVAbstractTester.WKB_SOUTH_AFRICA }]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion WKB\n\n  // #region KML\n\n  /**\n   * Tests adding a KML with Tornado on the map.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddKMLWithTornado(): Promise<Test<AbstractGVLayer>> {\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.KML_TORNADO;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.KML_TORNADO_FILE;\n    const gvLayerName = 'KML Tornado';\n\n    // Test\n    return this.test(\n      `Test Adding a KML with Tornado layer on map...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = KML.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [{ id: GVAbstractTester.KML_TORNADO_FILE }]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        return LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath, undefined, false);\n      },\n      (test) => {\n        // Perform assertions\n        // Redirect to helper to check if the layer exists\n        LayerTester.helperStepAssertLayerExists(test, this.getMapViewer(), layerPath);\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a KML layer configuration using an invalid metadata URL.\n   * This test verifies that when a KML layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerStatusErrorError}.\n   * @returns {Promise<Test<LayerStatusErrorError>>}\n   * A promise that resolves with the test result, expecting a `LayerStatusErrorError`.\n   */\n  testAddKMLWithBadUrl(): Promise<Test<LayerStatusErrorError>> {\n    // GV: In the case of a KML, since we don't validate the url until we try to fetch the data,\n    // GV: we have to wait until the layer gets on the map and throws an error, which will since the layer can't reach the data.\n    // Create a random geoview layer id\n    const gvLayerId = generateId();\n    const layerUrl = GVAbstractTester.BAD_URL;\n    const layerPath = gvLayerId + '/' + GVAbstractTester.KML_TORNADO_FILE;\n    const gvLayerName = GVAbstractTester.KML_TORNADO_FILE;\n\n    // Test\n    return this.testError(\n      `Test Adding KML with bad url...`,\n      LayerStatusErrorError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Create the config\n        const gvConfig = KML.createGeoviewLayerConfig(gvLayerId, gvLayerName, layerUrl, false, [{ id: GVAbstractTester.KML_TORNADO_FILE }]);\n\n        // Redirect to helper to add the layer to the map and wait\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), gvConfig);\n\n        // Find the layer and wait until its ready\n        await LayerTester.helperStepCheckLayerAtLayerPath(test, this.getMapViewer(), layerPath);\n      },\n      undefined,\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), layerPath);\n      }\n    );\n  }\n\n  // #endregion KML\n\n  // #region SETTINGS\n\n  /**\n   * Tests initial settings properly cascading to sub layers.\n   * @returns {Promise<Test<AbstractGeoViewLayer>>} A Promise that resolves when the test completes successfully.\n   */\n  testInitialSettingsCascade(): Promise<Test<TypeMapFeaturesInstance | undefined>> {\n    // The config\n    const config = GVAbstractTester.INITIAL_SETTINGS_CONFIG;\n\n    // Expected config\n    const expectedResults = {\n      groupHighlight: undefined,\n      groupRemove: false,\n      childHighlight: true,\n    };\n\n    // Test the WMS\n    return this.test(\n      'Test initial settings cascade',\n      async (test) => {\n        // Add the layer to the map and get the AbstractGeoViewLayer\n        await LayerTester.helperStepAddLayerOnMap(test, this.getMapViewer(), config as unknown as TypeGeoviewLayerConfig);\n\n        // Return created map config\n        return this.getMapViewer().createMapConfigFromMapState();\n      },\n      (test, result) => {\n        const layer = result?.map?.listOfGeoviewLayerConfig.find(\n          (geoviewLayer) => geoviewLayer.geoviewLayerId === config.geoviewLayerId\n        ) as TypeGeoviewLayerConfig;\n\n        // Perform assertions\n\n        test.addStep('Verifying group layer highlight control...');\n        Test.assertIsEqual(layer?.initialSettings?.controls?.highlight, expectedResults.groupHighlight);\n\n        test.addStep('Verifying group layer remove control...');\n        Test.assertIsEqual(\n          AbstractBaseLayerEntryConfig.getClassOrTypeInitialSettings(layer?.listOfLayerEntryConfig?.[0])?.controls?.remove,\n          expectedResults.groupRemove\n        );\n\n        test.addStep('Verifying child layer highlight control...');\n        Test.assertIsEqual(\n          AbstractBaseLayerEntryConfig.getClassOrTypeInitialSettings(layer?.listOfLayerEntryConfig?.[0]?.listOfLayerEntryConfig?.[0])\n            ?.controls?.highlight,\n          expectedResults.childHighlight\n        );\n      },\n      (test) => {\n        // Redirect to helper to clean up and assert\n        LayerTester.helperFinalizeStepRemoveLayerConfigAndAssert(test, this.getMapViewer(), 'geojsonLYR1/point-feature-group');\n      }\n    );\n  }\n\n  // #endregion SETTINGS\n\n  // #region HELPERS\n\n  /**\n   * Adds a GeoView layer to the map, waits for it to load completely, and returns the loaded layer instance.\n   * Each step of the process is logged into the provided test instance for traceability and debugging.\n   * @param {Test<AbstractGVLayer>} test - The test instance used to log each step in the layer setup process.\n   * @param {MapViewer} mapViewer - The map viewer to which the layer will be added.\n   * @param {TypeGeoviewLayerConfig} gvConfig - The configuration object defining the GeoView layer to be added.\n   * @returns {Promise<GeoViewLayerAddedResult>} A promise that resolves to the fully loaded GeoView layer instance.\n   * @static\n   */\n  static async helperStepAddLayerOnMap<T>(\n    test: Test<T>,\n    mapViewer: MapViewer,\n    gvConfig: TypeGeoviewLayerConfig\n  ): Promise<GeoViewLayerAddedResult> {\n    // Adding the layer on the map\n    test.addStep('Adding the layer on the map...');\n\n    // Add the geoview layer by geocore uuid\n    const result = mapViewer.layer.addGeoviewLayer(gvConfig);\n\n    // Creating the configuration\n    test.addStep('Waiting for the layer to be added...');\n\n    // Wait for the layer to be fully added on the map\n    await result.promiseLayer;\n\n    // Return the layer\n    return result;\n  }\n\n  /**\n   * Adds a GeoView layer to the map, waits for it to load completely, and returns the loaded layer instance.\n   * Each step of the process is logged into the provided test instance for traceability and debugging.\n   * @param {Test<AbstractGVLayer>} test - The test instance used to log each step in the layer setup process.\n   * @param {MapViewer} mapViewer - The map viewer to which the layer will be added.\n   * @param {TypeGeoviewLayerConfig} gvConfig - The configuration object defining the GeoView layer to be added.\n   * @returns {Promise<GeoViewLayerAddedResult | void>} A promise that resolves to the fully loaded GeoView layer instance.\n   * @static\n   */\n  static async helperStepAddLayerOnMapFromUUID<T>(\n    test: Test<T>,\n    mapViewer: MapViewer,\n    uuid: string\n  ): Promise<GeoViewLayerAddedResult | void> {\n    // Adding the layer on the map\n    test.addStep('Adding the layer on the map...');\n\n    // Add the geoview layer by geocore uuid\n    const result = await mapViewer.layer.addGeoviewLayerByGeoCoreUUID(uuid);\n\n    // Creating the configuration\n    test.addStep('Waiting for the layer to be added...');\n\n    // Wait for the layer to be fully added on the map\n    await result?.promiseLayer;\n\n    // Return the layer\n    return result;\n  }\n\n  /**\n   * Adds a GeoView layer to the map, waits for it to load completely, and returns the loaded layer instance.\n   * Each step of the process is logged into the provided test instance for traceability and debugging.\n   * @param {Test<AbstractGVLayer>} test - The test instance used to log each step in the layer setup process.\n   * @param {MapViewer} mapViewer - The map viewer to which the layer will be added.\n   * @param {string} layerPath - The unique path or ID used to retrieve the added layer from the map viewer.\n   * @param {number} timeoutOnLoad - A timeout for the period to wait for the layer to be loaded. Defaults to 30,000 ms.\n   * @param {boolean} [waitStyle] - Indicates if should wait for the style to be applied (expecting a style icon). Default: true.\n   * @returns {Promise<AbstractGVLayer>} A promise that resolves to the fully loaded GeoView layer instance.\n   * @static\n   */\n  static async helperStepCheckLayerAtLayerPath<T>(\n    test: Test<T>,\n    mapViewer: MapViewer,\n    layerPath: string,\n    timeoutOnLoad: number = 30000,\n    waitStyle: boolean = true\n  ): Promise<AbstractGVLayer> {\n    // Creating the configuration\n    test.addStep(`Find the layer ${layerPath} on the map...`);\n\n    // Get the layer\n    const layer = mapViewer.layer.getGeoviewLayer(layerPath) as AbstractGVLayer;\n\n    // Creating the configuration\n    test.addStep(`Waiting for the layer to be loaded...`);\n\n    // Wait until the layer has at least loaded once\n    await layer.waitLoadedOnce(timeoutOnLoad);\n\n    // Wait until the legend has been fetched\n    test.addStep(`Wait for the legend to be fetched...`);\n    await layer.waitLegendFetched();\n\n    // Wait until the style has been applied\n    if (waitStyle) {\n      test.addStep(`Wait for the style to be applied...`);\n      await layer.waitStyleApplied();\n    }\n\n    // Return the layer\n    return layer;\n  }\n\n  /**\n   * Asserts that a layer with the given path exists in the map's legend store.\n   * Logs the verification step in the test instance.\n   * If `checkIconImage` or `checkIconsList` is provided, this method will also\n   * verify that the layer's style has been applied by delegating to\n   * `helperStepAssertStyleApplied`.\n   * @param {Test<AbstractGVLayer>} test - The test instance used to record the verification steps.\n   * @param {MapViewer} mapViewer - The map viewer instance containing the layer store.\n   * @param {string} layerPath - The path or ID of the layer to verify.\n   * @param {string} [checkIconImage] - Optional expected icon image.\n   *   If provided, the function will additionally check that the legend contains a matching icon.\n   * @param {Partial<TypeLegendItem>[]} [checkIconsList] - Optional list of expected legend icon items.\n   *   If provided, the function will additionally verify that the legend's icon list matches this array.\n   * @static\n   */\n  static helperStepAssertLayerExists(\n    test: Test<AbstractGVLayer>,\n    mapViewer: MapViewer,\n    layerPath: string,\n    checkIconImage?: string,\n    checkIconsList?: Partial<TypeLegendItem>[]\n  ): void {\n    // Get the layer legend\n    const legendLayer = LegendEventProcessor.getLegendLayerInfo(mapViewer.mapId, layerPath);\n\n    // Verify the layer has a legend information\n    test.addStep(`Verify the layer ${layerPath} has legend information...`);\n    Test.assertIsDefined('legendLayer', legendLayer);\n\n    // If checking the style\n    if (checkIconImage || checkIconsList) {\n      // Redirect\n      this.helperStepAssertStyleApplied(test, mapViewer, layerPath, checkIconImage, checkIconsList);\n    }\n  }\n\n  /**\n   * Asserts that a layer with the given path has icons for its style.\n   * Logs the verification step in the test instance.\n   * This validates that the layer's legend contains at least one icon and that the\n   * first icon indicates a valid style (i.e., the icon image is present and not `\"no data\"`).\n   * Optionally validates:\n   * - that the first icon's image matches `checkIconImage`\n   * - that the first icon's list of legend items matches `checkIconsList`\n   *\n   * @param {Test<AbstractGVLayer>} test - The test instance used to record the verification steps.\n   * @param {MapViewer} mapViewer - The map viewer instance containing the layer store.\n   * @param {string} layerPath - The path or ID of the layer whose style icons are being verified.\n   * @param {string} [checkIconImage] - Optional expected icon image to validate against the legend.\n   * @param {Partial<TypeLegendItem>[]} [checkIconsList] - Optional expected list of legend icon items.\n   * @static\n   */\n  static helperStepAssertStyleApplied(\n    test: Test<AbstractGVLayer>,\n    mapViewer: MapViewer,\n    layerPath: string,\n    checkIconImage?: string,\n    checkIconsList?: Partial<TypeLegendItem>[]\n  ): void {\n    // Get the layer legend from the store\n    const legendLayer = LegendEventProcessor.getLegendLayerInfo(mapViewer.mapId, layerPath);\n\n    // Verify the icon were also loaded for the layer\n    test.addStep(`Verify the icons were loaded for the layer...`);\n    Test.assertIsArrayLengthMinimal(legendLayer?.icons, 1);\n\n    // Take the first one\n    const firstIcon = legendLayer!.icons[0];\n    const hasStyleIcon = firstIcon.iconImage && firstIcon.iconImage !== 'no data';\n    Test.assertIsEqual(hasStyleIcon, true);\n\n    // If checking the icon image\n    if (checkIconImage) {\n      // Verify the layer has icon image\n      test.addStep(`Verify the legend has an icon image...`);\n      Test.assertIsEqual(firstIcon.iconImage, checkIconImage);\n    }\n\n    // If comparing the icons list\n    if (checkIconsList && firstIcon.iconList) {\n      // Verify the layer has icons list\n      test.addStep(`Verify each legend icon information...`);\n      Test.assertIsArrayEqualJsons(firstIcon.iconList, checkIconsList);\n    }\n  }\n\n  /**\n   * Removes a layer from the map using its path and asserts that it no longer exists in the legend store.\n   * Each step is logged to the provided test instance for traceability.\n   * @param {Test<AbstractGVLayer>} test - The test instance used to record each step of the removal process.\n   * @param {MapViewer} mapViewer - The map viewer instance from which the layer is removed.\n   * @param {string} layerPath - The unique path or ID of the layer to be removed.\n   * @static\n   */\n  static helperFinalizeStepRemoveLayerAndAssert<T>(test: Test<T>, mapViewer: MapViewer, layerPath: string): void {\n    // Check that the layer is indeed there\n    test.addStep(`Checking the layer path ${layerPath} exists on the map...`);\n    Test.assertArrayIncludes(mapViewer.layer.getGeoviewLayerPaths(), layerPath);\n\n    // Remove the added layer\n    test.addStep(`Removing the layer ${layerPath} from the map...`);\n    mapViewer.layer.removeLayerUsingPath(layerPath);\n\n    // Check the removal worked\n    test.addStep(`Check that the layer is indeed removed...`);\n    const legendLayers = LegendEventProcessor.getLegendLayers(mapViewer.mapId);\n    Test.assertArrayExcludes(\n      legendLayers.map((legendLayer) => legendLayer.layerPath),\n      layerPath\n    );\n  }\n\n  /**\n   * Removes a layer from the map using its path and asserts that it no longer exists in the legend store.\n   * Each step is logged to the provided test instance for traceability.\n   * @param {Test<AbstractGVLayer>} test - The test instance used to record each step of the removal process.\n   * @param {MapViewer} mapViewer - The map viewer instance from which the layer is removed.\n   * @param {string} geoviewLayerId - The geoview layer id of the layer config to be removed.\n   * @static\n   */\n  static helperFinalizeStepRemoveLayerConfigAndAssert<T>(test: Test<T>, mapViewer: MapViewer, geoviewLayerId: string): void {\n    // Check that the layer is indeed there\n    test.addStep(`Checking the geoview layer ${geoviewLayerId} exists on the map...`);\n    Test.assertIsDefined('layerEntryConfig ' + geoviewLayerId, mapViewer.layer.getLayerEntryConfigIfExists(geoviewLayerId));\n\n    // Remove the added layer\n    test.addStep(`Removing the geoview layer ${geoviewLayerId} from the map...`);\n    mapViewer.layer.removeLayerUsingPath(geoviewLayerId);\n\n    // Validate that it's gone\n    test.addStep(`Validate that the layer is indeed gone...`);\n    Test.assertIsUndefined('layerEntryConfig ' + geoviewLayerId, mapViewer.layer.getLayerEntryConfigIfExists(geoviewLayerId));\n  }\n\n  // #endregion HELPERS\n}\n","/* eslint-disable max-classes-per-file */\n\nimport type { ClassType } from 'geoview-core/core/types/global-types';\n\n/**\n * Custom error to indicate that an test execution (not an Assertion) has failed.\n * @extends {Error}\n */\nexport class TestError extends Error {\n  /**\n   * Creates a new TestError.\n   * @param {string} message - Error message.\n   */\n  constructor(message: string = 'Test failed') {\n    // Call the base Error constructor with the provided message\n    super(message);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'TestError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, TestError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, TestError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that a test suite is currently running and shouldn't be interfered with.\n * @extends {Error}\n */\nexport class TestSuiteRunningError extends Error {\n  /**\n   * Creates a new TestSuiteRunningError.\n   * @param {string} message - Error message.\n   */\n  constructor(message: string = 'The Test Suite is currently running.') {\n    // Call the base Error constructor with the provided message\n    super(message);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'TestSuiteRunningError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, TestSuiteRunningError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, TestSuiteRunningError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that a test suite cannot execute, failing its preconditions.\n * @extends {Error}\n */\nexport class TestSuiteCannotExecuteError extends Error {\n  /**\n   * Creates a new TestSuiteCannotExecuteError.\n   */\n  constructor(message = 'The Test Suite cannot be executed.') {\n    // Call the base Error constructor with the provided message\n    super(message);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'TestSuiteCannotExecuteError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, TestSuiteCannotExecuteError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, TestSuiteCannotExecuteError.prototype);\n  }\n}\n\n/**\n * Abstract Assertion Error to indicate that an assertion check has failed.\n * @extends {Error}\n */\nexport abstract class AssertionError extends Error {\n  /**\n   * Creates a new AssertionError.\n   * @param {string} message - Error message.\n   * @param {unknown | undefined} actual - Actual value.\n   * @param {unknown | undefined} expected - Expected value.\n   */\n  protected constructor(\n    message: string = 'Assertion failed',\n    public actual?: unknown,\n    public expected?: unknown\n  ) {\n    // Call the base Error constructor with the provided message\n    super(message);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that a value wasn't as expected.\n * @extends {AssertionError}\n */\nexport class AssertionValueError extends AssertionError {\n  /**\n   * Creates a new AssertionValueError.\n   * @param {unknown} actual - Actual value.\n   * @param {unknown} expected - Expected value.\n   */\n  constructor(actual: unknown, expected: unknown) {\n    // Call the base Error constructor with the provided message\n    super(`Value is '${actual}', expected was '${expected}'.`, actual, expected);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionValueError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionValueError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionValueError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that a value wasn't as expected.\n * @extends {AssertionError}\n */\nexport class AssertionValueDifferentError extends AssertionError {\n  /**\n   * Creates a new AssertionValueError.\n   * @param {unknown} actual - Actual value.\n   */\n  constructor(actual: unknown) {\n    // Call the base Error constructor with the provided message\n    super(`Value is '${actual}', and was expected to be different.`, actual, actual);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionValueDifferentError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionValueDifferentError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionValueDifferentError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that a value is not an array when expected to be.\n * @extends {AssertionError}\n */\nexport class AssertionValueNotAnArrayError extends AssertionError {\n  /**\n   * Creates a new AssertionValueNotAnArrayError.\n   * @param {unknown} actual - Actual value.\n   */\n  constructor(actual: unknown) {\n    // Call the base Error constructor with the provided message\n    super(`Value is not an array, got '${typeof actual}'.`, actual, 'Array');\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionValueNotAnArrayError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionValueNotAnArrayError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionValueNotAnArrayError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that a test was manually failed by the developer.\n * @extends {AssertionError}\n */\nexport class AssertionManualFailError extends AssertionError {\n  /**\n   * Creates a new AssertionManualFailError.\n   * @param {string} message - Custom message explaining why the test was manually failed.\n   */\n  constructor(message: string = 'Test manually failed') {\n    // Call the base Error constructor with the provided message\n    super(message);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionManualFailError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionManualFailError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionManualFailError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that a value was unexpectedly undefined.\n * @extends {AssertionError}\n */\nexport class AssertionUndefinedError extends AssertionError {\n  /**\n   * Creates a new AssertionUndefinedError.\n   * @param {string} propertyPath - The name or path of the property that was undefined.\n   */\n  constructor(propertyPath: string) {\n    // Call the base Error constructor with the provided message\n    super(`Value for '${propertyPath}' was undefined.`, undefined, undefined);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionUndefinedError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionUndefinedError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionUndefinedError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that a value was unexpectedly defined.\n * @extends {AssertionError}\n */\nexport class AssertionDefinedError extends AssertionError {\n  /**\n   * Creates a new AssertionDefinedError.\n   * @param {string} propertyPath - The name or path of the property that was undefined.\n   */\n  constructor(propertyPath: string, actualValue: unknown) {\n    // Call the base Error constructor with the provided message\n    super(`Value for '${propertyPath}' was defined.`, actualValue, undefined);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionDefinedError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionDefinedError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionDefinedError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that a value was of wrong instance.\n * @extends {AssertionError}\n */\nexport class AssertionWrongInstanceError<T> extends AssertionError {\n  /**\n   * Creates a new AssertionWrongInstanceError.\n   * @param {any} actualObject - The actual object.\n   * @param {Type} expectedClassType - The expected class.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(actualObject: any, expectedClassType: ClassType<T>) {\n    // Call the base Error constructor with the provided message\n    super(\n      `Value class instance is '${actualObject.constructor.name}', expected was '${expectedClassType.name}'.`,\n      actualObject,\n      expectedClassType\n    );\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionWrongInstanceError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionWrongInstanceError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionWrongInstanceError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that no Error was thrown when one was expected (true negative tests).\n * @extends {AssertionError}\n */\nexport class AssertionNoErrorThrownError<T> extends AssertionError {\n  /**\n   * Creates a new AssertionNoErrorThrownError.\n   * @param {Type} expectedClassType - The expected class.\n   */\n  constructor(expectedClassType: ClassType<T>) {\n    // Call the base Error constructor with the provided message\n    super(`No error was thrown when an error '${expectedClassType.name}' was expected.`, undefined, expectedClassType);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionNoErrorThrownError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionNoErrorThrownError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionNoErrorThrownError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that an error was of wrong instance.\n * @extends {AssertionError}\n */\nexport class AssertionWrongErrorInstanceError<T> extends AssertionError {\n  /**\n   * Creates a new AssertionWrongErrorInstanceError.\n   * @param {Error} actualError - The actual error object.\n   * @param {Type} expectedClassType - The expected class.\n   */\n  constructor(actualError: Error, expectedClassType: ClassType<T>) {\n    // Call the base Error constructor with the provided message\n    super(\n      `Error '${actualError.message}' instance is '${actualError.constructor.name}', expected was '${expectedClassType.name}'.`,\n      actualError,\n      expectedClassType\n    );\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionWrongErrorInstanceError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionWrongErrorInstanceError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionWrongErrorInstanceError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that an array did not have the expected length.\n * @extends {AssertionError}\n */\nexport class AssertionArrayLengthError extends AssertionError {\n  /**\n   * Creates a new AssertionArrayLengthError.\n   * @param {number | undefined} actualLength - Actual array length.\n   * @param {number} expectedLength - Expected array length.\n   */\n  constructor(actualLength: number | undefined, expectedLength: number) {\n    // Call the base Error constructor with the provided message\n    super(`Array length is ${actualLength}, expected was ${expectedLength}`, actualLength, expectedLength);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionArrayLengthError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionArrayLengthError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionArrayLengthError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that an array did not have the minimum expected length.\n * @extends {AssertionError}\n */\nexport class AssertionArrayLengthMinimalError extends AssertionError {\n  /**\n   * Creates a new AssertionArrayLengthMinimalError.\n   * @param {number | undefined} actualLength - Actual array length.\n   * @param {number} expectedLength - Expected array length.\n   */\n  constructor(actualLength: number | undefined, expectedLength: number) {\n    // Call the base Error constructor with the provided message\n    super(`Array length is ${actualLength}, expected was at least ${expectedLength}`, actualLength, expectedLength);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionArrayLengthMinimalError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionArrayLengthMinimalError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionArrayLengthMinimalError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that an array did not include the expected value (so the inclusion failed).\n * @extends {AssertionError}\n */\nexport class AssertionArrayIncludingError<T> extends AssertionError {\n  /**\n   * Creates a new AssertionArrayIncludingError.\n   * @param {T[] | undefined} array - Actual array.\n   * @param {T} expectedValue - Expected value in the array.\n   */\n  constructor(array: T[] | undefined, expectedValue: T) {\n    // Call the base Error constructor with the provided message\n    super(`Array does not include ${expectedValue}`, array, expectedValue);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionArrayIncludingError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionArrayIncludingError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionArrayIncludingError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that an array did included a particular value (so the exclusion failed).\n * @extends {AssertionError}\n */\nexport class AssertionArrayExcludingError<T> extends AssertionError {\n  /**\n   * Creates a new AssertionArrayExcludingError.\n   * @param {T[] | undefined} array - Actual array.\n   * @param {T} expectedValue - Expected value in the array.\n   */\n  constructor(array: T[] | undefined, expectedValue: T) {\n    // Call the base Error constructor with the provided message\n    super(`Array includes ${expectedValue}`, array, expectedValue);\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionArrayExcludingError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionArrayExcludingError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionArrayExcludingError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that two arrays are not equal (they differ at a specific position).\n * @extends {AssertionError}\n */\nexport class AssertionArraysNotEqualError<T> extends AssertionError {\n  /**\n   * Creates a new AssertionArraysNotEqualError.\n   * @param {T[] | undefined} array1 - First array (expected).\n   * @param {T[] | undefined} array2 - Second array (actual).\n   * @param {number} index - Index where the arrays differ.\n   * @param {T} expectedValue - Expected value at the index.\n   * @param {T} actualValue - Actual value at the index.\n   */\n  constructor(array1: T[] | undefined, array2: T[] | undefined, index: number, expectedValue: T, actualValue: T) {\n    // Call the base Error constructor with the provided message\n    super(\n      `The 2 provided arrays differ at position index ${index}, expected value was '${expectedValue}' but found '${actualValue}'.`,\n      array2,\n      array1\n    );\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionArraysNotEqualError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionArraysNotEqualError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionArraysNotEqualError.prototype);\n  }\n}\n\n/**\n * Custom error to indicate that an assertion check has failed.\n * @extends {AssertionError}\n */\nexport class AssertionJSONObjectError extends AssertionError {\n  /**\n   * Creates a new AssertionJSONObjectError.\n   * @param {string[]} mismatchesPaths - The mismatches.\n   * @param {unknown} actual - Actual value.\n   * @param {unknown} expected - Expected value.\n   */\n  constructor(mismatchesPaths: string[], actual: unknown, expected: unknown) {\n    // Call the base Error constructor with the provided message\n    super('JSON objects have different property/values than expected.', actual, expected);\n\n    // Format\n    const mismatches = mismatchesPaths.map((path) => `- ${path}`).join('\\n');\n\n    // If actual and expected values\n    if (mismatchesPaths) this.message += ` Mismatches are:\\n${mismatches}.`;\n\n    // Set a custom name for the error type to differentiate it from other error types\n    this.name = 'AssertionJSONObjectError';\n\n    // Capture the stack trace (V8-specific, e.g., Chrome and Node.js)\n    // Omits the constructor call from the trace for cleaner debugging\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AssertionJSONObjectError);\n    }\n\n    // Ensure the prototype chain is correct (required in some transpilation targets)\n    Object.setPrototypeOf(this, AssertionJSONObjectError.prototype);\n  }\n}\n","import type { API } from 'geoview-core/api/api';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport { TestSuiteCannotExecuteError } from '../core/exceptions';\nimport { GVAbstractTester } from '../testers/abstract-gv-tester';\nimport { GeochartTester } from '../testers/geochart-tester';\nimport { GVAbstractTestSuite } from './abstract-gv-test-suite';\n\n/**\n * The GeoView Test Suite.\n */\nexport class GVTestSuiteGeochart extends GVAbstractTestSuite {\n  /** The Geochart Tester used in this Test Suite */\n  #geochartTester: GeochartTester;\n\n  /**\n   * Constructs the Test Suite\n   * @param {API} api - The shared api\n   * @param {MapViewer} mapViewer - The map viewer\n   */\n  constructor(api: API, mapViewer: MapViewer) {\n    super(api, mapViewer);\n\n    // Create the Geochart tester\n    this.#geochartTester = new GeochartTester(api, mapViewer);\n    this.addTester(this.#geochartTester);\n  }\n\n  /**\n   * Returns the name of the Test Suite.\n   * @returns {string} The name of the Test Suite.\n   */\n  override getName(): string {\n    return 'Geochart Test Suite';\n  }\n\n  /**\n   * Returns the description of the Test Suite.\n   * @returns {string} The description of the Test Suite.\n   */\n  override getDescriptionAsHtml(): string {\n    return 'Test Suite to perform various Geochart related tests.';\n  }\n\n  /**\n   * Overrides the check if the Test Suite can be executed.\n   * @returns {Promise<boolean>} A Promise resolving to true when the Test Suite can be launched for the given map.\n   */\n  protected override onCanExecuteTestSuite(): Promise<boolean> {\n    // Check if the geochart plugin is part of the corePackage on the testing map\n    const plugins = this.getMapViewer().mapFeaturesConfig.footerBar?.tabs?.core || [];\n    if (!plugins.includes('geochart'))\n      throw new TestSuiteCannotExecuteError(\n        'To run this Test Suite, the geochart plugin has to be loaded in the footerBar tabs core array.'\n      );\n\n    // All good\n    return Promise.resolve(true);\n  }\n\n  /**\n   * Overrides the implementation to perform the tests for this Test Suite.\n   * @returns {Promise<unknown>} A Promise which resolves when tests are completed.\n   */\n  protected override async onLaunchTestSuite(): Promise<unknown> {\n    // Test Geochart\n    const pGeochartPolygons = this.#geochartTester.testGeochartOpenForLayerMapClick(\n      'geojsonLYR5/polygons.json',\n      GVAbstractTester.MANITOBA_CENTER_LONLAT\n    );\n\n    // Wait for the test with polygons to complete\n    await pGeochartPolygons;\n\n    // Test Geochart\n    const pGeochartAirborne = this.#geochartTester.testAddGeocoreLayerUUIDForGeochartAirborne();\n\n    // Resolve when all\n    return Promise.all([pGeochartPolygons, pGeochartAirborne]);\n  }\n}\n","import type { TypeGeoviewLayerType } from 'geoview-core/api/types/layer-schema-types';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport { Test } from '../core/test';\nimport { GVAbstractTester } from './abstract-gv-tester';\nimport { UIEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/ui-event-processor';\nimport { DataTableEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/data-table-event-processor';\nimport { LegendEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/legend-event-processor';\nimport { delay } from 'geoview-core/core/utils/utilities';\nimport { MapEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/map-event-processor';\n\n/**\n * Main Map Config testing class.\n * @extends {GVAbstractTester}\n */\nexport class MapConfigTester extends GVAbstractTester {\n  /**\n   * Returns the name of the Tester.\n   * @returns {string} The name of the Tester.\n   */\n  override getName(): string {\n    return 'MapConfigTester';\n  }\n\n  /**\n   * Test data table with selectedDataTableLayerPath - Layer pre-loaded in config\n   * This tests that the data table is created when a layer is specified in the config and data-table tab is selected\n   * @returns {Promise<Test>} A Promise that resolves when the test completes successfully.\n   */\n  testDataTableSelectedTabFooterBar(): Promise<Test> {\n    const mapId = this.getMapId();\n\n    // Test\n    return this.test(\n      'Test DataTable in footer bar with selectedDataTableLayerPath',\n      async (test) => {\n        // Create the mapViewer with footer bar config overrides\n        const footerBarConfig = {\n          tabs: { core: ['data-table'] },\n          selectedTab: 'data-table',\n          selectedDataTableLayerPath: 'geojsonLYR5/polygons.json',\n        };\n\n        const mapViewer = await this.#helperCreateMapConfig(test, mapId, [['footerBar', footerBarConfig]]);\n        return mapViewer;\n      },\n      (test) => {\n        // Verify the footer bar tab is selected\n        test.addStep('Verifying data-table tab is selected in footer bar...');\n        const activeTab = UIEventProcessor.getActiveFooterBarTab(mapId);\n        Test.assertIsEqual(activeTab, 'data-table');\n\n        // Verify the selected layer path in data table store\n        test.addStep('Verifying selectedLayerPath in data table store...');\n        const selectedLayerPath = DataTableEventProcessor.getSingleDataTableState(mapId, 'selectedLayerPath');\n        Test.assertIsEqual(selectedLayerPath, 'geojsonLYR5/polygons.json');\n\n        // Verify that layer data exists (table was created)\n        test.addStep('Verifying data table is defined...');\n        const allFeaturesData = DataTableEventProcessor.getSingleDataTableState(mapId, 'allFeaturesDataArray');\n        Test.assertIsDefined('allFeaturesDataArray', allFeaturesData);\n\n        // Verify if there is an array of data tables with content\n        test.addStep('Verifying if there is a data-table array with a table inside...');\n        Test.assertIsArray(allFeaturesData);\n        Test.assertIsArrayLengthMinimal(allFeaturesData, 1);\n\n        // Verify the number of features in the data table\n        test.addStep('Verifying number of features in data table...');\n        if ('features' in allFeaturesData[0]) {\n          Test.assertIsArrayLengthMinimal(allFeaturesData[0].features as unknown[], 4);\n        } else {\n          Test.assertFail('No data table OR features data found in data table.');\n        }\n      }\n    );\n  }\n\n  /**\n   * Test data table with selectedDataTableLayerPath - Layer pre-loaded in config\n   * This tests that the data table is created when a layer is specified in the config and data-table tab is selected in the app bar\n   * @returns {Promise<Test>} A Promise that resolves when the test completes successfully.\n   */\n  testDataTableSelectedTabAppBar(): Promise<Test> {\n    const mapId = this.getMapId();\n\n    // Test\n    return this.test(\n      'Test DataTable in app bar with selectedDataTableLayerPath',\n      async (test) => {\n        // Create the mapViewer with app bar config overrides\n        const appBarConfig = {\n          tabs: { core: ['data-table'] },\n          selectedTab: 'data-table',\n          selectedDataTableLayerPath: 'geojsonLYR5/polygons.json',\n        };\n\n        const mapViewer = await this.#helperCreateMapConfig(test, mapId, [['appBar', appBarConfig]]);\n        return mapViewer;\n      },\n      (test) => {\n        // Verify that data-table is not in footer tabs\n        test.addStep('Verifying data-table is selected in app bar...');\n        const activeTab = UIEventProcessor.getActiveAppBarTab(mapId);\n        Test.assertIsEqual(activeTab.tabId, 'data-table');\n\n        // Verify the selected layer path in data table store\n        test.addStep('Verifying selectedLayerPath in data table store...');\n        const selectedLayerPath = DataTableEventProcessor.getSingleDataTableState(mapId, 'selectedLayerPath');\n        Test.assertIsEqual(selectedLayerPath, 'geojsonLYR5/polygons.json');\n\n        // Verify that layer data exists (table was created)\n        test.addStep('Verifying data table is defined...');\n        const allFeaturesData = DataTableEventProcessor.getSingleDataTableState(mapId, 'allFeaturesDataArray');\n        Test.assertIsDefined('allFeaturesDataArray', allFeaturesData);\n\n        // Verify if there is an array of data tables with content\n        test.addStep('Verifying if there si a data-table array with a table inside...');\n        Test.assertIsArray(allFeaturesData);\n        Test.assertIsArrayLengthMinimal(allFeaturesData, 1);\n\n        // Verify the number of features in the data table\n        test.addStep('Verifying number of features in data table...');\n        if ('features' in allFeaturesData[0]) {\n          Test.assertIsArrayLengthMinimal(allFeaturesData[0].features as unknown[], 4);\n        } else {\n          Test.assertFail('No data table OR features data found in data table.');\n        }\n      }\n    );\n  }\n\n  /**\n   * Test that no footerBar or app bar objects in config results in default footer bar tabs (layers, data-table)\n   * and default app bar tabs (geolocator, legend, details, export)\n   * @returns {Promise<Test>} A Promise that resolves when the test completes successfully.\n   */\n  testNoFooterBarAppBarConfigHasDefaults(): Promise<Test> {\n    const mapId = this.getMapId();\n\n    // Test\n    return this.test(\n      'Test no footerBar or app bar config creates default tabs (layers, data-table) and (geolocator, legend, details, export)',\n      async (test) => {\n        // Create the mapViewer with footerBar and appBar removed\n        const mapViewer = await this.#helperCreateMapConfig(test, mapId, [\n          ['footerBar', null],\n          ['appBar', null],\n        ]);\n\n        return mapViewer;\n      },\n      (test) => {\n        // Verify that footer bar exists with default tabs\n        test.addStep('Verifying footer bar has default tabs...');\n        const footerBarTabs = UIEventProcessor.getFooterBarComponents(mapId);\n        Test.assertIsDefined('footerBarTabs', footerBarTabs);\n\n        // Verify default tabs are present (layers, data-table)\n        test.addStep('Verifying default tabs include layers, data-table');\n        Test.assertIsArrayEqual(footerBarTabs, ['layers', 'data-table']);\n\n        // Verify that app bar exists with default tabs\n        test.addStep('Verifying app bar has default tabs...');\n        const appBarTabs = UIEventProcessor.getAppBarComponents(mapId);\n        Test.assertIsDefined('appBarTabs', appBarTabs);\n\n        // Verify default tabs are present (geolocator, legend, details, export)\n        test.addStep('Verifying default tabs include geolocator, legend, details, export');\n        Test.assertIsArrayEqual(appBarTabs, ['geolocator', 'legend', 'details', 'export']);\n      }\n    );\n  }\n\n  /**\n   * Test that footerBar/appBar with empty tabs array results in no footer bar an empty app bar\n   * @returns {Promise<Test>} A Promise that resolves when the test completes successfully.\n   */\n  testEmptyFooterBarAppBarTabsHasNoFooter(): Promise<Test> {\n    const mapId = this.getMapId();\n\n    // Test\n    return this.test(\n      'Test footerBar with empty tabs array has no footer bar',\n      async (test) => {\n        // Create the mapViewer with empty tabs arrays\n        const emptyTabsConfig = { tabs: { core: [] } };\n        const mapViewer = await this.#helperCreateMapConfig(test, mapId, [\n          ['footerBar', emptyTabsConfig],\n          ['appBar', emptyTabsConfig],\n        ]);\n\n        return mapViewer;\n      },\n      (test) => {\n        // Verify that footer bar has no tabs\n        test.addStep('Verifying footer bar has no tabs...');\n        const footerBarTabs = UIEventProcessor.getFooterBarComponents(mapId);\n        Test.assertIsArrayLengthEqual(footerBarTabs, 0);\n\n        // Verify that app bar has no tabs\n        test.addStep('Verifying app bar has no tabs...');\n        const appBarTabs = UIEventProcessor.getAppBarComponents(mapId);\n        Test.assertIsArrayLengthEqual(appBarTabs, 0);\n      }\n    );\n  }\n\n  /**\n   * Test that no navBar config value results in default navigation controls\n   * @returns {Promise<Test>} A Promise that resolves when the test completes successfully.\n   */\n  testNoNavBarHasDefaults(): Promise<Test> {\n    const mapId = this.getMapId();\n\n    // Test\n    return this.test(\n      'Test no navBar config value creates default navigation controls',\n      async (test) => {\n        // Create the mapViewer with navBar removed (null)\n        const mapViewer = await this.#helperCreateMapConfig(test, mapId, [['navBar', null]]);\n\n        return mapViewer;\n      },\n      (test) => {\n        // Verify that navBar exists with default controls\n        test.addStep('Verifying navBar has default controls...');\n        const navBarComponents = UIEventProcessor.getNavBarComponents(mapId);\n        Test.assertIsDefined('navBarComponents', navBarComponents);\n\n        // Verify default controls are present\n        test.addStep('Verifying default controls exist in navBar...');\n        Test.assertIsArrayEqual(navBarComponents, ['zoom', 'rotation', 'fullscreen', 'home', 'basemap-select']);\n      }\n    );\n  }\n\n  /**\n   * Test that navBar with empty array results in only zoom and rotate controls\n   * @returns {Promise<Test>} A Promise that resolves when the test completes successfully.\n   */\n  testEmptyNavBarHasZoomRotate(): Promise<Test> {\n    const mapId = this.getMapId();\n\n    // Test\n    return this.test(\n      'Test navBar with empty array has only zoom and rotate',\n      async (test) => {\n        // Create the mapViewer with empty navBar array\n        const mapViewer = await this.#helperCreateMapConfig(test, mapId, [['navBar', []]]);\n\n        return mapViewer;\n      },\n      (test) => {\n        // Verify that navBar exists\n        test.addStep('Verifying navBar exists...');\n        const navBarComponents = UIEventProcessor.getNavBarComponents(mapId);\n        Test.assertIsDefined('navBarComponents', navBarComponents);\n\n        // Verify no buttons are present\n        test.addStep('Verifying navBar has empty controls array...');\n        Test.assertIsArrayEqual(navBarComponents, []);\n      }\n    );\n  }\n\n  /**\n   * Test that initial view with layerIds sets map extent to layer extent\n   * @returns {Promise<Test>} A Promise that resolves when the test completes successfully.\n   */\n  testInitialViewLayerIdsSetExtent(): Promise<Test> {\n    const mapId = this.getMapId();\n\n    // Test\n    return this.test<MapViewer>(\n      'Test initial view with layerIds sets map extent to layer extent',\n      async (test) => {\n        // Replace initialView with layerIds only\n        const initialViewConfig = { layerIds: ['geojsonLYR5/polygons.json'] };\n\n        const mapViewer = await this.#helperCreateMapConfig(test, mapId, [['map.viewSettings.initialView', initialViewConfig]]);\n        return mapViewer;\n      },\n      async (test, newMapViewer) => {\n        // Get the map extent\n        test.addStep('Getting map extent...');\n        const mapExtent = newMapViewer.getView().calculateExtent();\n        Test.assertIsDefined('mapExtent', mapExtent);\n\n        // Get the layer bounds\n        test.addStep('Getting layer bound extent...');\n        const geoviewLayer = newMapViewer.layer.getGeoviewLayer('geojsonLYR5/polygons.json');\n        Test.assertIsDefined('geoviewLayer', geoviewLayer);\n        const layerExtent = LegendEventProcessor.getLayerBounds(this.getMapId(), 'geojsonLYR5/polygons.json');\n        Test.assertIsArray(layerExtent);\n\n        await delay(2000);\n\n        test.addStep('Getting map extent after zoom...');\n        const mapExtentLayer = newMapViewer.getView().calculateExtent();\n        Test.assertIsDefined('mapExtent', mapExtentLayer);\n\n        // Verify map extent is approximately equal to layer extent\n        test.addStep('Verifying map extent matches layer extent east-west and north-south delta are equal...');\n        Test.assertIsEqual<Number>(\n          Math.round(Math.abs(mapExtentLayer[0] - layerExtent[0])),\n          Math.round(Math.abs(mapExtentLayer[2] - layerExtent[2]))\n        );\n        Test.assertIsEqual<Number>(\n          Math.round(Math.abs(mapExtentLayer[1] - layerExtent[1])),\n          Math.round(Math.abs(mapExtentLayer[3] - layerExtent[3]))\n        );\n      }\n    );\n  }\n\n  /**\n   * Test that overlayObjects with pointMarkers are created on the map\n   * @returns {Promise<Test>} A Promise that resolves when the test completes successfully.\n   */\n  testOverlayObjectsPointMarkers(): Promise<Test> {\n    const mapId = this.getMapId();\n\n    // Test\n    return this.test<MapViewer>(\n      'Test overlayObjects with pointMarkers are created',\n      async (test) => {\n        // Create overlay objects configuration\n        const overlayObjectsConfig = {\n          pointMarkers: {\n            cities: [\n              {\n                id: 'ottawa',\n                coordinate: [-75.6972, 45.4215],\n                color: '#FF0000',\n                opacity: 0.8,\n              },\n              {\n                id: 'toronto',\n                coordinate: [-79.3832, 43.6532],\n                color: '#0000FF',\n                opacity: 0.8,\n              },\n            ],\n          },\n        };\n\n        const mapViewer = await this.#helperCreateMapConfig(test, mapId, [['map.overlayObjects', overlayObjectsConfig]]);\n        return mapViewer;\n      },\n      (test) => {\n        // Verify that overlay pointsMMarkers objects exist\n        test.addStep('Verifying pointMarkers objects are defined...');\n        const pointsMMarkers = MapEventProcessor.getPointMarkers(mapId);\n        Test.assertIsDefined('pointMarkers', pointsMMarkers);\n\n        // Verify cities group exists\n        test.addStep('Verifying cities pointMarkers group exists...');\n        const cities = pointsMMarkers?.cities;\n        Test.assertIsDefined('cities', pointsMMarkers.cities);\n\n        // Verify Ottawa marker\n        test.addStep('Verifying Ottawa marker exists...');\n        const ottawaMarker = cities?.find((marker: { id: string }) => marker.id === 'ottawa');\n        Test.assertIsDefined('ottawaMarker', ottawaMarker);\n\n        // Verify Toronto marker\n        test.addStep('Verifying Toronto marker exists...');\n        const torontoMarker = cities?.find((marker: { id: string }) => marker.id === 'toronto');\n        Test.assertIsDefined('torontoMarker', torontoMarker);\n\n        // Verify number of markers\n        test.addStep('Verifying there are 2 city markers...');\n        Test.assertIsArrayLengthEqual(cities, 2);\n      }\n    );\n  }\n\n  /**\n   * Test that viewSettings minZoom and maxZoom constraints are enforced\n   * @returns {Promise<Test>} A Promise that resolves when the test completes successfully.\n   */\n  testViewSettingsZoomConstraints(): Promise<Test> {\n    const mapId = this.getMapId();\n\n    // Test\n    return this.test<MapViewer>(\n      'Test viewSettings minZoom and maxZoom constraints',\n      async (test) => {\n        // Create view settings configuration with zoom constraints\n        const viewSettingsConfig = {\n          minZoom: 6,\n          maxZoom: 8,\n          projection: 3978,\n        };\n\n        const mapViewer = await this.#helperCreateMapConfig(test, mapId, [['map.viewSettings', viewSettingsConfig]]);\n        return mapViewer;\n      },\n      async (test, mapViewer) => {\n        // Get the map view\n        const view = mapViewer.getView();\n\n        // Test zooming to minimum allowed zoom (6)\n        test.addStep('Testing zoom to minimum allowed level (6)...');\n        await mapViewer.setMapZoomLevel(6);\n        const zoomAt6 = view.getZoom();\n        Test.assertIsEqual(zoomAt6, 6);\n\n        // Test zooming below minimum (4) - should be constrained to minZoom\n        test.addStep('Testing zoom below minimum level (4) - should be constrained...');\n        await mapViewer.setMapZoomLevel(4);\n        const zoomAt4 = view.getZoom();\n        Test.assertIsEqual(zoomAt4, 6); // Should be constrained to minZoom\n\n        // Test zooming to maximum allowed zoom (8)\n        test.addStep('Testing zoom to maximum allowed level (8)...');\n        await mapViewer.setMapZoomLevel(8);\n        const zoomAt8 = view.getZoom();\n        Test.assertIsEqual(zoomAt8, 8);\n\n        // Test zooming above maximum (10) - should be constrained to maxZoom\n        test.addStep('Testing zoom above maximum level (10) - should be constrained...');\n        await mapViewer.setMapZoomLevel(10);\n        const zoomAt10 = view.getZoom();\n        Test.assertIsEqual(zoomAt10, 8); // Should be constrained to maxZoom\n      }\n    );\n  }\n\n  /**\n   * Helper function to create a basic map configuration with optional overrides.\n   * @param {[string, unknown][] | [string, unknown]} overrides - Can be:\n   *   - Array of [path, value] pairs:\n   *     [['footerBar', { tabs: { core: ['data-table'] }, selectedTab: 'data-table' }]]\n   *   - Single [path, value] pair:\n   *     ['map.viewSettings.initialView', { layerIds: ['geojsonLYR5/polygons.json'] }]\n   * @returns {Promise<MapViewer>} The created map viewer\n   * @private\n   */\n  async #helperCreateMapConfig(test: Test, mapId: string, overrides: [string, unknown][] | [string, unknown] = []): Promise<MapViewer> {\n    const baseConfig = {\n      map: {\n        interaction: 'dynamic',\n        viewSettings: { projection: 3978, initialView: { zoomAndCenter: [4.5, [-90, 60]] } },\n        basemapOptions: { basemapId: 'transport', shaded: true, labeled: true },\n        listOfGeoviewLayerConfig: [\n          {\n            geoviewLayerId: 'geojsonLYR5',\n            geoviewLayerName: 'GeoJSON Sample',\n            metadataAccessPath: GVAbstractTester.GEOJSON_METADATA_META,\n            geoviewLayerType: 'GeoJSON' as TypeGeoviewLayerType,\n            listOfLayerEntryConfig: [\n              {\n                layerId: 'polygons.json',\n                layerName: 'Polygons',\n              },\n            ],\n          },\n        ],\n      },\n      components: [],\n      corePackages: ['test-suite'],\n      navBar: ['zoom', 'rotation', 'fullscreen', 'home', 'basemap-select'],\n      corePackagesConfig: [\n        {\n          'test-suite': { suites: ['suite-map-config'] },\n        },\n      ],\n      theme: 'geo.ca',\n      footerBar: {\n        tabs: {\n          core: ['layers', 'data-table'],\n        },\n      },\n      appBar: {\n        tabs: {\n          core: ['geolocator', 'legend', 'details', 'export'],\n        },\n      },\n    };\n\n    // Apply overrides - normalize to array format then apply each path-value pair\n    const overridesArray = Array.isArray(overrides[0]) ? (overrides as [string, unknown][]) : [overrides as [string, unknown]];\n    overridesArray.forEach(([path, value]) => {\n      MapConfigTester.#setValueByPath(baseConfig, path, value);\n    });\n\n    // Delete current map\n    test.addStep('Deleting current map...');\n    await this.getApi().deleteMapViewer(mapId, false);\n\n    // Wait for layer to load and data table to initialize\n    test.addStep('Waiting for layer to load and data table to initialize...');\n    const mapViewer = await this.getApi().createMapFromConfig(mapId, JSON.stringify(baseConfig), 500);\n    await mapViewer.waitForLayersLoaded();\n\n    test.addStep('Layers loaded');\n    return mapViewer;\n  }\n\n  /**\n   * Sets a value in an object using a dot-notation path. If value is null or undefined, removes the key.\n   * @param {Record<string, unknown>} obj - The object to modify\n   * @param {string} path - Dot-notation path like 'map.viewSettings.initialView'\n   * @param {unknown} value - The value to set, or null/undefined to remove\n   * @private\n   */\n  static #setValueByPath(obj: Record<string, unknown>, path: string, value: unknown): void {\n    const keys = path.split('.');\n    let current = obj;\n\n    // Validate against prototype pollution\n    const dangerousKeys = ['__proto__', 'constructor', 'prototype'];\n    if (keys.some((key) => dangerousKeys.includes(key))) {\n      throw new Error(`Invalid path: \"${path}\" contains dangerous keys that could lead to prototype pollution`);\n    }\n\n    // Navigate to the parent of the final key\n    for (let i = 0; i < keys.length - 1; i++) {\n      const key = keys[i];\n      if (!Object.prototype.hasOwnProperty.call(current, key) || typeof current[key] !== 'object' || current[key] === null) {\n        current[key] = {};\n      }\n      current = current[key] as Record<string, unknown>;\n    }\n\n    const finalKey = keys[keys.length - 1];\n\n    // If value is null or undefined, remove the key\n    if (value === null || value === undefined) {\n      delete current[finalKey];\n    } else {\n      current[finalKey] = value;\n    }\n  }\n}\n","import type { BaseTestChangedEvent } from './test';\nimport type { ClassType } from 'geoview-core/core/types/global-types';\nimport type { EventDelegateBase } from 'geoview-core/api/events/event-helper';\nimport EventHelper from 'geoview-core/api/events/event-helper';\nimport { logger } from 'geoview-core/core/utils/logger';\nimport { formatError } from 'geoview-core/core/exceptions/core-exceptions';\nimport { Test } from './test';\n\n/**\n * Abstract base class for creating custom testers with assertion and event capabilities.\n * Provides utility methods for running tests (sync or async), performing assertions,\n * and emitting test result events (success, failure, testing).\n * Extend this class to implement domain-specific test behaviors.\n */\nexport abstract class AbstractTester {\n  /** Keep all callback delegate references */\n  #onTestStartedHandlers: TestDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onTestUpdatedHandlers: TestUpdatedDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onSuccessHandlers: SuccessDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onFailureHandlers: FailureDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onDoneHandlers: TestDelegate[] = [];\n\n  /** Keep all tests */\n  #tests: Test[] = [];\n\n  /** Keep the running tests */\n  #testsRunning: Test[] = [];\n\n  /** Keep the done tests */\n  #testsDone: Test[] = [];\n\n  /**\n   * Mustoverride function to provide a name for the Tester.\n   */\n  abstract getName(): string;\n\n  /**\n   * Gets the total number of tests.\n   * @returns {number} The total number of tests.\n   */\n  getTestsTotal(): number {\n    return this.#tests.length;\n  }\n\n  /**\n   * Gets the total number of currently running tests.\n   * @returns {number} The total number of tests.\n   */\n  getTestsRunning(): number {\n    return this.#testsRunning.length;\n  }\n\n  /**\n   * Gets the total number of currently done tests.\n   * @returns {number} The total number of tests.\n   */\n  getTestsDone(): number {\n    return this.#testsDone.length;\n  }\n\n  /**\n   * Gets the total number of currently done successful tests which were successful.\n   * @returns {number} The total number of tests.\n   */\n  getTestsDoneSuccess(): number {\n    return this.#testsDone.filter((test) => test.getStatus() === 'success').length;\n  }\n\n  /**\n   * Gets the total number of currently done failed tests which were successful.\n   * @returns {number} The total number of tests.\n   */\n  getTestsDoneFailed(): number {\n    return this.getTestsDone() - this.getTestsDoneSuccess();\n  }\n\n  /**\n   * Gets if all tests are done.\n   * @returns {boolean} Indicate if the tests are all done.\n   */\n  getTestsDoneAll(): boolean {\n    return this.getTestsDone() === this.getTestsTotal();\n  }\n\n  /**\n   * Gets if all the tests are done and successfully.\n   * @returns {boolean} Indicate if the tests are all done and finished successfully.\n   */\n  getTestsDoneAllSuccess(): boolean {\n    return this.getTestsDoneAll() && this.#tests.every((test) => test.getStatus() === 'success');\n  }\n\n  /**\n   * Resets all the tests\n   */\n  resetTests(): void {\n    this.#tests = [];\n    this.#testsRunning = [];\n    this.#testsDone = [];\n  }\n\n  /**\n   * Performs a test using the provided test callback and assertion callback.\n   * @template T The type of the result produced by the test.\n   * @param {string} message - A message describing the test.\n   * @param {BaseTestDelegate<T>} callback - The function to execute to obtain a test result.\n   * @param {BaseAssertionDelegate<T>} callbackAssert - The function to perform assertions on the result.\n   * @param {BaseFinalizeDelegate<T>?} [callbackFinalize] - Optional function to finalize the test after completion.\n   * @returns {Promise<TestResult<T>>} The result wrapped in an {@link TestResult} object.\n   */\n  test<T>(\n    message: string,\n    callback: BaseTestDelegate<T, T>,\n    callbackAssert: BaseAssertionDelegate<T>,\n    callbackFinalize?: BaseFinalizeDelegate<T>\n  ): Promise<Test<T>> {\n    // Redirect\n    return this.#testPerformTest(message, callback, callbackAssert, callbackFinalize);\n  }\n\n  /**\n   * Performs a test which is supposed to throw an error (a true negative) using the provided test callback and assertion callback.\n   * @template T The expected error that the test should throw.\n   * @param {string} message - A message describing the test.\n   * @param {BaseTestDelegate<T>} callback - The function to execute which should be throwing an error.\n   * @param {BaseAssertionDelegate<T>?} [callbackAssert] - Optional function to perform assertions on the result.\n   * @param {BaseFinalizeDelegate<T>?} [callbackFinalize] - Optional function to finalize the test after completion.\n   * @returns {Promise<TestResult<T>>} The result wrapped in an {@link TestResult} object.\n   */\n  testError<T extends Error>(\n    message: string,\n    errorClass: ClassType<T>,\n    callback: BaseTestDelegate<T, void>,\n    callbackAssert?: BaseAssertionDelegate<T>,\n    callbackFinalize?: BaseFinalizeDelegate<T>\n  ): Promise<Test<T>> {\n    // Redirect\n    return this.#testPerformTestError(message, errorClass, callback, callbackAssert, callbackFinalize);\n  }\n\n  // #region PROTECTED\n\n  /**\n   * Overridable function called when a test is being created for execution.\n   * @returns {Test} test - The test about to be performed.\n   * @protected\n   */\n  protected onCreatingTest<T>(message: string): Test<T> {\n    // Create the test\n    const test = new Test<T>(message);\n\n    // Hook on step changed\n    test.onStepChanged(this.#handleTestStepChanged.bind(this));\n\n    // Return the test\n    return test;\n  }\n\n  /**\n   * Overridable function called before any test is executed.\n   * @param {Test} test - The test about to be performed.\n   * @protected\n   */\n  protected onPerformingTest(test: Test): void {\n    // Log\n    logger.logDebug(`Testing ${test.getTitle()}...`);\n\n    // Add the test to the list\n    this.#tests.push(test);\n\n    // Add the test to the running list\n    this.#addTestRunning(test);\n\n    // Update the status and step\n    test.setStatus('running');\n    test.addStep('Running test...', 'major');\n\n    // Emit\n    this.#emitStarted({ test });\n  }\n\n  /**\n   * Overridable function called before any test assertion verification is executed.\n   * @param {Test} test - The test about to be assertion verified.\n   * @protected\n   */\n  // eslint-disable-next-line @typescript-eslint/class-methods-use-this\n  protected onPerformingTestAssertions(test: Test): void {\n    // Update the status and step\n    test.setStatus('verifying');\n    test.addStep('Verifying assertions...', 'major');\n\n    // TODO: Minor - Emit something?\n    // this.#emitTesting({ test });\n  }\n\n  /**\n   * Emits a test updated event.\n   * @param {Test} test - The test which updated.\n   * @param {BaseTestChangedEvent} event - The event causing the update.\n   * @protected\n   */\n  protected onPerformingTestStepChanged(test: Test, event: BaseTestChangedEvent): void {\n    // Emit\n    this.#emitStepChanged({ test, event });\n  }\n\n  /**\n   * Emits a success event.\n   * @param {Test} test - The test which succeeded.\n   * @param {T} result - The assertion result.\n   * @protected\n   */\n  protected onPerformingTestSuccess<T>(test: Test<T>, result: T): void {\n    // Update the step - clearing it\n    test.setStatus('success');\n\n    // Emit\n    this.#emitSuccess({ test, result });\n  }\n\n  /**\n   * Emits a failure event with a normalized error object.\n   * @param {Test} test - The test which failed.\n   * @param {unknown} error - The thrown error from the assertion or test logic.\n   * @param {boolean} duringFinalization - Indicates if the failure happened during finalization or during the Test regular processing.\n   * @protected\n   */\n  protected onPerformingTestFailure<T>(test: Test<T>, error: unknown, duringFinalization: boolean): void {\n    // The original status\n    const originalStatus = test.getStatus();\n\n    // Marshall the error\n    const normalizedError = error instanceof Error ? error : new Error(String(error));\n\n    // Set status to failed\n    test.setStatus('failed');\n\n    // Determine whether to override the error and emit\n    // This makes sure we don't override with the finalization error as the original error is more important.\n    const shouldSetError = !duringFinalization || originalStatus !== 'failed';\n\n    // If setting the error\n    if (shouldSetError) {\n      // Set the error\n      test.setError(normalizedError);\n      // Emit\n      this.#emitFailure({ test, error: normalizedError });\n    }\n  }\n\n  /**\n   * Emits a finalize event.\n   * @param {Test} test - The test which is finalizing.\n   * @protected\n   */\n  // eslint-disable-next-line @typescript-eslint/class-methods-use-this\n  protected onPerformingTestFinalization<T>(test: Test<T>, callback?: BaseFinalizeDelegate<T>): void {\n    // If we do have a callback for finalization\n    if (callback) {\n      // Add done step\n      test.addStep('Cleaning up...', 'major');\n    }\n  }\n\n  /**\n   * Emits a done event.\n   * @param {Test} test - The test which is finalizing.\n   * @protected\n   */\n  protected onPerformingTestDone<T>(test: Test<T>): void {\n    // Move the test from the running list and add it to the done list\n    this.#moveTestFromRunningToDone(test);\n\n    // Add done step\n    test.addStep('Done', 'major', test.getStatus() === 'success' ? 'green' : 'red');\n\n    // Emit\n    this.#emitDone({ test });\n  }\n\n  // #endregion PROTECTED\n\n  // #region PRIVATE\n\n  /**\n   * Executes the full lifecycle of a test, including setup, execution, assertion, success/failure handling, and optional finalization.\n   * The lifecycle consists of:\n   * - Creating a new test instance\n   * - Executing the core test logic via a callback\n   * - Storing the result in the test\n   * - Running assertions on the result\n   * - Handling success or failure states\n   * - Optionally finalizing the test (e.g., cleanup or logging)\n   * @template T - The type of the result returned by the test.\n   * @param {string} message - A human-readable description of the test.\n   * @param {BaseTestDelegate<T>} callback - Function that performs the main test logic and returns the result.\n   * @param {BaseAssertionDelegate<T>} callbackAssert - Function that asserts the correctness of the test result.\n   * @param {BaseFinalizeDelegate<T>} [callbackFinalize] - Optional finalization callback, called after the test completes (regardless of success or failure).\n   * @returns {Promise<Test<T>>} A promise that resolves to the fully populated {@link Test} object.\n   * @private\n   */\n  async #testPerformTest<T>(\n    message: string,\n    callback: BaseTestDelegate<T, T>,\n    callbackAssert: BaseAssertionDelegate<T>,\n    callbackFinalize?: BaseFinalizeDelegate<T>\n  ): Promise<Test<T>> {\n    // Create the test\n    const test = this.onCreatingTest<T>(message);\n\n    try {\n      // Testing\n      this.onPerformingTest(test);\n\n      // Start the test and await\n      const result = await callback(test);\n\n      // Assign it to the current test\n      test.setResult(result);\n\n      // Checking assertions\n      this.onPerformingTestAssertions(test);\n\n      // Callback with the result to verify using an assertion check\n      await callbackAssert(test, result);\n\n      // All good\n      this.onPerformingTestSuccess(test, result);\n    } catch (error: unknown) {\n      // The execution of the test has failed\n      this.onPerformingTestFailure(test, error, false);\n    }\n\n    try {\n      // Finalizing\n      this.onPerformingTestFinalization(test, callbackFinalize);\n\n      // Possibly callback for more\n      await callbackFinalize?.(test, test.getResult()!);\n    } catch (error: unknown) {\n      // The execution of the test has failed during finalization\n      this.onPerformingTestFailure(test, error, true);\n    }\n\n    // Done\n    this.onPerformingTestDone(test);\n\n    // Return the test\n    return test;\n  }\n\n  /**\n   * Executes the full lifecycle of a test when testing for an Error to be thrown, including setup, execution, assertion, success/failure handling, and optional finalization.\n   * The lifecycle consists of:\n   * - Creating a new test instance\n   * - Executing the core test logic via a callback, expecting an error to be thrown\n   * - Storing the result in the test\n   * - Optionally running additional assertions on the result\n   * - Handling success or failure states\n   * - Optionally finalizing the test (e.g., cleanup or logging)\n   * @template T - The type of the result returned by the test.\n   * @param {string} message - A human-readable description of the test.\n   * @param {BaseTestDelegate<T>} callback - Function that performs the main test logic and is supposed to throw an Error.\n   * @param {BaseAssertionDelegate<T>} callbackAssert - Function that asserts the correctness of the test result.\n   * @param {BaseFinalizeDelegate<T>} [callbackFinalize] - Optional finalization callback, called after the test completes (regardless of success or failure).\n   * @returns {Promise<Test<T>>} A promise that resolves to the fully populated {@link Test} object.\n   * @private\n   */\n  async #testPerformTestError<T extends Error>(\n    message: string,\n    errorClass: ClassType<T>,\n    callback: BaseTestDelegate<T, void>,\n    callbackAssert?: BaseAssertionDelegate<T>,\n    callbackFinalize?: BaseFinalizeDelegate<T>\n  ): Promise<Test<T>> {\n    // Create the test\n    const test = this.onCreatingTest<T>(message);\n\n    // Set the type to a true-negative, because we're testing for an Error.\n    test.setType('true-negative');\n\n    try {\n      // Testing\n      this.onPerformingTest(test);\n\n      // Start the test and expect it to fail\n      let result: Error | undefined = undefined;\n      try {\n        await callback(test);\n      } catch (error: unknown) {\n        // An error happened, as expected\n        result = formatError(error);\n\n        // Check if the right type\n        // Assign it to the current test\n        test.setResult(result as T);\n      }\n\n      // Checking assertions\n      this.onPerformingTestAssertions(test);\n\n      // Creating the configuration\n      test.addStep('Verifying the Error obtained is of the correct class type...');\n\n      // Check if the result is instance of the error we're testing for\n      Test.assertIsErrorInstance(result as T, errorClass);\n\n      // Callback with the result to verify using an assertion check\n      await callbackAssert?.(test, result as T);\n\n      // All good\n      this.onPerformingTestSuccess(test, result);\n    } catch (error: unknown) {\n      // The execution of the test has failed\n      this.onPerformingTestFailure(test, error, false);\n    }\n\n    try {\n      // Finalizing\n      this.onPerformingTestFinalization(test, callbackFinalize);\n\n      // Possibly callback for more\n      await callbackFinalize?.(test, test.getResult()!);\n    } catch (error: unknown) {\n      // The execution of the test has failed during finalization\n      this.onPerformingTestFailure(test, error, true);\n    }\n\n    // Done\n    this.onPerformingTestDone(test);\n\n    // Return the test\n    return test;\n  }\n\n  /**\n   * Adds a test to the list of currently running tests.\n   * @param {Test} test - The test instance to add to the running list.\n   */\n  #addTestRunning(test: Test): void {\n    this.#testsRunning.push(test);\n  }\n\n  /**\n   * Moves a test from the list of running tests to the list of completed tests.\n   * This method removes the specified test from the `#testsRunning` list (if found by ID)\n   * and appends it to the `#testsDone` list.\n   * @param {Test} test - The test instance to move.\n   */\n  #moveTestFromRunningToDone(test: Test): void {\n    // Find it\n    const index = this.#testsRunning.findIndex((t) => t.id === test.id);\n    if (index !== -1) {\n      this.#testsRunning.splice(index, 1);\n    }\n\n    // Add to done\n    this.#testsDone.push(test);\n  }\n\n  /**\n   * Handles updates to a test by invoking the relevant change handler.\n   * @param {Test} sender - The test instance that triggered the change.\n   * @param {BaseTestChangedEvent} event - The event details describing the change.\n   */\n  #handleTestStepChanged(sender: Test, event: BaseTestChangedEvent): void {\n    // Performing test has been updated\n    this.onPerformingTestStepChanged(sender, event);\n  }\n\n  // #endregion\n\n  // #region EVENTS\n\n  /**\n   * Emits an event to all handlers.\n   * @param {TestEvent} event - The event to emit\n   * @private\n   */\n  #emitStarted(event: TestEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onTestStartedHandlers, event);\n  }\n\n  /**\n   * Registers a test started event handler.\n   * @param {TestDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onStarted(callback: TestDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onTestStartedHandlers, callback);\n  }\n\n  /**\n   * Unregisters a test started event handler.\n   * @param {TestDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offStarted(callback: TestDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onTestStartedHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {TestUpdatedEvent} event - The event to emit\n   * @private\n   */\n  #emitStepChanged(event: TestUpdatedEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onTestUpdatedHandlers, event);\n  }\n\n  /**\n   * Registers a step updated event handler.\n   * @param {TestUpdatedDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onStepUpdated(callback: TestUpdatedDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onTestUpdatedHandlers, callback);\n  }\n\n  /**\n   * Unregisters a step updated event handler.\n   * @param {TestUpdatedDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offStepUpdated(callback: TestUpdatedDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onTestUpdatedHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {SuccessEvent} event - The event to emit\n   * @private\n   */\n  #emitSuccess(event: SuccessEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onSuccessHandlers, event);\n  }\n\n  /**\n   * Registers a success event handler.\n   * @param {SuccessDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onSuccess(callback: SuccessDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onSuccessHandlers, callback);\n  }\n\n  /**\n   * Unregisters a success event handler.\n   * @param {SuccessDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offSuccess(callback: SuccessDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onSuccessHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {FailureEvent} event - The event to emit\n   * @private\n   */\n  #emitFailure(event: FailureEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onFailureHandlers, event);\n  }\n\n  /**\n   * Registers a failure event handler.\n   * @param {FailureDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onFailure(callback: FailureDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onFailureHandlers, callback);\n  }\n\n  /**\n   * Unregisters a failure event handler.\n   * @param {FailureDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offFailure(callback: FailureDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onFailureHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {TestEvent} event - The event to emit\n   * @private\n   */\n  #emitDone(event: TestEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onDoneHandlers, event);\n  }\n\n  /**\n   * Registers a done event handler.\n   * @param {TestDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onDone(callback: TestDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onDoneHandlers, callback);\n  }\n\n  /**\n   * Unregisters a done event handler.\n   * @param {TestDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offDone(callback: TestDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onDoneHandlers, callback);\n  }\n\n  // #endregion EVENTS\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type BaseTestDelegate<T = unknown, U = unknown> = (test: Test<T>) => U | Promise<U>;\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type BaseAssertionDelegate<T = unknown> = (test: Test<T>, result: T) => void | Promise<void>;\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type BaseFinalizeDelegate<T = unknown> = (test: Test<T>, result: T) => void | Promise<void>;\n\n/**\n * Define an event for the delegate\n */\nexport interface TestEvent {\n  test: Test;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type TestDelegate = EventDelegateBase<AbstractTester, TestEvent, void>;\n\n/**\n * Define an event for the delegate\n */\nexport interface TestUpdatedEvent<T = BaseTestChangedEvent> {\n  test: Test;\n  event: T;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type TestUpdatedDelegate = EventDelegateBase<AbstractTester, TestUpdatedEvent, void>;\n\n/**\n * Define an event for the delegate\n */\nexport interface SuccessEvent<T = unknown> {\n  test: Test;\n  result: T;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type SuccessDelegate = EventDelegateBase<AbstractTester, SuccessEvent, void>;\n\n/**\n * Define an event for the delegate\n */\nexport interface FailureEvent {\n  test: Test;\n  error: unknown;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type FailureDelegate = EventDelegateBase<AbstractTester, FailureEvent, void>;\n","import { delay } from 'geoview-core/index';\nimport { Test } from '../core/test';\nimport { GVAbstractTester } from './abstract-gv-tester';\nimport { UIEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/ui-event-processor';\nimport { AppEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/app-event-processor';\n\n/**\n * Main UI testing class.\n * @extends {GVAbstractTester}\n */\nexport class UITester extends GVAbstractTester {\n  /**\n   * Returns the name of the Tester.\n   * @returns {string} The name of the Tester.\n   */\n  override getName(): string {\n    return 'UITester';\n  }\n\n  /**\n   * Test selecting details panel and finding \"Top\" anchor tag in the DOM for guide container.\n   * @returns {Promise<Test>} A Promise that resolves when the test completes successfully.\n   */\n  testGuideDetailsPanelTopAnchor(): Promise<Test> {\n    const mapId = this.getMapId();\n\n    return this.test(\n      'Test Details Panel - Select and Find Top Anchor',\n      async (test) => {\n        // Step 1: Select the details tab in footer bar\n        test.addStep('Selecting details panel...');\n        UIEventProcessor.setActiveFooterBarTab(mapId, 'details');\n\n        // Wait a bit for the UI to update\n        await delay(500);\n\n        // Get the GeoView HTML element\n        test.addStep('Getting GeoView HTML element...');\n        const geoviewElement = AppEventProcessor.getGeoviewHTMLElement(mapId);\n\n        // Find the guide-container div\n        test.addStep('Finding guide-container div...');\n        const guideContainer = geoviewElement.querySelector('.guide-container');\n\n        if (!guideContainer) {\n          throw new Error('guide-container div not found');\n        }\n\n        // Search for anchor tag with text \"Top\" within guide-container\n        test.addStep('Searching for \"Top\" anchor tag within guide-container...');\n        const anchorElements = guideContainer.querySelectorAll('a');\n        let foundTopAnchor: HTMLAnchorElement | null = null;\n\n        for (let i = 0; i < anchorElements.length; i++) {\n          const anchor = anchorElements[i];\n          if (anchor.textContent?.trim() === 'Top') {\n            foundTopAnchor = anchor;\n            break;\n          }\n        }\n\n        return foundTopAnchor;\n      },\n      (test, result) => {\n        // Verify the anchor was found\n        test.addStep('Verifying \"Top\" anchor tag was not found...');\n        Test.assertIsEqual(result, null);\n      }\n    );\n  }\n}\n","import type { API } from 'geoview-core/api/api';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport { GVAbstractTestSuite } from './abstract-gv-test-suite';\nimport { LayerTester } from '../testers/layer-tester';\n\n/**\n * The GeoView Test Suite.\n */\nexport class GVTestSuiteLayer extends GVAbstractTestSuite {\n  /** The Layer Tester used in this Test Suite */\n  #layerTester: LayerTester;\n\n  /**\n   * Constructs the Test Suite\n   * @param {API} api - The shared api\n   * @param {MapViewer} mapViewer - The map viewer\n   */\n  constructor(api: API, mapViewer: MapViewer) {\n    super(api, mapViewer);\n\n    // Create the Geocore tester\n    this.#layerTester = new LayerTester(api, mapViewer);\n    this.addTester(this.#layerTester);\n  }\n\n  /**\n   * Returns the name of the Test Suite.\n   * @returns {string} The name of the Test Suite.\n   */\n  override getName(): string {\n    return 'Layer Test Suite';\n  }\n\n  /**\n   * Returns the description of the Test Suite.\n   * @returns {string} The description of the Test Suite.\n   */\n  override getDescriptionAsHtml(): string {\n    return 'Test Suite to perform various layer related tests.';\n  }\n\n  /**\n   * Overrides the implementation to perform the tests for this Test Suite.\n   * @returns {Promise<unknown>} A Promise which resolves when tests are completed.\n   */\n  protected override onLaunchTestSuite(): Promise<unknown> {\n    // // GV START DEBUG SECTION TO NOT HAVE TO TEST EVERYTHING EVERYTIME\n    // // Test DEBUG\n    // const pDevTest0 = this.#layerTester.testInitialSettingsCascade();\n    // // const pDevTest1 = this.#layerTester.testAddWKBWithBadUrl();\n    // // const pDevTest2 = this.#layerTester.testAddOGCFeatureWithPygeoapi();\n\n    // // Resolve when all\n    // return Promise.all([pDevTest0]);\n    // // GV END DEBUG SECTION TO NOT HAVE TO TEST EVERYTHING EVERYTIME\n\n    // Test adding layer\n    const pLayerEsriDynamicHistoFloods = this.#layerTester.testAddEsriDynamicHistoFloodEvents();\n\n    // Test adding layer EsriDynamic with Raster Layer inside, via Geocore UUID\n    const pLayerEsriDynamicWithRasterLayersViaGeocore = this.#layerTester.testAddEsriDynamicWithRasterLayersViaGeocore();\n\n    // Test true negative\n    const pLayerEsriDynamicBadUrl = this.#layerTester.testAddEsriDynamicBadUrl();\n\n    // Test adding layer\n    const pLayerEsriFeatureForestIndustry = this.#layerTester.testAddEsriFeatureForestIndustry();\n\n    // Test true negative\n    const pLayerEsriFeatureBadUrl = this.#layerTester.testAddEsriFeatureBadUrl();\n\n    // Test adding layer\n    const pLayerEsriImageElevation = this.#layerTester.testAddEsriImageWithElevation();\n\n    // Test true negative\n    const pLayerEsriImageBadUrl = this.#layerTester.testAddEsriImageBadUrl();\n\n    // Test adding layer OWS Mundialis\n    const pLayerWMSOWSMundialis = this.#layerTester.testAddWMSLayerWithOWSMundialis();\n\n    // Test adding layer\n    const pLayerWMSDatacubeOWSMSI = this.#layerTester.testAddWMSLayerWithDatacubeMSI();\n\n    // Test adding layer\n    const pLayerWMSDatacubeRingFireHalifax = this.#layerTester.testAddWMSLayerWithDatacubeRingOfFire();\n\n    // Test true negative\n    const pLayerWMSBadUrl = this.#layerTester.testAddWMSBadUrl();\n\n    // Test adding layer\n    const pLayerWFSWithGeometCurrentConditions = this.#layerTester.testAddWFSLayerWithWithGeometCurrentConditions();\n\n    // Test true negative\n    const pLayerWFSBadUrl = this.#layerTester.testAddWFSBadUrl();\n\n    // Test true negative\n    const pLayerWFSOkayUrlNoCap = this.#layerTester.testAddWFSOkayUrlNoCap();\n\n    // Test adding layer\n    const pLayerGeoJSONWithPolygons = this.#layerTester.testAddGeoJSONWithMetadataPolygons();\n\n    // Test true negative\n    const pLayerGeoJSonBadUrl = this.#layerTester.testAddGeoJSONBadUrl();\n\n    // Test adding layer\n    const pLayerCSVStationList = this.#layerTester.testAddCSVWithStationList();\n\n    // Test true negative\n    const pLayerCSVBadUrl = this.#layerTester.testAddCSVWithBadUrl();\n\n    // Test adding layer\n    const pLayerOGCFeatureWithPygeoapi = this.#layerTester.testAddOGCFeatureWithPygeoapi();\n\n    // Test true negative\n    const pLayerOGCFeatureBadUrl = this.#layerTester.testAddOGCFeatureWithBadUrl();\n\n    // Test adding layer\n    const pLayerWKBWithSouthAfrica = this.#layerTester.testAddWKBWithSouthAfrica();\n\n    // Test true negative\n    const pLayerWKBBadUrl = this.#layerTester.testAddWKBWithBadUrl();\n\n    // Test adding layer\n    const pLayerKMLWithTornado = this.#layerTester.testAddKMLWithTornado();\n\n    // Test true negative\n    const pLayerKMLBadUrl = this.#layerTester.testAddKMLWithBadUrl();\n\n    // Test adding layer\n    const pLayerGeoTIFFVegetation = this.#layerTester.testAddGeotiffLayerWithDatacubeVegetation();\n\n    // Test true negative\n    const pLayerGeoTIFFBadUrl = this.#layerTester.testAddGeoTIFFWithBadUrl();\n\n    // Test initial settings cascade\n    const pInitialSettingsCascade = this.#layerTester.testInitialSettingsCascade();\n\n    // Resolve when all\n    return Promise.all([\n      pLayerEsriDynamicHistoFloods,\n      pLayerEsriDynamicWithRasterLayersViaGeocore,\n      pLayerEsriDynamicBadUrl,\n      pLayerEsriFeatureForestIndustry,\n      pLayerEsriFeatureBadUrl,\n      pLayerEsriImageElevation,\n      pLayerEsriImageBadUrl,\n      pLayerWMSOWSMundialis,\n      pLayerWMSDatacubeOWSMSI,\n      pLayerWMSDatacubeRingFireHalifax,\n      pLayerWMSBadUrl,\n      pLayerWFSWithGeometCurrentConditions,\n      pLayerWFSBadUrl,\n      pLayerWFSOkayUrlNoCap,\n      pLayerGeoJSONWithPolygons,\n      pLayerGeoJSonBadUrl,\n      pLayerCSVStationList,\n      pLayerCSVBadUrl,\n      pLayerOGCFeatureWithPygeoapi,\n      pLayerOGCFeatureBadUrl,\n      pLayerWKBWithSouthAfrica,\n      pLayerWKBBadUrl,\n      pLayerKMLWithTornado,\n      pLayerKMLBadUrl,\n      pLayerGeoTIFFVegetation,\n      pLayerGeoTIFFBadUrl,\n      pInitialSettingsCascade,\n    ]);\n  }\n}\n","import type { API } from 'geoview-core/api/api';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport { MapTester } from '../testers/map-tester';\nimport { GVAbstractTestSuite } from './abstract-gv-test-suite';\nimport { MapEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/map-event-processor';\n\n/**\n * The GeoView Test Suite.\n */\nexport class GVTestSuiteMapVaria extends GVAbstractTestSuite {\n  /** The Map Tester used in this Test Suite */\n  #mapTester: MapTester;\n\n  /**\n   * Constructs the Test Suite\n   * @param {API} api - The shared api\n   * @param {MapViewer} mapViewer - The map viewer\n   */\n  constructor(api: API, mapViewer: MapViewer) {\n    super(api, mapViewer);\n\n    // Create the Map tester\n    this.#mapTester = new MapTester(api, mapViewer);\n    this.addTester(this.#mapTester);\n  }\n\n  /**\n   * Returns the name of the Test Suite.\n   * @returns {string} The name of the Test Suite.\n   */\n  override getName(): string {\n    return 'Map Varia Test Suite';\n  }\n\n  /**\n   * Returns the description of the Test Suite.\n   * @returns {string} The description of the Test Suite.\n   */\n  override getDescriptionAsHtml(): string {\n    return 'Test Suite to perform various map related tests.';\n  }\n\n  /**\n   * Overrides the implementation to perform the tests for this Test Suite.\n   * @returns {Promise<unknown>} A Promise which resolves when tests are completed.\n   */\n  protected override async onLaunchTestSuite(): Promise<unknown> {\n    // // GV START DEBUG SECTION TO NOT HAVE TO TEST EVERYTHING EVERYTIME\n    // // Test DEBUG\n    // const pDevTest0 = this.#mapTester.testNonQueryableLayerNotInDetails('geojsonLYR5/polygons.json', [-88, 52]);\n    // const pDevTest1 = this.#mapTester.testLayerHoverableState('geojsonLYR5/polygons.json', [-88, 52]);\n\n    // // Resolve when all\n    // return Promise.all([pDevTest0, pDevTest1]);\n    // // GV END DEBUG SECTION TO NOT HAVE TO TEST EVERYTHING EVERYTIME\n\n    // #region STATE CHECK\n\n    // Test the map state\n    const pmapState = this.#mapTester.testInitialMapState();\n\n    // Wait until this test finishes before starting manipulating the map\n    await pmapState;\n\n    // #endregion STATE CHECK\n\n    // #region PROMISES SYNCH ZOOMING\n\n    // Test the zoom\n    const pZoom = this.#mapTester.testMapZoom(7, 1000);\n\n    // Wait until the zoom finishes before continuing manipulating the map\n    await pZoom;\n\n    // Test projection switch and zoom to initial extent\n    const pProjection = this.#mapTester.testSwitchProjectionAndExtent(3978, 3857, 1);\n\n    // Wait until the projection switch finishes before continuing manipulating the map\n    await pProjection;\n\n    // Test zoom to extent\n    const pZoomToExtent = this.#mapTester.testZoomToExtent([-87, 51, -84, 53], [-88.584, 50.227, -82.142, 53.726]);\n\n    // Wait until the zoom finishes before continuing manipulating the map\n    await pZoomToExtent;\n\n    // Test zoom to coordinate\n    const pZoomToCoordinate = this.#mapTester.testZoomToCoordinate([-80, 50]);\n\n    // Wait until the zoom finishes before continuing manipulating the map\n    await pZoomToCoordinate;\n\n    // Test create and set basemap\n    const pCreateAndSetBasemap = this.#mapTester.testCreateAndSetBasemap();\n\n    // Wait until the basemap change finishes before continuing manipulating the map\n    await pCreateAndSetBasemap;\n\n    // Test north arrow rotation in LCC projection for BC\n    const pNorthArrowRotationLCC = this.#mapTester.testNorthArrowRotationLCC();\n\n    // Wait until the north arrow rotation finishes, because there are zooms and projection changes happening in that test\n    await pNorthArrowRotationLCC;\n\n    // Make sure the map is reset in its initial extent after the zooms\n    await MapEventProcessor.zoomToInitialExtent(this.getMapId());\n\n    // #endregion PROMISES SYNCH ZOOMING\n\n    // #region PROMISES SYNCH SELECTED TABS\n\n    // Test geometry z-index, not awaiting on it, it can happen at the same time as the rest, even testDetailsLayerSelectionPersistence for example\n    const pZIndex = this.#mapTester.testGeometryGroupZIndex();\n\n    // Test footer bar select tab\n    const pFooterBarSelectTab = this.#mapTester.testFooterBarSelectTab();\n\n    // Wait until the selected tab test finishes before continuing manipulating the map\n    await pFooterBarSelectTab;\n\n    // Test app bar select tab\n    const pAppBarSelectTab = this.#mapTester.testAppBarSelectTab();\n\n    // Wait until the selected tab test finishes before continuing manipulating the map\n    await pAppBarSelectTab;\n\n    // Test footer bar create tab\n    const pFooterBarCreateTab = this.#mapTester.testFooterBarCreateTab();\n\n    // Wait until the selected tab test finishes before continuing manipulating the map\n    await pFooterBarCreateTab;\n\n    // #endregion PROMISES SYNCH SELECTED TABS\n\n    // #region PROMISES SYNCH HOVERABLE/QUERYABLE\n\n    // Test set language\n    const pSetLanguage = this.#mapTester.testSetLanguage();\n\n    // Test non-queryable layer not in details\n    const pNonQueryableLayerNotInDetails = this.#mapTester.testNonQueryableLayerNotInDetails('geojsonLYR5/polygons.json', [-88, 52]);\n\n    // Test layer hoverable state\n    const pLayerHoverableState = this.#mapTester.testLayerHoverableState('geojsonLYR5/polygons.json', [-88, 52]);\n\n    // Wait on all the tests of queryable/hoverable before continuing manipulating the map, those all happen in parallel\n    await Promise.all([pNonQueryableLayerNotInDetails, pLayerHoverableState]);\n\n    // #endregion PROMISES SYNCH HOVERABLE/QUERYABLE\n\n    // #region PROMISES DETAILS PANEL\n\n    // Test details layer selection persistence, this test manipulates the map state too much as should run independently\n    const pDetailsLayerSelectionPersistence = this.#mapTester.testDetailsLayerSelectionPersistence(\n      'geojsonLYR5/polygons.json',\n      'esriFeatureLYR5/0',\n      [-87.4, 52.9],\n      [-73.9, 46.5]\n    );\n\n    // Wait on details layer selection persistence which manipulates the map state a lot and should run independently\n    await pDetailsLayerSelectionPersistence;\n\n    // #endregion PROMISES DETAILS PANEL\n\n    // Resolve when all\n    return Promise.all([\n      pmapState,\n      pZoom,\n      pProjection,\n      pZoomToExtent,\n      pZoomToCoordinate,\n      pCreateAndSetBasemap,\n      pNorthArrowRotationLCC,\n      pZIndex,\n      pFooterBarSelectTab,\n      pAppBarSelectTab,\n      pFooterBarCreateTab,\n      pSetLanguage,\n      pNonQueryableLayerNotInDetails,\n      pLayerHoverableState,\n      pDetailsLayerSelectionPersistence,\n    ]);\n  }\n}\n","import type { EventDelegateBase } from 'geoview-core/api/events/event-helper';\nimport EventHelper from 'geoview-core/api/events/event-helper';\nimport type { AbstractTester, FailureEvent, SuccessEvent, TestEvent, TestUpdatedEvent } from './abstract-tester';\nimport { TestSuiteCannotExecuteError, TestSuiteRunningError } from './exceptions';\n\n/**\n * Abstract base class for creating suite of tests.\n */\nexport abstract class AbstractTestSuite {\n  // The Testers in the Test Suite\n  #testers: AbstractTester[] = [];\n\n  /** Keep all callback delegate references */\n  #onTestersTestStartedHandlers: TesterTestDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onTestersTestUpdatedHandlers: TesterTestUpdatedDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onTestersTestSuccessHandlers: TesterSuccessDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onTestersTestFailureHandlers: TesterFailureDelegate[] = [];\n\n  /**\n   * Mustoverride function to provide a name for the Test Suite.\n   */\n  abstract getName(): string;\n\n  /**\n   * Mustoverride function to provide a description, in Html format, for the Test Suite.\n   */\n  abstract getDescriptionAsHtml(): string;\n\n  /**\n   * Gets the total number of tests in the Suite.\n   * @returns {number} The total number of tests.\n   */\n  getTestsTotal(): number {\n    // Return the total tests across all testers\n    return this.#testers.reduce((total, tester) => total + tester.getTestsTotal(), 0);\n  }\n\n  /**\n   * Gets the total number of currently running tests in the Suite.\n   * @returns {number} The total number of running tests.\n   */\n  getTestsRunning(): number {\n    // Return the total running tests across all testers\n    return this.#testers.reduce((total, tester) => total + tester.getTestsRunning(), 0);\n  }\n\n  /**\n   * Gets the total number of currently done tests in the Suite.\n   * @returns {number} The total number of tests done.\n   */\n  getTestsDone(): number {\n    // Return the total completed tests across all testers\n    return this.#testers.reduce((total, tester) => total + tester.getTestsDone(), 0);\n  }\n\n  /**\n   * Gets the total number of currently done successful tests in the Suite.\n   * @returns {number} The total number of tests done.\n   */\n  getTestsDoneSuccess(): number {\n    // Return the total completed tests across all testers\n    return this.#testers.reduce((total, tester) => total + tester.getTestsDoneSuccess(), 0);\n  }\n\n  /**\n   * Gets the total number of currently done failed tests in the Suite.\n   * @returns {number} The total number of tests done.\n   */\n  getTestsDoneFailed(): number {\n    // Return the total completed tests across all testers\n    return this.#testers.reduce((total, tester) => total + tester.getTestsDoneFailed(), 0);\n  }\n\n  /**\n   * Gets if all tests are done.\n   * @returns {boolean} Indicate if the tests are all done.\n   */\n  getTestsDoneAll(): boolean {\n    return this.#testers.every((tester) => tester.getTestsDoneAll());\n  }\n\n  /**\n   * Gets if all the tests are done and successfully.\n   * @returns {boolean} Indicate if the tests are all done and finished successfully.\n   */\n  getTestsDoneAllSuccess(): boolean {\n    return this.getTestsDoneAll() && this.#testers.every((tester) => tester.getTestsDoneAllSuccess());\n  }\n\n  /**\n   * Initializes a tester as part of the Test Suite.\n   * @param {AbstractTester} tester - The tester to initialize.\n   */\n  addTester(tester: AbstractTester): void {\n    // Add it\n    this.#testers.push(tester);\n\n    // Hook it\n    tester.onStarted(this.#handleTesterTestStarted.bind(this));\n    tester.onStepUpdated(this.#handleTesterTestStepUpdated.bind(this));\n    tester.onSuccess(this.#handleTesterSuccess.bind(this));\n    tester.onFailure(this.#handleTesterFailure.bind(this));\n  }\n\n  /**\n   * Launches the test suite.\n   * @returns {Promise<unknown>} Resolves when the tests are over.\n   */\n  async launchTestSuite(): Promise<unknown> {\n    // Validates the Test Suite isn't already running tests\n    if (this.getTestsRunning() > 0) throw new TestSuiteRunningError('The Test Suite is already running, please wait to prevent errors.');\n\n    // Validates the Test Suite can execute\n    if (!(await this.onCanExecuteTestSuite())) throw new TestSuiteCannotExecuteError();\n\n    // Launching test suite\n    return this.onLaunchTestSuite();\n  }\n\n  /**\n   * Resets all the testers in the suite.\n   */\n  resetTestSuite(): void {\n    // Validates the Test Suite isn't already running tests\n    if (this.getTestsRunning() > 0) throw new TestSuiteRunningError('The Test Suite is running, please wait to prevent errors.');\n\n    // Resets tests in all testers\n    this.#testers.forEach((tester) => tester.resetTests());\n  }\n\n  /**\n   * Overridable function called when the test suite has launched its tests.\n   * @returns {Promise<unknown>} Resolves when the tests are over.\n   */\n  protected abstract onLaunchTestSuite(): Promise<unknown>;\n\n  /**\n   * Overridable function called when the test suite is about to launch, to validate if it can be executed on the given map.\n   * @returns {Promise<boolean>} A Promise resolving to true if the test suite can execute on the given map.\n   */\n  // eslint-disable-next-line @typescript-eslint/class-methods-use-this\n  protected onCanExecuteTestSuite(): Promise<boolean> {\n    return Promise.resolve(true);\n  }\n\n  // #region PRIVATE\n\n  /**\n   * Handles the event indicating that a tester has started running a test,\n   * and re-emits it with additional context.\n   * This method allows external consumers to listen for when a test begins\n   * execution on a specific tester.\n   * @param {AbstractTester} sender - The tester instance that started the test.\n   * @param {TestEvent} event - The event containing the test that has started.\n   */\n  #handleTesterTestStarted(sender: AbstractTester, event: TestEvent): void {\n    // Re-emit\n    this.#emitTestStarted({ ...event, tester: sender });\n  }\n\n  /**\n   * Handles an event indicating that a test's step or state has been updated,\n   * and re-emits it with additional tester context.\n   * @param {AbstractTester} sender - The tester instance that updated the test.\n   * @param {TestUpdatedEvent} event - The event containing the updated test and its internal event.\n   */\n  #handleTesterTestStepUpdated(sender: AbstractTester, event: TestUpdatedEvent): void {\n    // Re-emit\n    this.#emitTestUpdated({ ...event, tester: sender });\n  }\n\n  /**\n   * Handles a successful test completion event from a tester,\n   * and re-emits it with additional tester context.\n   * @param {AbstractTester} sender - The tester instance that completed the test successfully.\n   * @param {SuccessEvent} event - The event containing the test and its resulting data.\n   */\n  #handleTesterSuccess(sender: AbstractTester, event: SuccessEvent): void {\n    // Re-emit\n    this.#emitSuccess({ ...event, tester: sender });\n  }\n\n  /**\n   * Handles a test failure event emitted by a tester,\n   * and re-emits it with additional tester context.\n   * @param {AbstractTester} sender - The tester instance that encountered the failure.\n   * @param {FailureEvent} event - The event containing the test and the associated error.\n   */\n  #handleTesterFailure(sender: AbstractTester, event: FailureEvent): void {\n    // Re-emit\n    this.#emitFailure({ ...event, tester: sender });\n  }\n\n  // #endregion PRIVATE\n\n  // #region EVENTS\n\n  /**\n   * Emits an event to all handlers.\n   * @param {TesterTestEvent} event - The event to emit\n   * @private\n   */\n  #emitTestStarted(event: TesterTestEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onTestersTestStartedHandlers, event);\n  }\n\n  /**\n   * Registers a test started event handler.\n   * @param {TesterTestDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onTestStarted(callback: TesterTestDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onTestersTestStartedHandlers, callback);\n  }\n\n  /**\n   * Unregisters a test started event handler.\n   * @param {TesterTestDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offTestStarted(callback: TesterTestDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onTestersTestStartedHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {TesterTestUpdatedEvent} event - The event to emit\n   * @private\n   */\n  #emitTestUpdated(event: TesterTestUpdatedEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onTestersTestUpdatedHandlers, event);\n  }\n\n  /**\n   * Registers a test updated event handler.\n   * @param {TesterTestUpdatedDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onTestUpdated(callback: TesterTestUpdatedDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onTestersTestUpdatedHandlers, callback);\n  }\n\n  /**\n   * Unregisters a test updateduccess event handler.\n   * @param {TesterTestUpdatedDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offTestUpdated(callback: TesterTestUpdatedDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onTestersTestUpdatedHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {TesterSuccessEvent} event - The event to emit\n   * @private\n   */\n  #emitSuccess(event: TesterSuccessEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onTestersTestSuccessHandlers, event);\n  }\n\n  /**\n   * Registers a success event handler.\n   * @param {TesterSuccessDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onSuccess(callback: TesterSuccessDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onTestersTestSuccessHandlers, callback);\n  }\n\n  /**\n   * Unregisters a success event handler.\n   * @param {TesterSuccessDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offSuccess(callback: TesterSuccessDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onTestersTestSuccessHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {TesterFailureEvent} event - The event to emit\n   * @private\n   */\n  #emitFailure(event: TesterFailureEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onTestersTestFailureHandlers, event);\n  }\n\n  /**\n   * Registers a failure event handler.\n   * @param {TesterFailureDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onFailure(callback: TesterFailureDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onTestersTestFailureHandlers, callback);\n  }\n\n  /**\n   * Unregisters a failure event handler.\n   * @param {TesterFailureDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offFailure(callback: TesterFailureDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onTestersTestFailureHandlers, callback);\n  }\n\n  // #endregion EVENTS\n}\n\n/**\n * Define an event for the delegate\n */\nexport interface TesterTestEvent extends TestEvent {\n  tester: AbstractTester;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type TesterTestDelegate = EventDelegateBase<AbstractTestSuite, TesterTestEvent, void>;\n\n/**\n * Define an event for the delegate\n */\nexport interface TesterTestUpdatedEvent extends TestUpdatedEvent {\n  tester: AbstractTester;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type TesterTestUpdatedDelegate = EventDelegateBase<AbstractTestSuite, TesterTestUpdatedEvent, void>;\n\n/**\n * Define an event for the delegate\n */\nexport interface TesterSuccessEvent extends SuccessEvent {\n  tester: AbstractTester;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type TesterSuccessDelegate = EventDelegateBase<AbstractTestSuite, TesterSuccessEvent, void>;\n\n/**\n * Define an event for the delegate\n */\nexport interface TesterFailureEvent extends FailureEvent {\n  tester: AbstractTester;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type TesterFailureDelegate = EventDelegateBase<AbstractTestSuite, TesterFailureEvent, void>;\n","import type { API } from 'geoview-core/api/api';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport { AbstractTestSuite } from '../core/abstract-test-suite';\n\n/**\n * Main GeoView Abstract Suite class.\n */\nexport abstract class GVAbstractTestSuite extends AbstractTestSuite {\n  /** The api */\n  #api: API;\n\n  /** The MapViewer */\n  #mapViewer: MapViewer;\n\n  /**\n   * Constructs an {@link GVAbstractTestSuite} instance.\n   * @param {API} api - The api, mainly used to retrieve the MapViewer.\n   * @param {string} mapViewer - The map viewer.\n   */\n  protected constructor(api: API, mapViewer: MapViewer) {\n    super();\n\n    // Keep attributes\n    this.#api = api;\n    this.#mapViewer = mapViewer;\n  }\n\n  /**\n   * Gets the shared api.\n   */\n  getApi(): API {\n    return this.#api;\n  }\n\n  /**\n   * Gets the MapViewer.\n   */\n  getMapViewer(): MapViewer {\n    return this.#mapViewer;\n  }\n\n  /**\n   * Gets the Map Id.\n   */\n  getMapId(): string {\n    return this.#mapViewer.mapId;\n  }\n}\n","import type { ClassType } from 'geoview-core/core/types/global-types';\nimport {\n  TestError,\n  AssertionJSONObjectError,\n  AssertionUndefinedError,\n  AssertionDefinedError,\n  AssertionValueError,\n  AssertionWrongInstanceError,\n  AssertionArrayExcludingError,\n  AssertionArrayIncludingError,\n  AssertionArrayLengthError,\n  AssertionArrayLengthMinimalError,\n  AssertionWrongErrorInstanceError,\n  AssertionNoErrorThrownError,\n  AssertionValueNotAnArrayError,\n  AssertionArraysNotEqualError,\n  AssertionManualFailError,\n  AssertionValueDifferentError,\n} from './exceptions';\nimport type { TestStepLevel } from './test-step';\nimport { TestStep } from './test-step';\nimport type { EventDelegateBase } from 'geoview-core/api/events/event-helper';\nimport EventHelper from 'geoview-core/api/events/event-helper';\nimport { generateId } from 'geoview-core/core/utils/utilities';\n\nexport class Test<T = unknown> {\n  /** A unique id for the test */\n  id: string;\n\n  /** A title for the test */\n  #title: string;\n\n  /** The type of test (regular, true-negative) */\n  #type: TestType = 'regular';\n\n  /** The Steps the Test has processed so far */\n  #steps: TestStep[] = [];\n\n  /** The step status */\n  #status: TestStatus = 'new';\n\n  /** The assertion result when the test has executed its run. */\n  #result?: T;\n\n  /** The error which occurred during the test if any. */\n  #error?: Error;\n\n  /** Keep all callback delegate references */\n  #onStatusChangedHandlers: TestChangedDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onStepChangedHandlers: TestChangedDelegate[] = [];\n\n  /**\n   * Constructs an {@link Test} instance.\n   * @param message - A message describing the test.\n   */\n  constructor(title: string) {\n    this.id = generateId();\n    this.#title = title;\n  }\n\n  /**\n   * Gets the current title.\n   * @returns {string} The title.\n   */\n  getTitle(): string {\n    return this.#title;\n  }\n\n  /**\n   * Sets the title.\n   * @param {string} title - The title to set.\n   */\n  setTitle(title: string): void {\n    this.#title = title;\n  }\n\n  /**\n   * Gets the current title.\n   * @returns {TestType} The title.\n   */\n  getType(): TestType {\n    return this.#type;\n  }\n\n  /**\n   * Sets the title.\n   * @param {TestType} type - The type to set.\n   */\n  setType(type: TestType): void {\n    this.#type = type;\n  }\n\n  /**\n   * Gets the current status of the test.\n   * @returns {string | undefined} The current step, or undefined if none is set.\n   */\n  getStatus(): TestStatus {\n    return this.#status;\n  }\n\n  /**\n   * Sets the current status of the test.\n   * @param {TestStatus} status - The status value to set.\n   */\n  setStatus(status: TestStatus): void {\n    this.#status = status;\n    this.#emitStatusChanged({ status });\n  }\n\n  /**\n   * Gets the step processed so far.\n   * @returns {TestStep[]} The steps processed so far.\n   */\n  getSteps(): TestStep[] {\n    return this.#steps;\n  }\n\n  /**\n   * Gets the steps formatted in html <ul> list.\n   * @returns {string} The steps formatted in html string.\n   */\n  getStepsAsHtml(): string {\n    const steps = this.getSteps();\n    if (steps.length === 0) return '';\n\n    let html = '<ul style=\"font-size: small;\">';\n\n    let currentMajorHtml = '';\n    let nestedSteps: string[] = [];\n\n    for (const step of steps) {\n      if (step.level === 'major') {\n        // If there's a previous major step, close it out\n        if (currentMajorHtml) {\n          if (nestedSteps.length > 0) {\n            currentMajorHtml += `<ul>${nestedSteps.join('')}</ul>`;\n          }\n          html += `<li>${currentMajorHtml}</li>`;\n          nestedSteps = [];\n        }\n        // Start a new major step\n        currentMajorHtml = `<strong><font style=\"color: ${step.color};\">${step.message}</font></strong>`;\n      } else {\n        // Accumulate nested steps\n        nestedSteps.push(`<li>${step.message}</li>`);\n      }\n    }\n\n    // Add the last major step (if any)\n    if (currentMajorHtml) {\n      if (nestedSteps.length > 0) {\n        currentMajorHtml += `<ul>${nestedSteps.join('')}</ul>`;\n      }\n      html += `<li>${currentMajorHtml}</li>`;\n    }\n\n    html += '</ul>';\n    return html;\n  }\n\n  /**\n   * Adds the step and emits a step change event.\n   * @param {string} step - The step value to add.\n   * @param {TypeStepLevel} level - The step level.\n   * @param {string} color - The step color for display purposes.\n   */\n  addStep(step: string, level: TestStepLevel = 'regular', color: string = 'black'): void {\n    this.#steps.push(new TestStep(step, level, color));\n    this.#emitStepChanged({ step });\n  }\n\n  /**\n   * Gets the assertion result associated with this instance.\n   * @returns {T | undefined} The assertion result, or undefined if not set.\n   */\n  getResult(): T | undefined {\n    return this.#result;\n  }\n\n  /**\n   * Sets the assertion result for this instance.\n   * @param {T} result - The result to associate.\n   */\n  setResult(result: T): void {\n    this.#result = result;\n  }\n\n  /**\n   * Gets the error which occurred during the test.\n   * @returns {Error | undefined} The error if any.\n   */\n  getError(): Error | undefined {\n    return this.#error;\n  }\n\n  /**\n   * Sets the error which occurred during the test..\n   * @param {Error} error - The error.\n   */\n  setError(error: Error): void {\n    this.#error = error;\n  }\n\n  // #region STATIC\n\n  // #region PRIMITIVES\n\n  /**\n   * Rounds a number to the specified precision.\n   * @param {number} value - The number to round.\n   * @param {number} precision - The number of decimal places.\n   * @returns {number} The rounded value.\n   * @private\n   * @static\n   */\n  static #roundToPrecision(value: number, precision: number): number {\n    const multiplier = Math.pow(10, precision);\n    return Math.round(value * multiplier) / multiplier;\n  }\n\n  /**\n   * Asserts that two values are strictly equal (`===`).\n   * @param {T} actualValue - The actual value being checked.\n   * @param {T} expectedValue - The expected value to compare against.\n   * @param {number} [roundToPrecision] - Optional number of decimal places to round to before comparing (for numbers only).\n   * @throws {AssertionError} If the values are not strictly equal.\n   * @static\n   */\n  static assertIsEqual<T = unknown>(actualValue: T, expectedValue: T, roundToPrecision?: number): asserts actualValue is T {\n    // Redirect\n    const equalResult = this.#checkValuesEqual(actualValue, expectedValue, roundToPrecision);\n\n    // If equal\n    if (equalResult.equal) return;\n\n    // Throw\n    throw new AssertionValueError(equalResult.actualValue, equalResult.expectedValue);\n  }\n\n  /**\n   * Asserts that two values are not equal (`!==`).\n   * @param {T} actualValue - The actual value being checked.\n   * @param {T} expectedValue - The expected value to compare against.\n   * @param {number} [roundToPrecision] - Optional number of decimal places to round to before comparing (for numbers only).\n   * @throws {AssertionValueDifferentError} If the values are equal.\n   * @static\n   */\n  static assertIsNotEqual<T = unknown>(actualValue: T, expectedValue: T, roundToPrecision?: number): asserts actualValue is T {\n    // Redirect\n    const equalResult = this.#checkValuesEqual(actualValue, expectedValue, roundToPrecision);\n\n    // If not equal\n    if (!equalResult.equal) return;\n\n    // Throw\n    throw new AssertionValueDifferentError(equalResult.actualValue);\n  }\n\n  /**\n   * Asserts that a value is defined.\n   * @param {string} propertyPath - The name or path of the array being validated.\n   * @param {T | undefined} actualValue - The actual value being checked.\n   * @throws {AssertionUndefinedError} If the value isn't defined.\n   * @static\n   */\n  static assertIsDefined<T = unknown>(propertyPath: string, actualValue: T | undefined): void {\n    // Checks if the value is defined\n    if (actualValue !== undefined && actualValue !== null) return;\n\n    // Throw\n    throw new AssertionUndefinedError(propertyPath);\n  }\n\n  /**\n   * Asserts that a value is undefined.\n   * @param {string} propertyPath - The name or path of the array being validated.\n   * @param {T | undefined} actualValue - The actual value being checked.\n   * @throws {AssertionUndefinedError} If the value isn't defined.\n   * @static\n   */\n  static assertIsUndefined<T = unknown>(propertyPath: string, actualValue: T | undefined): void {\n    // Checks if the value is defined\n    if (actualValue === undefined || actualValue === null) return;\n\n    // Throw\n    throw new AssertionDefinedError(propertyPath, actualValue);\n  }\n\n  /**\n   * Asserts that a value is of the correct instance type.\n   * @param {unknown} actualValue - The actual value being checked.\n   * @param {Type<T>} expectedType - The expected class type.\n   * @throws {AssertionWrongInstanceError} If the value isn't defined.\n   * @static\n   */\n  static assertIsInstance<T>(actualValue: unknown, expectedType: ClassType<T>): asserts actualValue is T {\n    // Checks if the value is defined, first\n    Test.assertIsDefined('Object instance', actualValue);\n\n    // Checks if the value is of the expected instance type\n    if (actualValue instanceof expectedType) return;\n\n    // Throw\n    throw new AssertionWrongInstanceError(actualValue, expectedType);\n  }\n\n  /**\n   * Asserts that a value is of the correct instance type.\n   * @param {T} actualError - The actual error being checked.\n   * @param {Type<T>} expectedType - The expected class type.\n   * @throws {AssertionWrongInstanceError} If the value isn't defined.\n   * @static\n   */\n  static assertIsErrorInstance<T extends Error>(actualError: T, expectedType: ClassType<T>): asserts actualError is T {\n    // Checks if the value is defined, first\n    if (!actualError) throw new AssertionNoErrorThrownError(expectedType);\n\n    // Checks if the value is of the expected instance type\n    if (actualError instanceof expectedType) return;\n\n    // Throw\n    throw new AssertionWrongErrorInstanceError(actualError, expectedType);\n  }\n\n  /**\n   * Manually fails a test with a custom message.\n   * This is useful when you need to explicitly fail a test based on custom logic or conditions\n   * that cannot be expressed with the other assertion methods.\n   * @param {string} message - Custom message explaining why the test is being manually failed.\n   * @throws {AssertionManualFailError} Always throws to fail the test.\n   * @static\n   */\n  static assertFail(message: string = 'Test manually failed'): never {\n    // Throw the manual fail error\n    throw new AssertionManualFailError(message);\n  }\n\n  /**\n   * Compares two values for strict equality, with optional numeric rounding.\n   * If `roundToPrecision` is provided and both values are numbers, the values are\n   * rounded to the given precision before comparison.\n   * @param {T} actualValue - The actual value to compare.\n   * @param {T} expectedValue - The expected value to compare against.\n   * @param {number?} [roundToPrecision] - Optional number of decimal places to round numeric values to.\n   * @returns An object describing whether the values are equal and the values used for comparison.\n   */\n  static #checkValuesEqual<T = unknown>(actualValue: T, expectedValue: T, roundToPrecision?: number): EqualHelper<T> {\n    // If rounding is specified and both values are numbers, round them first\n    if (roundToPrecision !== undefined && typeof actualValue === 'number' && typeof expectedValue === 'number') {\n      const roundedActual = this.#roundToPrecision(actualValue, roundToPrecision);\n      const roundedExpected = this.#roundToPrecision(expectedValue, roundToPrecision);\n      return { equal: roundedActual === roundedExpected, actualValue: roundedActual as T, expectedValue: roundedExpected as T };\n    }\n\n    // Checks if the result value is the same as the value provided\n    return { equal: actualValue === expectedValue, actualValue, expectedValue };\n  }\n\n  // #endregion PRIMITIVES\n\n  // #region ARRAYS\n\n  /**\n   * Asserts that a value is an array.\n   * @param {unknown} actualValue - The object to check.\n   * @throws {AssertionValueNotAnArrayError} If the value is not an array.\n   * @static\n   */\n  static assertIsArray(actualValue: unknown | unknown[] | undefined): asserts actualValue is unknown[] {\n    if (Array.isArray(actualValue)) return;\n\n    // Throw\n    throw new AssertionValueNotAnArrayError(actualValue);\n  }\n\n  /**\n   * Asserts that a length of a given array is equal to the expected length.\n   * @param {unknown[] | undefined} array - The array to check the length.\n   * @param {number} expectedValue - The expected length of the array.\n   * @throws {AssertionArrayLengthError} If the values are not strictly equal.\n   * @throws {AssertionValueNotAnArrayError} If the value is not an array.\n   * @static\n   */\n  static assertIsArrayLengthEqual(array: unknown[] | undefined, expectedValue: number): void {\n    // Test if it is an array\n    Test.assertIsArray(array);\n\n    if (array?.length === expectedValue) return;\n\n    // Throw\n    throw new AssertionArrayLengthError(array?.length, expectedValue);\n  }\n\n  /**\n   * Asserts that a length of a given array is equal to the expected length.\n   * @param {unknown[] | undefined} array - The array to check the length.\n   * @param {number} expectedMinimumLength - The expected minimum length of the array.\n   * @throws {AssertionArrayLengthMinimalError} If the values are not strictly equal.\n   * @throws {AssertionValueNotAnArrayError} If the value is not an array.\n   * @static\n   */\n  static assertIsArrayLengthMinimal(array: unknown[] | undefined, expectedMinimumLength: number): void {\n    // Test if it is an array\n    Test.assertIsArray(array);\n\n    if (array?.length ?? 0 >= expectedMinimumLength) return;\n\n    // Throw\n    throw new AssertionArrayLengthMinimalError(array?.length ?? 0, expectedMinimumLength);\n  }\n\n  /**\n   * Asserts that the given array includes the expected value.\n   * @template T - The type of the elements in the array.\n   * @param {T[]} array - The array to search.\n   * @param {T} expectedValue - The value expected to be included in the array.\n   * @throws {AssertionArrayNotIncludingError} Throws if the expected value is not found in the array.\n   * @throws {AssertionValueNotAnArrayError} If the value is not an array.\n   * @static\n   */\n  static assertArrayIncludes<T = unknown>(array: T[], expectedValue: T): void {\n    // Test if it is an array\n    Test.assertIsArray(array);\n\n    if (array.includes(expectedValue)) return;\n\n    // Throw\n    throw new AssertionArrayIncludingError(array, expectedValue);\n  }\n\n  /**\n   * Asserts that the given array excludes a particular value.\n   * @template T - The type of the elements in the array.\n   * @param {T[]} array - The array to search.\n   * @param {T} expectedValue - The value expected to be included in the array.\n   * @throws {AssertionArrayNotIncludingError} Throws if the expected value is not found in the array.\n   * @throws {AssertionValueNotAnArrayError} If the value is not an array.\n   * @static\n   */\n  static assertArrayExcludes<T = unknown>(array: T[], expectedValue: T): void {\n    // Test if it is an array\n    Test.assertIsArray(array);\n\n    if (!array.includes(expectedValue)) return;\n\n    // Throw\n    throw new AssertionArrayExcludingError(array, expectedValue);\n  }\n\n  /**\n   * Asserts that two arrays have equal values and in the same order (primitive comparison).\n   * @param {T[]} actualValue - The actual array being checked.\n   * @param {T[]} expectedValue - The expected array to compare against.\n   * @param {number} [roundToPrecision] - Optional number of decimal places to round to before comparing (for number arrays only).\n   * @throws {AssertionValueNotAnArrayError} If one value isn't an array.\n   * @throws {AssertionArrayLengthError} If the lengths aren't the same between the 2 arrays.\n   * @throws {AssertionArraysNotEqualError} If one object isn't the same as the other object in the other array based on the primitive `===` comparer.\n   * @static\n   */\n  static assertIsArrayEqual<T = unknown>(actualValue: T[], expectedValue: T[], roundToPrecision?: number): void {\n    // Redirect using a primitive comparer with optional rounding\n    this.#assertIsArrayEqualComparer(actualValue, expectedValue, (value1: T, value2: T): boolean => {\n      // Reuse assertIsEqual which already handles rounding logic\n      try {\n        this.assertIsEqual(value1, value2, roundToPrecision);\n        return true;\n      } catch {\n        return false;\n      }\n    });\n\n    // If we get here, arrays have equal primitive values and in the same order\n    return;\n  }\n\n  /**\n   * Asserts that calls `assertJsonObject` for each object of the first array against each object of the second array, in the same order.\n   * @param {T[]} actualValue - The actual array being checked.\n   * @param {T[]} expectedValue - The expected array to compare against.\n   * @throws {AssertionValueNotAnArrayError} If one value isn't an array.\n   * @throws {AssertionArrayLengthError} If the lengths aren't the same between the 2 arrays.\n   * @throws {AssertionArraysNotEqualError} If one object isn't the same as the other object in the other array based on the `assertJsonObject` comparer.\n   * @throws {AssertionJSONObjectError} If one object isn't the same as the other object in the other array based on the `assertJsonObject` comparer.\n   * @static\n   */\n  static assertIsArrayEqualJsons<T = unknown>(actualValue: T[], expectedValue: T[]): void {\n    // Redirect using a json comparer\n    this.#assertIsArrayEqualComparer(actualValue, expectedValue, (value1: T, value2: T): boolean => {\n      // Use complex assertJsonObject comparer\n      // A 'AssertionJSONObjectError' is thrown if `assertJsonObject` is not equal which provides\n      // useful information on the json object comparer error - use that exception instead of creating another one.\n      this.assertJsonObject(value1, value2);\n      return true;\n    });\n\n    // If we get here, arrays have equal json object assertions and in the same order\n    return;\n  }\n\n  /**\n   * Asserts that two arrays have equal values and in the same order (deep comparison).\n   * @param {T[]} actualValue - The actual array being checked.\n   * @param {T[]} expectedValue - The expected array to compare against.\n   * @throws {AssertionValueNotAnArrayError} If one value isn't an array.\n   * @throws {AssertionArrayLengthError} If the lengths aren't the same between the 2 arrays.\n   * @throws {AssertionArraysNotEqualError} If one object isn't the same as the other object in the other array based on the provided comparer mechanism.\n   * @static\n   * @private\n   */\n  static #assertIsArrayEqualComparer<T = unknown>(actualValue: T[], expectedValue: T[], comparer: ComparerDelegate<T>): void {\n    // Check if both are arrays\n    Test.assertIsArray(actualValue);\n    Test.assertIsArray(expectedValue);\n\n    // Check if lengths are equal\n    if (actualValue.length !== expectedValue.length) {\n      throw new AssertionArrayLengthError(actualValue.length, expectedValue.length);\n    }\n\n    // Compare each element in the same order\n    for (let i = 0; i < actualValue.length; i++) {\n      if (!comparer(actualValue[i], expectedValue[i])) {\n        throw new AssertionArraysNotEqualError(actualValue, expectedValue, i, expectedValue[i], actualValue[i]);\n      }\n    }\n\n    // If we get here, arrays are equal\n    return;\n  }\n\n  // #endregion ARRAYS\n\n  // #region JSON\n\n  /**\n   * Asserts that a JSON object has at least all the properties/values of the expected JSON object.\n   * @param {unknown} actualObject - The JSON object to check.\n   * @param {unknown} expectedObject - The JSON object to representing the properties/values the actual value should have.\n   * @throws {TestError} If the JSON object being verified is actually a Promise (likely a dev issue).\n   * @throws {AssertionJSONObjectError} If the JSON object being verified is missing properties or has different values.\n   * @static\n   */\n  static assertJsonObject(actualObject: unknown, expectedObject: unknown): void {\n    // If the object is a promise, throw error\n    if (actualObject instanceof Promise)\n      throw new TestError('The JSON object to verify is a promise, are you missing an await in your test process?');\n\n    // Compare the 2 json objects\n    const result = this.#jsonObjectIsAtLeast(actualObject as Record<string, unknown>, expectedObject as Record<string, unknown>);\n\n    // If not good\n    if (!result.ok) {\n      // Throw\n      throw new AssertionJSONObjectError(result.mismatches, actualObject, expectedObject);\n    }\n  }\n\n  /**\n   * Recursively checks that the `actual` object contains at least all properties and matching values\n   * from the `expected` object. Supports deeply nested structures and arrays.\n   * @param {Record<string, unknown>} actual - The object being validated.\n   * @param {Record<string, unknown>} expected - The minimum required shape and values.\n   * @param {string} basePath - Internal path tracker for nested mismatches (default: '').\n   * @returns An object with:\n   *   - `ok`: `true` if target meets/exceeds the reference\n   *   - `mismatches`: a list of string paths where mismatches occurred\n   * @example\n   * const actual = { user: { name: \"Alice\", roles: [\"admin\", \"editor\"] } };\n   * const expected = { user: { name: \"Alice\", roles: [\"admin\"] } };\n   * Returns: { ok: true, mismatches: [] }\n   *\n   * const actual = { user: { name: \"Bob\", roles: [\"editor\"] } };\n   * const expected = { user: { name: \"Alice\", roles: [\"admin\"] } };\n   * Returns:\n   * {\n   *   ok: false,\n   *   mismatches: [\n   *     'user.name  actual: \"Bob\", expected: \"Alice\"',\n   *     'user.roles[0]  actual: \"editor\", expected: \"admin\"'\n   *   ]\n   * }\n   * @private\n   * @static\n   */\n  static #jsonObjectIsAtLeast(\n    actual: Record<string, unknown>,\n    expected: Record<string, unknown>,\n    basePath: string = ''\n  ): ObjectAssertionResult {\n    // Array to collect all the paths where mismatches or missing data occur\n    const mismatches: string[] = [];\n\n    // Builds the current path string (e.g., \"user.name\" or \"roles[0]\")\n    const currentPath = (key: string | number): string => (basePath ? `${basePath}.${key}` : `${key}`);\n\n    // Handle primitive or null values: compare directly\n    if (typeof expected !== 'object' || expected === null) {\n      if (expected !== actual) {\n        // Record mismatch at current path\n        mismatches.push(`${basePath}  actual: ${JSON.stringify(actual)}, expected: ${JSON.stringify(expected)}`);\n      }\n      return {\n        ok: mismatches.length === 0,\n        mismatches,\n      };\n    }\n\n    // Handle arrays: ensure each reference item is matched by at least one target item\n    if (Array.isArray(expected)) {\n      if (!Array.isArray(actual)) {\n        // Target is not an array\n        mismatches.push(`${basePath}  actual: ${typeof actual}, expected an array`);\n        return {\n          ok: false,\n          mismatches,\n        };\n      }\n\n      // Each expected item must be matched by at least one item in the actual array\n      for (let i = 0; i < expected.length; i++) {\n        const expectedItem = expected[i];\n\n        let foundMatch = false;\n        let failedMismatches: string[] = [];\n\n        for (const actualItem of actual) {\n          const result = this.#jsonObjectIsAtLeast(actualItem, expectedItem, `${basePath}[${i}]`);\n          if (result.ok) {\n            foundMatch = true;\n            break;\n          } else if (failedMismatches.length === 0) {\n            // Save mismatches from the first failure to report if no match found\n            failedMismatches = result.mismatches;\n          }\n        }\n\n        if (!foundMatch) {\n          // Keep next line in case we want it back..\n          // mismatches.push(`${basePath}[${i}]  expected item not found: ${JSON.stringify(expectedItem)}`);\n          mismatches.push(...failedMismatches);\n        }\n      }\n      return {\n        ok: mismatches.length === 0,\n        mismatches,\n      };\n    }\n\n    // At this point, both reference and target are plain objects\n    if (typeof actual !== 'object' || actual === null || Array.isArray(actual)) {\n      mismatches.push(`${basePath}  actual: ${JSON.stringify(actual)}, expected an object`);\n      return { ok: false, mismatches };\n    }\n\n    // Recursively check each key in the reference object\n    for (const key of Object.keys(expected)) {\n      if (!(key in actual)) {\n        mismatches.push(`${currentPath(key)}  missing key, expected: ${JSON.stringify(expected[key])}`);\n      } else {\n        const childResult = this.#jsonObjectIsAtLeast(\n          actual[key] as Record<string, unknown>,\n          expected[key] as Record<string, unknown>,\n          currentPath(key)\n        );\n        mismatches.push(...childResult.mismatches);\n      }\n    }\n\n    return {\n      ok: mismatches.length === 0,\n      mismatches,\n    };\n  }\n\n  // #endregion JSON\n\n  // #endregion\n\n  // #region EVENTS\n\n  /**\n   * Emits an event to all handlers.\n   * @param {StatusChangedEvent} event - The event to emit\n   * @private\n   */\n  #emitStatusChanged(event: StatusChangedEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onStatusChangedHandlers, event);\n  }\n\n  /**\n   * Registers a success event handler.\n   * @param {TestChangedDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onStatusChanged(callback: TestChangedDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onStatusChangedHandlers, callback);\n  }\n\n  /**\n   * Unregisters a success event handler.\n   * @param {TestChangedDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offStatusChanged(callback: TestChangedDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onStatusChangedHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {StepChangedEvent} event - The event to emit\n   * @private\n   */\n  #emitStepChanged(event: StepChangedEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onStepChangedHandlers, event);\n  }\n\n  /**\n   * Registers a success event handler.\n   * @param {TestChangedDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onStepChanged(callback: TestChangedDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onStepChangedHandlers, callback);\n  }\n\n  /**\n   * Unregisters a success event handler.\n   * @param {TestChangedDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offStepChanged(callback: TestChangedDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onStepChangedHandlers, callback);\n  }\n\n  // #endregion EVENTS\n}\n\n/**\n * Define a type for the result of a JSON object assertion check\n */\nexport type ObjectAssertionResult = { ok: boolean; mismatches: string[] };\n\n/**\n * Define a base event for the delegates\n */\nexport interface BaseTestChangedEvent {}\n\n/**\n * Define an event for the delegate\n */\nexport interface StepChangedEvent extends BaseTestChangedEvent {\n  step: string | undefined;\n}\n\n/**\n * Define an event for the delegate\n */\nexport interface StatusChangedEvent extends BaseTestChangedEvent {\n  status: TestStatus;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type TestChangedDelegate = EventDelegateBase<Test, BaseTestChangedEvent, void>;\n\n/**\n * The test types\n */\nexport type TestType = 'regular' | 'true-negative';\n\n/**\n * The test statuses\n */\nexport type TestStatus = 'new' | 'running' | 'verifying' | 'success' | 'failed';\n\n/**\n * A comparer delegate to compare 2 objects and determine if they are equal.\n */\nexport type ComparerDelegate<T> = (array1: T, array2: T) => boolean;\n\n/**\n * Represents the result of an equality comparison between two values.\n * @property {boolean} equal\n * Indicates whether {@link actualValue} and {@link expectedValue} are considered equal.\n * @property {T} actualValue\n * The value produced or observed during execution.\n * @property {T} expectedValue\n * The value that {@link actualValue} was compared against.\n */\ntype EqualHelper<T> = { equal: boolean; actualValue: T; expectedValue: T };\n","import type { API } from 'geoview-core/api/api';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport { GVAbstractTestSuite } from './abstract-gv-test-suite';\nimport { MapConfigTester } from '../testers/map-config-tester';\n\n/**\n * The GeoView Test Suite for Map Configuration.\n */\nexport class GVTestSuiteMapConfig extends GVAbstractTestSuite {\n  /** The Map Config Tester used in this Test Suite */\n  #mapConfigTester: MapConfigTester;\n\n  /**\n   * Constructs the Test Suite\n   * @param {API} api - The shared api\n   * @param {MapViewer} mapViewer - The map viewer\n   */\n  constructor(api: API, mapViewer: MapViewer) {\n    super(api, mapViewer);\n\n    // Create the Map Config tester\n    this.#mapConfigTester = new MapConfigTester(api, mapViewer);\n    this.addTester(this.#mapConfigTester);\n  }\n\n  /**\n   * Returns the name of the Test Suite.\n   * @returns {string} The name of the Test Suite.\n   */\n  override getName(): string {\n    return 'Map Config Test Suite';\n  }\n\n  /**\n   * Returns the description of the Test Suite.\n   * @returns {string} The description of the Test Suite.\n   */\n  override getDescriptionAsHtml(): string {\n    return 'Test Suite to perform various map configuration related tests';\n  }\n\n  /**\n   * Overrides the implementation to perform the tests for this Test Suite.\n   * @returns {Promise<unknown>} A Promise which resolves when tests are completed.\n   */\n  protected override async onLaunchTestSuite(): Promise<unknown> {\n    // TODO: CHECK - For performance, check which of these tests can happen in parallel with other tests (remove some 'awaits' here and group some together)\n    // Test data table pre-loaded in footer bar\n    const pDataTableInFooterBar = this.#mapConfigTester.testDataTableSelectedTabFooterBar();\n    await pDataTableInFooterBar;\n\n    // Test data table pre-loaded in app bar\n    const pDataTableInAppBar = this.#mapConfigTester.testDataTableSelectedTabAppBar();\n    await pDataTableInAppBar;\n\n    // Test no footerBar/appBar config has defaults\n    const pNoFooterBarAppBarDefaults = this.#mapConfigTester.testNoFooterBarAppBarConfigHasDefaults();\n    await pNoFooterBarAppBarDefaults;\n\n    // Test empty footerBar/appBar tabs has no footer or app bar\n    const pEmptyFooterBarAppBar = this.#mapConfigTester.testEmptyFooterBarAppBarTabsHasNoFooter();\n    await pEmptyFooterBarAppBar;\n\n    // Test navBar with null has defaults\n    const pNoNavBarDefaults = this.#mapConfigTester.testNoNavBarHasDefaults();\n    await pNoNavBarDefaults;\n\n    // Test navBar with empty components has zoom and rotate\n    const pEmptyNavBarZoomRotate = this.#mapConfigTester.testEmptyNavBarHasZoomRotate();\n    await pEmptyNavBarZoomRotate;\n\n    // Test initial view with layerIds sets extent\n    const pInitialViewLayerIds = this.#mapConfigTester.testInitialViewLayerIdsSetExtent();\n    await pInitialViewLayerIds;\n\n    // Test overlay objects with point markers\n    const pOverlayObjectsPointMarkers = this.#mapConfigTester.testOverlayObjectsPointMarkers();\n    await pOverlayObjectsPointMarkers;\n\n    // Test view settings zoom constraints\n    const pViewSettingsZoomConstraints = this.#mapConfigTester.testViewSettingsZoomConstraints();\n    await pViewSettingsZoomConstraints;\n\n    // Resolve when all\n    return Promise.all([\n      pDataTableInFooterBar,\n      pDataTableInAppBar,\n      pNoFooterBarAppBarDefaults,\n      pEmptyFooterBarAppBar,\n      pNoNavBarDefaults,\n      pEmptyNavBarZoomRotate,\n      pInitialViewLayerIds,\n      pOverlayObjectsPointMarkers,\n      pViewSettingsZoomConstraints,\n    ]);\n  }\n}\n","export class TestStep {\n  /**\n   * Constructs a TestStep.\n   * @param {string} message - The step message\n   */\n  constructor(\n    public message: string,\n    public level: TestStepLevel = 'regular',\n    public color: string = 'black'\n  ) {}\n}\n\n/**\n * The level of the Test Step.\n */\nexport type TestStepLevel = 'regular' | 'major';\n","import type { Coordinate } from 'ol/coordinate';\nimport { Test } from '../core/test';\nimport { GVAbstractTester } from './abstract-gv-tester';\nimport { LayerTester } from './layer-tester';\nimport { delay } from 'geoview-core/core/utils/utilities';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport type { AbstractGVLayer } from 'geoview-core/geo/layer/gv-layers/abstract-gv-layer';\nimport { GeochartEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/geochart-event-processor';\nimport { UIEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/ui-event-processor';\n\n/**\n * Main Map testing class.\n * @extends {GVAbstractTester}\n */\nexport class GeochartTester extends GVAbstractTester {\n  /**\n   * Returns the name of the Tester.\n   * @returns {string} The name of the Tester.\n   */\n  override getName(): string {\n    return 'GeochartTester';\n  }\n\n  /**\n   * Tests opening the Geochart for a given layer path.\n   * @param {string} layerPath - The layer path of the layer.\n   * @param {Coordinate} lonlat - The coordinate on the map to query.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testGeochartOpenForLayerMapClick(layerPath: string, lonlat: Coordinate): Promise<Test<AbstractGVLayer>> {\n    // Test\n    return this.test(\n      `Test Geochart on layer ${layerPath}...`,\n      (test) => {\n        // Continue the test and return the layer\n        return GeochartTester.helperStepLayerWithGeochart(test, this.getMapViewer(), layerPath, lonlat);\n      },\n      (test) => {\n        // Perform assertions\n        // Check that geochart is the active footer bar\n        test.addStep(\"Verifying 'geochart' is the selected footer tab...\");\n        Test.assertIsEqual(UIEventProcessor.getActiveFooterBarTab(this.getMapId()), 'geochart');\n\n        // Check that layer path is selected\n        test.addStep('Verifying ' + layerPath + ' is the selected layer for the geochart...');\n        Test.assertIsEqual(GeochartEventProcessor.getSingleGeochartState(this.getMapId(), 'selectedLayerPath'), layerPath);\n      }\n    );\n  }\n\n  /**\n   * Tests adding a the Airborne Geocore layer, launching a query layers at a given lonlat, set the active footerbar tab to geochart and select the layer in the geochart panel.\n   * @returns {Promise<Test<AbstractGVLayer>>} A Promise resolving when the test completes.\n   */\n  testAddGeocoreLayerUUIDForGeochartAirborne(): Promise<Test<AbstractGVLayer>> {\n    // Test it\n    return this.testAddGeocoreLayerUUIDForGeochart(\n      GVAbstractTester.AIRBORNE_RADIOACTIVITY_UUID,\n      GVAbstractTester.AIRBORNE_RADIOACTIVITY_UUID_WITH_SUFFIX,\n      GVAbstractTester.AIRBORNE_RADIOACTIVITY_GROUP,\n      GVAbstractTester.QUEBEC_LONLAT,\n      {\n        [GVAbstractTester.AIRBORNE_RADIOACTIVITY_UUID_WITH_SUFFIX]: {\n          layers: [\n            {\n              layerId: GVAbstractTester.AIRBORNE_RADIOACTIVITY_UUID_WITH_SUFFIX,\n              propertyValue: 'OBJECTID',\n              propertyDisplay: 'Location_Emplacement',\n            },\n          ],\n          chart: 'line',\n          query: {\n            type: 'esriRegular',\n            url: 'https://maps-cartes.services.geo.ca/server_serveur/rest/services/HC/airborne_radioactivity_en/MapServer/3',\n            queryOptions: {\n              whereClauses: [\n                {\n                  field: 'Location_Emplacement',\n                  prefix: \"'\",\n                  valueFrom: 'Location_Emplacement',\n                  suffix: \"'\",\n                },\n              ],\n              orderByField: 'CollectionStart_DebutPrelevement',\n            },\n          },\n        },\n      }\n    );\n  }\n\n  /**\n   * Tests adding a Geocore layer, launching a query layers at a given lonlat, set the active footerbar tab to geochart and select the layer in the geochart panel.\n   * @param {string} uuid - The uuid of the Gecoore layer\n   * @param {string} layerPathAdd - The layer path of the layer that was added\n   * @param {string} layerPathRemove - The layer path of the layer to remove once the test terminates.\n   * @param {Coordinate} lonlat - The coordinate on the map to query.\n   * @param {Record<string, unknown>} expectedGeochartChartsConfig - The expected geochart charts configuration to validate.\n   * @returns\n   */\n  testAddGeocoreLayerUUIDForGeochart(\n    uuid: string,\n    layerPathAdd: string,\n    layerPathRemove: string,\n    lonlat: Coordinate,\n    expectedGeochartChartsConfig: Record<string, unknown>\n  ): Promise<Test<AbstractGVLayer>> {\n    // Test\n    return this.test(\n      'Test Geochart',\n      async (test) => {\n        // Update the step\n        test.addStep(`Adding the layer on the map for ${uuid}`);\n\n        // Add the geoview layer by geocore uuid\n        const result = await this.getMapViewer().layer.addGeoviewLayerByGeoCoreUUID(uuid);\n\n        // Update the step\n        test.addStep(`Adding the layer on the map...`);\n\n        // Wait for the layer to be processed (bit optional)\n        await result!.promiseLayer;\n\n        // Continue the test and return the layer\n        return GeochartTester.helperStepLayerWithGeochart(test, this.getMapViewer(), layerPathAdd, lonlat);\n      },\n      (test) => {\n        // Perform assertions\n        test.addStep('Verifying expected geochart config...');\n        const geochartsConfig = GeochartEventProcessor.getSingleGeochartState(this.getMapId(), 'geochartChartsConfig');\n        Test.assertJsonObject(geochartsConfig, expectedGeochartChartsConfig);\n\n        // Check that geochart is the active footer bar\n        test.addStep(\"Verifying 'geochart' is the selected footer tab...\");\n        Test.assertIsEqual(UIEventProcessor.getActiveFooterBarTab(this.getMapId()), 'geochart');\n\n        // Check that layer path is selected\n        test.addStep('Verifying ' + layerPathAdd + ' is the selected layer for the geochart...');\n        Test.assertIsEqual(GeochartEventProcessor.getSingleGeochartState(this.getMapId(), 'selectedLayerPath'), layerPathAdd);\n      },\n      (test) => {\n        // Redirect to LayerTest to help test the removal of the layer\n        LayerTester.helperFinalizeStepRemoveLayerAndAssert(test, this.getMapViewer(), layerPathRemove);\n      }\n    );\n  }\n\n  /**\n   * Retrieves a layer from the map, performs a feature info query at a specific coordinate,\n   * and sets up the geochart UI with that layer. Steps are logged to the provided test instance.\n   * @template T - The type parameter for the test instance.\n   * @param {Test<T>} test - The test instance used to log each step of the geochart setup process.\n   * @param {MapViewer} mapViewer - The map viewer containing the layer and UI context.\n   * @param {string} layerPath - The unique path or ID of the layer to interact with.\n   * @param {Coordinate} lonlat - The longitude/latitude coordinate at which to query the layer.\n   * @returns {Promise<AbstractGVLayer>} A promise that resolves to the layer after setup is complete.\n   * @static\n   */\n  static async helperStepLayerWithGeochart<T>(\n    test: Test<T>,\n    mapViewer: MapViewer,\n    layerPath: string,\n    lonlat: Coordinate\n  ): Promise<AbstractGVLayer> {\n    // Update the step\n    test.addStep(`Getting the layer with the geochart ${layerPath}...`);\n\n    // Get the layer\n    const layer = mapViewer.layer.getGeoviewLayer(layerPath) as AbstractGVLayer;\n\n    // Update the step\n    test.addStep(`Waiting for its layer 'loaded' status...`);\n\n    // Wait until the layer has at least loaded once\n    await layer.waitLoadedOnce();\n\n    // Update the step\n    test.addStep(`Perform query operation at given coordinates...`);\n\n    // Perform a map click using the feature info layer set\n    await mapViewer.layer.featureInfoLayerSet.queryLayers(lonlat);\n\n    // Update the step\n    test.addStep(`Setting active footerbar tab to geochart...`);\n\n    // Set the footer tab to Geochart\n    UIEventProcessor.setActiveFooterBarTab(mapViewer.mapId, 'geochart');\n\n    // Update the step\n    test.addStep(`Waiting on UI to refresh...`);\n\n    // Wait purposely on the UI, 2 seconds seem to be the minimum.. 1 second fails sometimes..\n    await delay(2000);\n\n    // Update the step\n    test.addStep(`Selecting the geochart for the added layer...`);\n\n    // Select the right layer path\n    GeochartEventProcessor.setSelectedGeochartLayerPath(mapViewer.mapId, layerPath);\n\n    // Wait purposely on the UI, this waiting period isn't necessary for the test, but it's good to see it happen in real-time\n    await delay(1000);\n\n    // Return the layer\n    return layer;\n  }\n}\n","import type { API } from 'geoview-core/api/api';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport { GVAbstractTestSuite } from './abstract-gv-test-suite';\nimport { ConfigTester } from '../testers/config-tester';\n\n/**\n * The GeoView Test Suite.\n */\nexport class GVTestSuiteConfig extends GVAbstractTestSuite {\n  /** The Config Tester used in this Test Suite */\n  #configTester: ConfigTester;\n\n  /**\n   * Constructs the Test Suite\n   * @param {API} api - The shared api\n   * @param {MapViewer} mapViewer - The map viewer\n   */\n  constructor(api: API, mapViewer: MapViewer) {\n    super(api, mapViewer);\n\n    // Create the Config tester\n    this.#configTester = new ConfigTester(api, mapViewer);\n    this.addTester(this.#configTester);\n  }\n\n  /**\n   * Returns the name of the Test Suite.\n   * @returns {string} The name of the Test Suite.\n   */\n  override getName(): string {\n    return 'Config Test Suite';\n  }\n\n  /**\n   * Returns the description of the Test Suite.\n   * @returns {string} The description of the Test Suite.\n   */\n  override getDescriptionAsHtml(): string {\n    return 'Test Suite to perform various layer config related tests.';\n  }\n\n  /**\n   * Overrides the implementation to perform the tests for this Test Suite.\n   * @returns {Promise<unknown>} A Promise which resolves when tests are completed.\n   */\n  protected override onLaunchTestSuite(): Promise<unknown> {\n    // // GV START DEBUG SECTION TO NOT HAVE TO TEST EVERYTHING EVERYTIME\n    // // Test DEBUG\n    // const pDevTest0 = this.#configTester.testEsriFeatureWithForestIndustry();\n    // // const pDevTest2 = this.#configTester.testKMLBadUrlExpectSkip();\n\n    // // Resolve when all\n    // return Promise.all([pDevTest0]);\n    // // GV END DEBUG SECTION TO NOT HAVE TO TEST EVERYTHING EVERYTIME\n\n    // Test EsriDynamic HistoricalFloodconfig\n    const pEsriDynamicHistoFlood = this.#configTester.testEsriDynamicWithHistoricalFloodEvents();\n\n    // Test EsriDynamic CESI config\n    const pEsriDynamicCESI = this.#configTester.testEsriDynamicWithCESI();\n\n    // Test a true negative\n    const pEsriDynamicBadUrl = this.#configTester.testEsriDynamicBadUrl();\n\n    // Test EsriFeature TorontoNeighbourhoods config\n    const pEsriFeatureToronto = this.#configTester.testEsriFeatureWithTorontoNeighbourhoods();\n\n    // Test EsriFeature HistoricalFloodEvents config\n    const pEsriFeatureHisto = this.#configTester.testEsriFeatureWithHistoricalFloodEvents();\n\n    // Test EsriFeature Forest Industry config\n    const pEsriFeatureForest = this.#configTester.testEsriFeatureWithForestIndustry();\n\n    // Test a true negative\n    const pEsriFeatureBadUrl = this.#configTester.testEsriFeatureBadUrl();\n\n    // Test EsriImage Elevation config\n    const pEsriImage = this.#configTester.testEsriImageWithElevation();\n\n    // Test a true negative\n    const pEsriImageBadUrl = this.#configTester.testEsriImageBadUrl();\n\n    // Test WMS OWSMundialis config\n    const pWMSMundialis = this.#configTester.testWMSLayerWithOWSMundialis();\n\n    // Test WMS DatacubeMSI config\n    const pWMSDatacubeMSI = this.#configTester.testWMSLayerWithDatacubeMSI();\n\n    // Test a true negative\n    const pWMSBadUrl = this.#configTester.testWMSBadUrl();\n\n    // Test WFS CurrentCondition config\n    const pWFSCurrentConditions = this.#configTester.testWFSLayerWithGeometCurrentConditions();\n\n    // Test a true negative\n    const pWFSBadUrl = this.#configTester.testWFSBadUrl();\n\n    // Test a true negative\n    const pWFSOkayUrlNoCap = this.#configTester.testWFSOkayUrlNoCap();\n\n    // Test OGC Feature config\n    const pOGcFeature = this.#configTester.testOGCFeatureWithPygeoapi();\n\n    // Test a true negative\n    const pOgcFeatureBadUrl = this.#configTester.testOGCFeatureBadUrl();\n\n    // Test a GeoJSON Metadata.meta config\n    const pGeoJson = this.#configTester.testGeojsonWithMetadataMeta();\n\n    // Test a skip\n    const pGeoJsonBadUrlSkip = this.#configTester.testGeoJSONBadUrlExpectSkip();\n\n    // Test a true negative\n    const pGeoJsonBadUrlFail = this.#configTester.testGeoJSONBadUrlExpectError();\n\n    // Test a CSV file\n    const pCSV = this.#configTester.testCSVWithStationList();\n\n    // Test a skip\n    const pCSVBadUrlSkip = this.#configTester.testCSVBadUrlExpectSkip();\n\n    // Test a WKB file\n    const pWKB = this.#configTester.testWKBWithSouthAfrica();\n\n    // Test a true negative\n    const pWKBBadUrlFail = this.#configTester.testWKBBadUrlExpectFail();\n\n    // Test a KML file\n    const pKMLTornado = this.#configTester.testKMLWithTornado();\n\n    // Test a skip\n    const pKMLSkip = this.#configTester.testKMLBadUrlExpectSkip();\n\n    // Test a KML file\n    const pLayerGeoTIFFVegetation = this.#configTester.testGeoTIFFWithVegetation();\n\n    // Test a skip\n    const pGeoTIFFSkip = this.#configTester.testGeoTIFFBadUrlExpectSkip();\n\n    // Test a Geocore\n    const pGeocoreAirborne = this.#configTester.testStandaloneGeocoreWithAirborne();\n\n    // Test settings cascade to sublayers\n    const pSettingsCascadeToSublayers = this.#configTester.testSettingsCascadeToSublayers();\n\n    // Resolve when all\n    return Promise.all([\n      pEsriDynamicHistoFlood,\n      pEsriDynamicCESI,\n      pEsriDynamicBadUrl,\n      pEsriFeatureToronto,\n      pEsriFeatureHisto,\n      pEsriFeatureForest,\n      pEsriFeatureBadUrl,\n      pEsriImage,\n      pEsriImageBadUrl,\n      pWMSMundialis,\n      pWMSDatacubeMSI,\n      pWMSBadUrl,\n      pWFSCurrentConditions,\n      pWFSBadUrl,\n      pWFSOkayUrlNoCap,\n      pOGcFeature,\n      pOgcFeatureBadUrl,\n      pGeoJson,\n      pGeoJsonBadUrlSkip,\n      pGeoJsonBadUrlFail,\n      pCSV,\n      pCSVBadUrlSkip,\n      pWKB,\n      pWKBBadUrlFail,\n      pKMLTornado,\n      pKMLSkip,\n      pLayerGeoTIFFVegetation,\n      pGeoTIFFSkip,\n      pGeocoreAirborne,\n      pSettingsCascadeToSublayers,\n    ]);\n  }\n}\n","import React from 'react'; // GV This import is to validate that we're on the right React at the end of the file\nimport { AbstractPlugin } from 'geoview-core/api/plugin/abstract-plugin';\nimport { PluginConfigNotFoundError, TestSuiteInitializationError } from 'geoview-core/core/exceptions/geoview-exceptions';\nimport type { EventDelegateBase } from 'geoview-core/api/events/event-helper';\nimport EventHelper from 'geoview-core/api/events/event-helper';\nimport type { TesterFailureEvent, TesterSuccessEvent, TesterTestEvent, TesterTestUpdatedEvent } from './tests/core/abstract-test-suite';\nimport { TestSuiteRunningError } from './tests/core/exceptions';\nimport type { GVAbstractTestSuite } from './tests/suites/abstract-gv-test-suite';\nimport { GVTestSuiteMapVaria } from './tests/suites/suite-map-varia';\nimport { GVTestSuiteConfig } from './tests/suites/suite-config';\nimport { GVTestSuiteGeochart } from './tests/suites/suite-geochart';\nimport { GVTestSuiteLayer } from './tests/suites/suite-layer';\nimport { GVTestSuiteMapConfig } from './tests/suites/suite-map-config';\nimport { GVTestSuiteUI } from './tests/suites/suite-ui';\n\n/**\n * Create a class for the plugin instance\n */\nclass TestSuitePlugin extends AbstractPlugin {\n  /** The Test Suites for the plugin */\n  testSuites: GVAbstractTestSuite[] = [];\n\n  /** Indicates the number of suites that completed their tests (the suites are run synchronously) */\n  #suitesCompleted: number = 0;\n\n  /** Keep all callback delegate references */\n  #onSuiteTestersTestStartedHandlers: SuiteTesterTestDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onSuiteTestersTestUpdatedHandlers: SuiteTesterTestUpdatedDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onSuiteTestersTestSuccessHandlers: SuiteTesterSuccessDelegate[] = [];\n\n  /** Keep all callback delegate references */\n  #onSuiteTestersTestFailureHandlers: SuiteTesterFailureDelegate[] = [];\n\n  /**\n   * Returns the package schema\n   *\n   * @returns {unknown} the package schema\n   */\n  override schema(): unknown {\n    return {};\n  }\n\n  /**\n   * Returns the default config for this package\n   *\n   * @returns {unknown} the default config\n   */\n  override defaultConfig(): unknown {\n    return {};\n  }\n\n  /**\n   * Overrides the default translations for the Plugin.\n   * @returns {Record<string, unknown>} - The translations object for the particular Plugin.\n   */\n  override defaultTranslations(): Record<string, unknown> {\n    return {};\n  }\n\n  /**\n   * Overrides the get config\n   * @override\n   * @returns {TestSuitePluginConfig} The config\n   */\n  override getConfig(): TestSuitePluginConfig {\n    return super.getConfig() as TestSuitePluginConfig;\n  }\n\n  /**\n   * Overrides the addition of the Test Suite Plugin.\n   */\n  override onAdd(): void {\n    // If the plugin has no configured test-suites, throw error\n    if (!this.getConfig().suites || this.getConfig().suites.length === 0)\n      throw new PluginConfigNotFoundError(this.pluginId, this.mapViewer.mapId, 'corePackagesConfig');\n\n    // For each defined suite\n    this.getConfig().suites.forEach((suite) => {\n      if (suite === 'suite-config') {\n        // Instanciate the GeoView Test Suite\n        this.addTestSuite(new GVTestSuiteConfig(window.cgpv.api, this.mapViewer));\n      } else if (suite === 'suite-map') {\n        // Instanciate the GeoView Test Suite\n        this.addTestSuite(new GVTestSuiteMapVaria(window.cgpv.api, this.mapViewer));\n      } else if (suite === 'suite-layer') {\n        // Instanciate the GeoView Test Suite\n        this.addTestSuite(new GVTestSuiteLayer(window.cgpv.api, this.mapViewer));\n      } else if (suite === 'suite-geochart') {\n        // Instanciate the GeoView Test Suite\n        this.addTestSuite(new GVTestSuiteGeochart(window.cgpv.api, this.mapViewer));\n      } else if (suite === 'suite-map-config') {\n        // Instanciate the GeoView Test Suite\n        this.addTestSuite(new GVTestSuiteMapConfig(window.cgpv.api, this.mapViewer));\n      } else if (suite === 'suite-ui') {\n        // Instanciate the GeoView Test Suite\n        this.addTestSuite(new GVTestSuiteUI(window.cgpv.api, this.mapViewer));\n      } else {\n        // Throw\n        throw new TestSuiteInitializationError(suite, this.mapViewer.mapId);\n      }\n    });\n  }\n\n  /**\n   * Overrides the removal of the Test Suite Plugin.\n   */\n  override onRemove(): void {} // Nothing to do\n\n  /**\n   * Adds a test suite to the manager and registers event handlers to track its lifecycle.\n   * When the test suite emits events such as test start, update, success, or failure,\n   * this method attaches listeners that re-emit those events through the manager's own system,\n   * augmenting them with the originating suite as additional context.\n   * @param {GVAbstractTestSuite} testSuite - The test suite instance to add and monitor.\n   */\n  addTestSuite(testSuite: GVAbstractTestSuite): void {\n    this.testSuites.push(testSuite);\n\n    // Register handlers when the a test has started\n    testSuite.onTestStarted((sender, event) => {\n      // Re-emit\n      this.#emitTestStarted({ ...event, suite: sender as GVAbstractTestSuite });\n    });\n\n    // Register handlers when the a test has updated\n    testSuite.onTestUpdated((sender, event) => {\n      // Re-emit\n      this.#emitTestUpdated({ ...event, suite: sender as GVAbstractTestSuite });\n    });\n\n    // Register handlers when the a test has succeeded\n    testSuite.onSuccess((sender, event) => {\n      // Re-emit\n      this.#emitSuccess({ ...event, suite: sender as GVAbstractTestSuite });\n    });\n\n    // Register handlers when the a test has failed\n    testSuite.onFailure((sender, event) => {\n      // Re-emit\n      this.#emitFailure({ ...event, suite: sender as GVAbstractTestSuite });\n    });\n  }\n\n  /**\n   * Launches all test suites sequentially.\n   * This method resets the completed suite counter, then executes each test suite\n   * one after the other (not in parallel). Awaits each suite to ensure sequential execution.\n   * @returns {Promise<void>} A promise that resolves once all test suites have completed.\n   */\n  async launchTestSuites(): Promise<void> {\n    // Make sure no test suite is currently running\n    if (this.getTestsRunning() > 0) throw new TestSuiteRunningError();\n\n    // Reset the test suites\n    this.resetTestSuites();\n\n    // For each test suite, launch them one by one and awaiting on them so they don't run in parallel\n    for (const testSuite of this.testSuites) {\n      // We do want to await in a loop so the test suites are launched sequencially\n      // eslint-disable-next-line no-await-in-loop\n      await testSuite.launchTestSuite();\n      // Increment the completed suites\n      this.#suitesCompleted++;\n    }\n  }\n\n  /**\n   * Resets all test suites and the internal completed suites counter.\n   * This is typically called to prepare for a new test run.\n   */\n  resetTestSuites(): void {\n    // Make sure no test suite is currently running\n    if (this.getTestsRunning() > 0) throw new TestSuiteRunningError();\n\n    // Reset the completed suites\n    this.#suitesCompleted = 0;\n\n    // Reset each test suite\n    this.testSuites.forEach((testSuite) => {\n      // Reset the test suite\n      testSuite.resetTestSuite();\n    });\n  }\n\n  /**\n   * Gets the description, in html format, for all the Test Suites part of this Plugin.\n   * @returns {string} The description of all test suites.\n   */\n  getDescriptionAsHtml(): string {\n    // For each Test Suite\n    return this.testSuites.map((suite) => suite.getDescriptionAsHtml()).join('<br/>');\n  }\n\n  /**\n   * Gets the number of test suites that have been completed.\n   * Caution, a test suite can be completed even though some tests are still running, depending\n   * on the promises management in the suite.\n   * @returns {number} The number of completed test suites.\n   */\n  getSuitesCompleted(): number {\n    return this.#suitesCompleted;\n  }\n\n  /**\n   * Gets the total number of test suites.\n   *@returns {number} The total count of test suites.\n   */\n  getSuitesTotal(): number {\n    return this.testSuites.length;\n  }\n\n  /**\n   * Gets if the test suite is done its launch.\n   * Caution, a test suite can be done even though some tests are still running, depending\n   * on the promises management in the suite.\n   * @returns {number} The number of completed test suites.\n   */\n  getSuitesDone(): boolean {\n    return this.getSuitesCompleted() === this.getSuitesTotal();\n  }\n\n  /**\n   * Gets the total number of tests currently running across all test suites.\n   * @returns {number} The number of tests that are currently running.\n   */\n  getTestsRunning(): number {\n    // For each test suite\n    return this.testSuites.reduce((total, testSuite) => {\n      return total + testSuite.getTestsRunning();\n    }, 0);\n  }\n\n  /**\n   * Gets the total number of tests completed across all test suites.\n   * @returns {number} The number of completed tests.\n   */\n  getTestsDone(): number {\n    // For each test suite\n    return this.testSuites.reduce((total, testSuite) => {\n      return total + testSuite.getTestsDone();\n    }, 0);\n  }\n\n  /**\n   * Gets the total number of currently done successfully across all test suites.\n   * @returns {number} The total number of tests done.\n   */\n  getTestsDoneSuccess(): number {\n    // For each test suite\n    return this.testSuites.reduce((total, testSuite) => {\n      return total + testSuite.getTestsDoneSuccess();\n    }, 0);\n  }\n\n  /**\n   * Gets the total number of currently done failed across all test suites\n   * @returns {number} The total number of tests done.\n   */\n  getTestsDoneFailed(): number {\n    // For each test suite\n    return this.testSuites.reduce((total, testSuite) => {\n      return total + testSuite.getTestsDoneFailed();\n    }, 0);\n  }\n\n  /**\n   * Gets the total number of tests across all test suites.\n   * @returns {number} The total number of tests.\n   */\n  getTestsTotal(): number {\n    // For each test suite\n    return this.testSuites.reduce((total, testSuite) => {\n      return total + testSuite.getTestsTotal();\n    }, 0);\n  }\n\n  /**\n   * Gets if all tests are done.\n   * @returns {boolean} Indicate if the tests are all done across all test suites.\n   */\n  getTestsDoneAll(): boolean {\n    return this.testSuites.every((suite) => suite.getTestsDoneAll());\n  }\n\n  /**\n   * Gets if all the tests are done across all test suites.\n   * @returns {boolean} Indicate if the tests are all done across all test suites.\n   */\n  getTestsDoneAllAndSuiteDone(): boolean {\n    return this.getSuitesDone() && this.getTestsDoneAll();\n  }\n\n  /**\n   * Gets if all the tests are done and successfully.\n   * @returns {boolean} Indicate if the tests are all done and finished successfully.\n   */\n  getTestsDoneAllSuccess(): boolean {\n    return this.getTestsDoneAll() && this.testSuites.every((suite) => suite.getTestsDoneAllSuccess());\n  }\n\n  /**\n   * Gets if all the tests are done and successfully and the test suite is done.\n   * @returns {boolean} Indicate if the tests are all done and finished successfully and the test suite is done.\n   */\n  getTestsDoneAllSuccessAndSuiteDone(): boolean {\n    return this.getSuitesDone() && this.getTestsDoneAllSuccess();\n  }\n\n  // #region EVENTS\n\n  /**\n   * Emits an event to all handlers.\n   * @param {SuiteTesterTestEvent} event - The event to emit\n   * @private\n   */\n  #emitTestStarted(event: SuiteTesterTestEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onSuiteTestersTestStartedHandlers, event);\n  }\n\n  /**\n   * Registers a test started event handler.\n   * @param {SuiteTesterTestDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onTestStarted(callback: SuiteTesterTestDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onSuiteTestersTestStartedHandlers, callback);\n  }\n\n  /**\n   * Unregisters a test started event handler.\n   * @param {SuiteTesterTestDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offTestStarted(callback: SuiteTesterTestDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onSuiteTestersTestStartedHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {SuiteTesterTestUpdatedEvent} event - The event to emit\n   * @private\n   */\n  #emitTestUpdated(event: SuiteTesterTestUpdatedEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onSuiteTestersTestUpdatedHandlers, event);\n  }\n\n  /**\n   * Registers a test updated event handler.\n   * @param {SuiteTesterTestUpdatedDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onTestUpdated(callback: SuiteTesterTestUpdatedDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onSuiteTestersTestUpdatedHandlers, callback);\n  }\n\n  /**\n   * Unregisters a test updated event handler.\n   * @param {SuiteTesterTestUpdatedDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offTestUpdated(callback: SuiteTesterTestUpdatedDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onSuiteTestersTestUpdatedHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {SuiteTesterSuccessEvent} event - The event to emit\n   * @private\n   */\n  #emitSuccess(event: SuiteTesterSuccessEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onSuiteTestersTestSuccessHandlers, event);\n  }\n\n  /**\n   * Registers a success event handler.\n   * @param {SuiteTesterSuccessDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onSuccess(callback: SuiteTesterSuccessDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onSuiteTestersTestSuccessHandlers, callback);\n  }\n\n  /**\n   * Unregisters a success event handler.\n   * @param {SuiteTesterSuccessDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offSuccess(callback: SuiteTesterSuccessDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onSuiteTestersTestSuccessHandlers, callback);\n  }\n\n  /**\n   * Emits an event to all handlers.\n   * @param {SuiteTesterFailureEvent} event - The event to emit\n   * @private\n   */\n  #emitFailure(event: SuiteTesterFailureEvent): void {\n    // Emit the event for all handlers\n    EventHelper.emitEvent(this, this.#onSuiteTestersTestFailureHandlers, event);\n  }\n\n  /**\n   * Registers a failure event handler.\n   * @param {SuiteTesterFailureDelegate} callback - The callback to be executed whenever the event is emitted\n   */\n  onFailure(callback: SuiteTesterFailureDelegate): void {\n    // Register the event handler\n    EventHelper.onEvent(this.#onSuiteTestersTestFailureHandlers, callback);\n  }\n\n  /**\n   * Unregisters a failure event handler.\n   * @param {SuiteTesterFailureDelegate} callback - The callback to stop being called whenever the event is emitted\n   */\n  offFailure(callback: SuiteTesterFailureDelegate): void {\n    // Unregister the event handler\n    EventHelper.offEvent(this.#onSuiteTestersTestFailureHandlers, callback);\n  }\n\n  // #endregion EVENTS\n}\n\n/**\n * Define an event for the delegate\n */\nexport interface SuiteTesterTestEvent extends TesterTestEvent {\n  suite: GVAbstractTestSuite;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type SuiteTesterTestDelegate = EventDelegateBase<TestSuitePlugin, SuiteTesterTestEvent, void>;\n\n/**\n * Define an event for the delegate\n */\nexport interface SuiteTesterTestUpdatedEvent extends TesterTestUpdatedEvent {\n  suite: GVAbstractTestSuite;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type SuiteTesterTestUpdatedDelegate = EventDelegateBase<TestSuitePlugin, SuiteTesterTestUpdatedEvent, void>;\n\n/**\n * Define an event for the delegate\n */\nexport interface SuiteTesterSuccessEvent extends TesterSuccessEvent {\n  suite: GVAbstractTestSuite;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type SuiteTesterSuccessDelegate = EventDelegateBase<TestSuitePlugin, SuiteTesterSuccessEvent, void>;\n\n/**\n * Define an event for the delegate\n */\nexport interface SuiteTesterFailureEvent extends TesterFailureEvent {\n  suite: GVAbstractTestSuite;\n}\n\n/**\n * Define a delegate for the event handler function signature\n */\nexport type SuiteTesterFailureDelegate = EventDelegateBase<TestSuitePlugin, SuiteTesterFailureEvent, void>;\n\nexport type TestSuitePluginConfig = {\n  suites: string[];\n};\n\nexport default TestSuitePlugin;\n\n// GV This if condition took over 3 days to investigate. It was giving errors on the app.geo.ca website with\n// GV some conflicting reacts being loaded on the page for some obscure reason.\n// Check if we're on the right react\nif (React === window.cgpv.reactUtilities.react) {\n  // Keep a reference to the GeoChartPlugin as part of the geoviewPlugins property stored in the window object\n  window.geoviewPlugins = window.geoviewPlugins || {};\n  window.geoviewPlugins['test-suite'] = TestSuitePlugin;\n} // Else ignore, don't keep it on the window, wait for the right react load\n","import { TestError } from '../core/exceptions';\nimport { Test } from '../core/test';\nimport { GVAbstractTester } from './abstract-gv-tester';\nimport { delay } from 'geoview-core/core/utils/utilities';\nimport type { TypeMapState } from 'geoview-core/geo/map/map-viewer';\nimport type { TypeMapFeaturesConfig } from 'geoview-core/core/types/global-types';\nimport { MapEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/map-event-processor';\nimport type { Extent, TypeBasemapId, TypeValidMapProjectionCodes } from 'geoview-core/api/types/map-schema-types';\nimport { AppEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/app-event-processor';\nimport { UIEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/ui-event-processor';\nimport type { Coordinate } from 'ol/coordinate';\nimport { FeatureInfoEventProcessor } from 'geoview-core/api/event-processors/event-processor-children/feature-info-event-processor';\nimport type {\n  TypeFeatureInfoResultSetEntry,\n  TypeHoverFeatureInfo,\n} from 'geoview-core/core/stores/store-interface-and-intial-values/feature-info-state';\nimport { AbstractGVLayer } from 'geoview-core/geo/layer/gv-layers/abstract-gv-layer';\nimport { LayerWrongTypeError } from 'geoview-core/core/exceptions/layer-exceptions';\nimport { Projection } from 'geoview-core/geo/utils/projection';\n\n/**\n * Main Map testing class.\n * @extends {GVAbstractTester}\n */\nexport class MapTester extends GVAbstractTester {\n  /**\n   * Returns the name of the Tester.\n   * @returns {string} The name of the Tester.\n   */\n  override getName(): string {\n    return 'MapTester';\n  }\n\n  /**\n   * Tests the map state upon initial loading.\n   * @returns {Promise<Test<TypeMapState>>} A Promise that resolves with the Test containing the map state.\n   */\n  testInitialMapState(): Promise<Test<TypeMapState>> {\n    // Get the projection\n    const { projection } = this.#getMapConfigFromStore().map.viewSettings;\n\n    // The expected map state configuration including the current projection\n    const expectedConfig: Record<string, unknown> = {\n      currentProjection: projection,\n    };\n\n    // Test the map state\n    return this.test(\n      'Test projection',\n      () => {\n        // Return the map state\n        return MapEventProcessor.getMapState(this.getMapId());\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected projection config...');\n        Test.assertJsonObject(result, expectedConfig);\n      }\n    );\n  }\n\n  /**\n   * Tests a zoom operation on the map.\n   * @param {number} zoomEnd - The zoom target\n   * @param {number} zoomDuration - The duration for the zoom\n   * @returns {Promise<Test<number>>} A Promise that resolves with the Test containing the zoom destination.\n   */\n  testMapZoom(zoomEnd: number, zoomDuration: number): Promise<Test<number>> {\n    // Get the current zoom\n    const { currentZoom } = MapEventProcessor.getMapState(this.getMapId());\n\n    // Test the projection\n    return this.test(\n      'Test zoom',\n      async (test) => {\n        // Test the zoom value\n        if (currentZoom === zoomEnd) throw new TestError(`False precondition, map zoom was already at zoom destination ${zoomEnd}`);\n\n        // Perform a zoom\n        test.addStep('Performing zoom...');\n        await MapEventProcessor.zoomMap(this.getMapId(), zoomEnd, zoomDuration);\n\n        // Return the result\n        return zoomEnd;\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected zoom in the store...');\n        Test.assertIsEqual(MapEventProcessor.getMapState(this.getMapId()).currentZoom, result);\n      },\n      async (test) => {\n        // Unzooms to original position\n        test.addStep('Unzooms to the original zoom...');\n        await MapEventProcessor.zoomMap(this.getMapId(), currentZoom, zoomDuration);\n      }\n    );\n  }\n\n  /**\n   * Tests switching between projections, zooming, and returning to initial extent.\n   * This test performs the following operations:\n   * 1. Switches projection to the second projection\n   * 2. Zooms to a specified level\n   * 3. Switches back to the initial projection\n   * 4. Zooms back to the initial extent\n   * 5. Verifies the map extent matches the original extent\n   *\n   * @param {TypeValidMapProjectionCodes} initialProjection - The initial projection code.\n   * @param {TypeValidMapProjectionCodes} secondProjection - The target projection code to switch to.\n   * @param {number} zoomLevel - The zoom level to test during projection switch.\n   * @returns {Promise<Test<Extent>>} A Promise that resolves with the Test containing the final map extent.\n   */\n  async testSwitchProjectionAndExtent(\n    initialProjection: TypeValidMapProjectionCodes,\n    secondProjection: TypeValidMapProjectionCodes,\n    zoomLevel: number\n  ): Promise<Test<Extent>> {\n    // Zoom to initial extent\n    await MapEventProcessor.zoomToInitialExtent(this.getMapId());\n\n    // Get the current init extent\n    const { mapExtent, currentProjection } = MapEventProcessor.getMapState(this.getMapId());\n\n    // Test the projection/initial extent\n    return this.test(\n      'Test switch projection back and forth, zoom and zoom to initial extent',\n      async (test) => {\n        // Test the projection value\n        if (currentProjection === secondProjection)\n          throw new TestError(`False precondition, map projection was already at projection destination ${secondProjection}`);\n\n        // Perform a projection switch\n        test.addStep(`Performing projection switch to ${secondProjection}...`);\n        await MapEventProcessor.setProjection(this.getMapId(), secondProjection);\n\n        // Update the step\n        test.addStep(`Performing zoom to level ${zoomLevel}...`);\n\n        // Perform a zoom\n        await MapEventProcessor.zoomMap(this.getMapId(), zoomLevel, 1000);\n\n        // Update the step\n        test.addStep('Performing projection switch to original...');\n\n        // Perform a projection switch\n        await MapEventProcessor.setProjection(this.getMapId(), initialProjection);\n\n        // Update the step\n        test.addStep('Performing zomm to inital extent...');\n\n        // Zoom to initial extent\n        await MapEventProcessor.zoomToInitialExtent(this.getMapId());\n\n        // Return the result\n        return MapEventProcessor.getMapState(this.getMapId()).mapExtent;\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected map extent in the store...');\n        Test.assertIsArrayEqual<number>(mapExtent, result, 0);\n      }\n    );\n  }\n\n  /**\n   * Tests geometry group z-index operations.\n   * This test performs the following operations:\n   * 1. Creates a circle geometry in a new test group\n   * 2. Gets the initial z-index value\n   * 3. Sets the z-index to 0\n   * 4. Gets the z-index again\n   * 5. Verifies both values match expectations\n   *\n   * @returns {Promise<Test<{ initialZIndex: number | undefined; finalZIndex: number | undefined }>>} A Promise that resolves with the Test containing the z-index values.\n   */\n  testGeometryGroupZIndex(): Promise<Test<{ initialZIndex: number | undefined; finalZIndex: number | undefined }>> {\n    const testGroupId = 'testZIndexGroup';\n    const circleCoords: [number, number] = [-75.6972, 45.4215]; // Ottawa\n\n    return this.test(\n      'Test geometry group z-index get/set operations',\n      (test) => {\n        // Add a circle to a new geometry group\n        test.addStep('Adding circle to test group...');\n        this.getMapViewer().layer.geometry.addCircle(\n          circleCoords,\n          {\n            projection: 4326,\n            style: {\n              radius: 5,\n              fillColor: '#ff0000',\n              fillOpacity: 0.3,\n              strokeColor: '#ff0000',\n              strokeWidth: 2,\n            },\n          },\n          'testCircle',\n          testGroupId\n        );\n\n        // Get the initial z-index\n        test.addStep('Getting initial z-index...');\n        const initialZIndex = this.getMapViewer().layer.geometry.getGeometryGroupZIndex(testGroupId);\n\n        // Set z-index to 0\n        test.addStep(`Initial z-index: ${initialZIndex}`);\n        test.addStep('Setting z-index to 0...');\n        this.getMapViewer().layer.geometry.setGeometryGroupZIndex(testGroupId, 0);\n\n        // Get the z-index again\n        test.addStep('Getting final z-index...');\n        const finalZIndex = this.getMapViewer().layer.geometry.getGeometryGroupZIndex(testGroupId);\n\n        // Return both values\n        test.addStep(`Final z-index: ${finalZIndex}`);\n        return { initialZIndex, finalZIndex };\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying initial z-index is 9999...');\n        Test.assertIsEqual(result.initialZIndex, 9999);\n\n        test.addStep('Verifying final z-index is 0...');\n        Test.assertIsEqual(result.finalZIndex, 0);\n      },\n      (test) => {\n        // Cleanup: remove the test group\n        test.addStep('Cleaning up test geometry group...');\n        this.getMapViewer().layer.geometry.deleteGeometryGroup(testGroupId);\n      }\n    );\n  }\n\n  /**\n   * Gets the map config from the store.\n   * @returns {TypeMapFeaturesConfig} The map config as read from the store.\n   */\n  #getMapConfigFromStore(): TypeMapFeaturesConfig {\n    // Redirect\n    const mapConfig = MapEventProcessor.getGeoViewMapConfig(this.getMapId());\n    if (!mapConfig) throw new TestError(`Map config for map id ${this.getMapId()} couldn't be read from store`);\n    return mapConfig;\n  }\n\n  /**\n   * Tests zooming to a lon/lat extent using zoomToLonLatExtentOrCoordinate.\n   * Note: the map doesn't return to original extent after this test.\n   * @param {Extent} extent - The extent to zoom to.\n   * @param {Extent} expectedExtent - The expected extent after zooming (due to map restrictions).\n   * @returns {Promise<Test<Extent>>} A Promise that resolves with the Test containing the resulting map extent.\n   */\n  testZoomToExtent(extent: Extent, expectedExtent: Extent): Promise<Test<Extent>> {\n    return this.test(\n      'Test zoom to lon/lat extent',\n      async (test) => {\n        // Zoom to extent\n        test.addStep(`Zooming to extent ${extent.join(',')}...`);\n        await this.getMapViewer().zoomToLonLatExtentOrCoordinate(extent);\n\n        // Transform extent and handle potential undefined return\n        return Projection.transformExtentFromProj(\n          MapEventProcessor.getMapState(this.getMapId()).mapExtent,\n          this.getMapViewer().getProjection(),\n          Projection.getProjectionLonLat()\n        );\n      },\n      (test, result) => {\n        // The map adjusts extent to fit viewport aspect ratio, compare with tolerance for aspect ratio adjustment\n        test.addStep('Verifying map zoomed to extent (with aspect ratio tolerance)...');\n        Test.assertIsArrayEqual(result, expectedExtent, 2);\n      }\n    );\n  }\n\n  /**\n   * Tests zooming to a lon/lat coordinate using zoomToLonLatExtentOrCoordinate.\n   * Note: the map doesn't return to original extent after this test.\n   * @param {Coordinate} coordinates - The coordinates to zoom to.\n   * @returns {Promise<Test<Extent>>} A Promise that resolves with the Test containing the resulting map extent.\n   */\n  testZoomToCoordinate(coordinates: Coordinate): Promise<Test<Coordinate>> {\n    return this.test(\n      'Test zoom to lon/lat coordinate',\n      async (test) => {\n        test.addStep(`Zooming to coordinates ${coordinates.join(',')}...`);\n\n        // Zoom to coordinate\n        await this.getMapViewer().setMapZoomLevel(8);\n        await this.getMapViewer().zoomToLonLatExtentOrCoordinate(coordinates);\n\n        // Transform coordinates\n        return Promise.resolve(\n          Projection.transformCoordinates(\n            MapEventProcessor.getMapState(this.getMapId()).mapCenterCoordinates,\n            this.getMapViewer().getProjection().getCode(),\n            'EPSG:4326'\n          ) as Coordinate\n        );\n      },\n      (test, result) => {\n        test.addStep('Verifying map centered on coordinate...');\n        Test.assertIsArrayEqual(result, coordinates, 0);\n      }\n    );\n  }\n\n  /**\n   * Tests selecting a footer bar tab.\n   * @returns {Promise<Test<string>>} A Promise that resolves with the Test containing the selected tab id.\n   */\n  testFooterBarSelectTab(): Promise<Test<string>> {\n    const targetTab = 'data-table';\n\n    return this.test(\n      'Test footer bar select tab',\n      async (test) => {\n        test.addStep(`Selecting footer bar tab '${targetTab}'...`);\n\n        // Select the tab\n        this.getMapViewer().footerBarApi.selectTab(targetTab);\n\n        // Wait for tab selection to complete\n        await delay(500);\n\n        return targetTab;\n      },\n      (test, result) => {\n        test.addStep('Verifying tab is selected...');\n        const activeTab = UIEventProcessor.getActiveFooterBarTab(this.getMapId());\n        Test.assertIsEqual(activeTab, result);\n      }\n    );\n  }\n\n  /**\n   * Tests selecting an app bar tab.\n   * @returns {Promise<Test<string>>} A Promise that resolves with the Test containing the selected tab id.\n   */\n  testAppBarSelectTab(): Promise<Test<string>> {\n    const targetTab = 'geolocator';\n\n    return this.test(\n      'Test app bar select tab',\n      async (test) => {\n        test.addStep(`Selecting app bar tab '${targetTab}'...`);\n\n        // Select the tab\n        this.getMapViewer().appBarApi.selectTab(targetTab);\n\n        // Wait for tab selection to complete\n        await delay(500);\n\n        return targetTab;\n      },\n      (test, result) => {\n        test.addStep('Verifying tab is selected...');\n        const activeTab = UIEventProcessor.getActiveAppBarTab(this.getMapId());\n        Test.assertIsEqual(activeTab?.tabId, result);\n      }\n    );\n  }\n\n  /**\n   * Tests creating a custom footer bar tab.\n   * @returns {Promise<Test<string>>} A Promise that resolves with the Test containing the created tab id.\n   */\n  testFooterBarCreateTab(): Promise<Test<string>> {\n    const customTabId = 'custom-test-tab';\n    const customTabConfig = {\n      id: customTabId,\n      value: 0,\n      label: 'My Custom Tab',\n      content: '<br><div><ul><li>How to export map coordinate data to: GeoJSON, or CSV.</li></ul></div>',\n    };\n\n    return this.test(\n      'Test footer bar create custom tab',\n      async (test) => {\n        test.addStep('Creating custom footer bar tab...');\n\n        // Create the tab\n        this.getMapViewer().footerBarApi.createTab(customTabConfig);\n\n        // Wait for tab creation to complete\n        await delay(500);\n\n        return customTabId;\n      },\n      (test, result) => {\n        test.addStep('Verifying custom tab exists...');\n        const { tabs } = this.getMapViewer().footerBarApi;\n        const customTab = tabs.find((tab) => tab.id === result);\n        Test.assertIsDefined('customTab', customTab);\n\n        test.addStep('Verifying custom tab id...');\n        Test.assertIsEqual(customTab?.id, result);\n      }\n    );\n  }\n\n  /**\n   * Tests changing the language.\n   * @returns {Promise<Test<string>>} A Promise that resolves with the Test containing the new language.\n   */\n  testSetLanguage(): Promise<Test<string>> {\n    const targetLanguage = 'fr';\n    const originalLanguage = 'en';\n\n    return this.test(\n      'Test set language to French',\n      async (test) => {\n        test.addStep(`Changing language to '${targetLanguage}'...`);\n\n        if (AppEventProcessor.getDisplayLanguage(this.getMapId()) === 'fr') {\n          throw new TestError(`False precondition, language is already set to '${targetLanguage}'`);\n        }\n\n        // Set language\n        await this.getMapViewer().setLanguage(targetLanguage);\n\n        return AppEventProcessor.getDisplayLanguage(this.getMapId());\n      },\n      (test, result) => {\n        test.addStep('Verifying language changed...');\n        Test.assertIsEqual(result, targetLanguage);\n      },\n      async (test) => {\n        // Restore original language\n        test.addStep(`Restoring language to '${originalLanguage}'...`);\n        await this.getMapViewer().setLanguage(originalLanguage);\n      }\n    );\n  }\n\n  /**\n   * Tests creating and setting a basemap.\n   * Note: The basemap stays changed after this test.\n   * @returns {Promise<Test<string>>} A Promise that resolves with the Test containing the basemap id.\n   */\n  testCreateAndSetBasemap(): Promise<Test<string>> {\n    const targetBasemapId: TypeBasemapId = 'simple';\n    const originalBasemap = this.getMapViewer().basemap.activeBasemap;\n\n    return this.test(\n      'Test create and set basemap',\n      async (test) => {\n        test.addStep(`Creating basemap with id '${targetBasemapId}'...`);\n\n        if (originalBasemap?.basemapId === targetBasemapId) {\n          throw new TestError(`False precondition, basemap is already set to '${targetBasemapId}'`);\n        }\n\n        // Create the basemap\n        const basemapOptions = { basemapId: targetBasemapId, shaded: false, labeled: false };\n        const basemap = await this.getMapViewer().basemap.createCoreBasemap(basemapOptions);\n\n        test.addStep('Setting the new basemap...');\n\n        // Set the basemap\n        this.getMapViewer().basemap.setBasemap(basemap);\n\n        const activeBasemapId = this.getMapViewer().basemap.activeBasemap?.basemapId;\n        if (!activeBasemapId) {\n          throw new TestError('Failed to get active basemap ID after setting basemap');\n        }\n        return activeBasemapId;\n      },\n      (test, result) => {\n        test.addStep('Verifying basemap changed...');\n        Test.assertIsEqual(result, targetBasemapId);\n      }\n    );\n  }\n\n  /**\n   * Tests north arrow rotation in LCC projection when zoomed to British Columbia.\n   * This test performs the following operations:\n   * 1. Switches to LCC projection (3978)\n   * 2. Zooms to British Columbia extent\n   * 3. Gets the north arrow rotation from DOM element\n   * 4. Verifies the rotation matches expected value\n   *\n   * @returns {Promise<Test<number>>} A Promise that resolves with the Test containing the north arrow angle.\n   */\n  testNorthArrowRotationLCC(): Promise<Test<number>> {\n    // British Columbia approximate extent in lon/lat (EPSG:4326)\n    // West: -139, South: 48, East: -114, North: 60\n    const bcExtent: Extent = [-139, 48, -114, 60];\n    const expectedArrowAngle = 25; // Expected north arrow angle over BC in LCC\n\n    return this.test(\n      'Test north arrow rotation in LCC projection for British Columbia',\n      async (test) => {\n        // Get current projection\n        const { currentProjection } = MapEventProcessor.getMapState(this.getMapId());\n\n        // Switch to LCC projection if not already there\n        if (currentProjection !== 3978) {\n          test.addStep('Switching to LCC projection (3978)...');\n          await MapEventProcessor.setProjection(this.getMapId(), 3978);\n        }\n\n        test.addStep('Zooming to British Columbia extent...');\n        await this.getMapViewer().zoomToLonLatExtentOrCoordinate(bcExtent);\n\n        test.addStep('Getting north arrow rotation from DOM element...');\n        await delay(500); // Wait for DOM to update\n        const rotationElement = document.querySelector(`.map-info-rotation-${this.getMapId()}`) as HTMLElement;\n\n        if (!rotationElement) {\n          throw new TestError(`North arrow rotation element not found for map ${this.getMapId()}`);\n        }\n\n        // Extract rotation angle from transform style (e.g., \"rotate(45deg)\")\n        const transformStyle = window.getComputedStyle(rotationElement).transform;\n        let angleValue = 0;\n\n        if (transformStyle && transformStyle !== 'none') {\n          // Parse matrix transform to get rotation angle\n          const values = transformStyle.match(/matrix\\(([^)]+)\\)/);\n          if (values && values[1]) {\n            const matrixValues = values[1].split(', ');\n            const a = parseFloat(matrixValues[0]);\n            const b = parseFloat(matrixValues[1]);\n            angleValue = Math.round(Math.atan2(b, a) * (180 / Math.PI) * 10) / 10;\n          }\n        }\n\n        test.addStep(`North arrow rotation: ${angleValue}`);\n\n        return angleValue;\n      },\n      (test, result) => {\n        // In LCC projection over BC, the north arrow should match expected rotation\n        test.addStep('Verifying north arrow rotation is calculated...');\n        Test.assertIsEqual(result, expectedArrowAngle, 0);\n      }\n    );\n  }\n\n  /**\n   * Tests that non-queryable layers do not appear in details state when clicking on the map.\n   * This test performs the following operations:\n   * 1. Gets the first layer from the map\n   * 2. Sets the layer as non-queryable\n   * 3. Simulates a map click\n   * 4. Verifies that the layer results does not appear in the details state\n   * @returns {Promise<Test<LayerWithBeforeAfterFeature<AbstractGVLayer>>>} A Promise that resolves with the Test containing the number of layers in details state.\n   */\n  testNonQueryableLayerNotInDetails(layerPath: string, lonlat: Coordinate): Promise<Test<LayerWithBeforeAfterFeature<AbstractGVLayer>>> {\n    return this.test(\n      'Test non-queryable layer not in details after map click',\n      async (test) => {\n        // Get the layer\n        const layer = this.getLayerApi().getGeoviewLayer(layerPath);\n\n        // If not an AbstractGVLayer (regular layer)\n        if (!(layer instanceof AbstractGVLayer)) throw new LayerWrongTypeError(layerPath, layer.getLayerName());\n\n        // The layer should be initially queryable\n        if (!layer.getQueryable()) throw new TestError(`False precondition, the layer ${layerPath} wasn't initially queryable.`);\n\n        // Wait for the layer to be loaded after the zoom, a guarantee\n        await layer.waitLoadedStatus();\n\n        // Perform a map click using the feature info layer set\n        test.addStep(`Perform query operation at given coordinates...`);\n        const results1 = await this.getLayerApi().featureInfoLayerSet.queryLayers(lonlat);\n\n        // Check if there is feature selected from the layer\n        test.addStep(`Checking for features from layer '${layerPath}'...`);\n        const layerDataOnTemp = results1[layerPath];\n\n        // Store a deep copy of the data before clearing to preserve it\n        const layerDataOn = layerDataOnTemp ? { ...layerDataOnTemp } : undefined;\n\n        // Set layer non queryable, this will also clear the result set automatically\n        test.addStep(`Setting layer '${layerPath}' as non-queryable...`);\n        layer.setQueryable(false);\n\n        // Perform a map click using the feature info layer set\n        test.addStep(`Perform query operation at given coordinates...`);\n        const results2 = await this.getLayerApi().featureInfoLayerSet.queryLayers(lonlat);\n\n        // Check if there is feature selected from the layer\n        test.addStep(`Checking for features from layer '${layerPath}'...`);\n        const layerDataOffTemp = results2[layerPath];\n\n        // Store a deep copy of the data before clearing to preserve it\n        const layerDataOff = layerDataOffTemp ? { ...layerDataOffTemp } : undefined;\n\n        // Set layer queryable again\n        test.addStep(`Setting layer '${layerPath}' as queryable again...`);\n        layer.setQueryable(true);\n\n        // Perform a map click using the feature info layer set\n        test.addStep(`Perform query operation at given coordinates...`);\n        const results3 = await this.getLayerApi().featureInfoLayerSet.queryLayers(lonlat);\n\n        // Check if there is feature selected from the layer\n        test.addStep(`Checking for features from layer '${layerPath}'...`);\n        const layerDataOn2Temp = results3[layerPath];\n\n        // Store a deep copy of the data before clearing to preserve it\n        const layerDataOn2 = layerDataOn2Temp ? { ...layerDataOn2Temp } : undefined;\n\n        // Return the test results\n        return { layer, results: [layerDataOn, layerDataOff, layerDataOn2] };\n      },\n      (test, result) => {\n        test.addStep('Verifying layer data features when queryable...');\n        Test.assertIsArray(result.results[0]?.features);\n        Test.assertIsArrayLengthEqual(result.results[0].features, 2);\n\n        test.addStep('Verifying no layer data features when non-queryable...');\n        Test.assertIsArray(result.results[1]?.features);\n        Test.assertIsArrayLengthEqual(result.results[1].features, 0);\n\n        test.addStep('Verifying layer data features when queryable again...');\n        Test.assertIsArray(result.results[2]?.features);\n        Test.assertIsArrayLengthEqual(result.results[2].features, 2);\n      },\n      (test, result) => {\n        // Make sure to turn it back to queryable\n        result.layer.setQueryable(true);\n      }\n    );\n  }\n\n  /**\n   * Tests that non-hoverable layers do not appear in hover state when hovering on the map.\n   * This test performs the following operations:\n   * 1. Gets the first layer from the map\n   * 2. Sets the layer as non-hoverable\n   * 3. Simulates a map hover\n   * 4. Verifies that the layer results does not appear in the hover state\n   * @param {string} layerPath - The layer path to test\n   * @returns {Promise<Test<LayerWithBeforeAfterHover<AbstractGVLayer>>>} A Promise that resolves with the Test containing the hover states.\n   */\n  testLayerHoverableState(layerPath: string, lonlat: Coordinate): Promise<Test<LayerWithBeforeAfterHover<AbstractGVLayer>>> {\n    return this.test(\n      'Test layer hoverable state in hoverFeatureInfoLayerSet',\n      async (test) => {\n        // Get the layer\n        const layer = this.getLayerApi().getGeoviewLayer(layerPath);\n\n        // If not an AbstractGVLayer (regular layer)\n        if (!(layer instanceof AbstractGVLayer)) throw new LayerWrongTypeError(layerPath, layer.getLayerName());\n\n        // The layer should be initially hoverable\n        if (!layer.getHoverable()) throw new TestError(`False precondition, the layer ${layerPath} wasn't initially hoverable.`);\n\n        // Wait for the layer to be loaded after the zoom, a guarantee\n        await layer.waitLoadedStatus();\n\n        // Perform a hover query using the hover feature info layer set\n        test.addStep(`Perform query operation at given coordinates...`);\n        await this.getLayerApi().hoverFeatureInfoLayerSet.queryLayers(lonlat, 'at_lon_lat');\n\n        // Check if there is feature selected from the layer\n        test.addStep(`Checking for features from layer '${layerPath}'...`);\n        const layerDataOnTemp = MapEventProcessor.getMapHoverFeatureInfo(this.getMapId());\n\n        // Store a deep copy of the data before clearing to preserve it\n        const layerDataOn = layerDataOnTemp ? { ...layerDataOnTemp } : undefined;\n\n        // Set layer non queryable, this will also clear the result set automatically\n        test.addStep(`Setting layer '${layerPath}' as non-hoverable...`);\n        layer.setHoverable(false);\n\n        // Perform a hover query using the feature info layer set\n        test.addStep(`Perform query operation at given coordinates...`);\n        await this.getLayerApi().hoverFeatureInfoLayerSet.queryLayers(lonlat, 'at_lon_lat');\n\n        // Check if there is feature selected from the layer\n        test.addStep(`Checking for features from layer '${layerPath}'...`);\n        const layerDataOffTemp = MapEventProcessor.getMapHoverFeatureInfo(this.getMapId());\n\n        // Store a deep copy of the data before clearing to preserve it\n        const layerDataOff = layerDataOffTemp ? { ...layerDataOffTemp } : undefined;\n\n        // Set layer hoverable again\n        test.addStep(`Setting layer '${layerPath}' as hoverable again...`);\n        layer.setHoverable(true);\n\n        // Perform a hover query using the feature info layer set\n        test.addStep(`Perform query operation at given coordinates...`);\n        await this.getLayerApi().hoverFeatureInfoLayerSet.queryLayers(lonlat, 'at_lon_lat');\n\n        // Check if there is feature selected from the layer\n        test.addStep(`Checking for features from layer '${layerPath}'...`);\n        const layerDataOn2Temp = MapEventProcessor.getMapHoverFeatureInfo(this.getMapId());\n\n        // Store a deep copy of the data before clearing to preserve it\n        const layerDataOn2 = layerDataOn2Temp ? { ...layerDataOn2Temp } : undefined;\n\n        // Return the test results\n        return { layer, results: [layerDataOn, layerDataOff, layerDataOn2] };\n      },\n      (test, result) => {\n        test.addStep('Verifying layer data features when hoverable...');\n        Test.assertJsonObject(result.results[0], { fieldInfo: { value: 'Ontario' } });\n\n        test.addStep('Verifying layer data features when not hoverable...');\n        Test.assertIsUndefined('result.after', result.results[1]);\n\n        test.addStep('Verifying layer data features when hoverable again...');\n        Test.assertJsonObject(result.results[2], { fieldInfo: { value: 'Ontario' } });\n      },\n      (test, result) => {\n        // Make sure to turn it back to hoverable\n        result.layer.setHoverable(true);\n      }\n    );\n  }\n\n  /**\n   * Tests that the selected layer in the details panel persists correctly\n   * when clicking on different map locations.\n   * Test flow:\n   * 1. Clicks on the map at the first location and verifies the auto-selected layer.\n   * 2. Manually switches selection to the alternate layer.\n   * 3. Clicks on a second map location.\n   * 4. Verifies the manually selected layer remains selected and that its\n   *    feature count is correct.\n   * @param {string} layerPath1 - The path of the first candidate layer that may be auto-selected after the initial click.\n   * @param {string} layerPath2 - The path of the second candidate layer used as the alternate manual selection.\n   * @param {Coordinate} clickCoordinates1 - The map coordinates used for the first simulated click.\n   * @param {Coordinate} clickCoordinates2 - The map coordinates used for the second simulated click.\n   * @returns {Promise<Test<LayerDetails>>} A test instance resolving with details about the original selected layer,\n   * the persisted alternate layer, and the feature count after the second click.\n   */\n  testDetailsLayerSelectionPersistence(\n    layerPath1: string,\n    layerPath2: string,\n    clickCoordinates1: Coordinate,\n    clickCoordinates2: Coordinate\n  ): Promise<Test<LayerDetails>> {\n    return this.test(\n      'Test details layer selection persistence across map clicks',\n      async (test) => {\n        // Simulate a map click at first location\n        test.addStep(`Performing first map click at [${clickCoordinates1.join(', ')}]...`);\n        const simulatedMapClick1 = this.getMapViewer().simulateMapClick(clickCoordinates1);\n\n        // Wait for the UI to be updated\n        await simulatedMapClick1.promiseQueryBatched;\n\n        // Check which layer is selected after first click\n        test.addStep('Checking selected layer after first click...');\n        const originalLayerPath = FeatureInfoEventProcessor.getSelectedLayerPath(this.getMapId());\n        test.addStep(`First selected layer: ${originalLayerPath}`);\n\n        // The alternate layer\n        const altLayerPathh = originalLayerPath === layerPath1 ? layerPath2 : layerPath1;\n\n        // Manually select the alternate layer\n        test.addStep(`Manually selecting the other layer '${altLayerPathh}'...`);\n        FeatureInfoEventProcessor.setSelectedLayerPath(this.getMapId(), altLayerPathh);\n\n        // Simulate a map click at second location\n        test.addStep(`Performing second map click at [${clickCoordinates2.join(', ')}]...`);\n        const simulatedMapClick2 = this.getMapViewer().simulateMapClick(clickCoordinates2);\n\n        // Wait for the UI to be updated\n        await simulatedMapClick2.promiseQueryBatched;\n\n        // Check which layer is still selected after second click\n        test.addStep('Checking selected layer after second click...');\n        const alternateLayerPath = FeatureInfoEventProcessor.getSelectedLayerPath(this.getMapId());\n        test.addStep(`Second selected layer: ${alternateLayerPath}`);\n\n        // Get feature count   for second layer\n        const secondLayerData = FeatureInfoEventProcessor.findLayerDataFromLayerDataArray(this.getMapId(), alternateLayerPath);\n        const secondFeatureCount = secondLayerData?.features?.length || 0;\n        test.addStep(`Second layer feature count: ${secondFeatureCount}`);\n\n        return {\n          originalLayerPath,\n          alternateLayerPath,\n          secondFeatureCount,\n        };\n      },\n      (test, result) => {\n        test.addStep('Verifying first and second layers were different...');\n        Test.assertIsNotEqual(result.originalLayerPath, result.alternateLayerPath);\n\n        test.addStep('Verifying second layer has exactly 1 feature...');\n        Test.assertIsEqual(result.secondFeatureCount, 1);\n      }\n    );\n  }\n}\n\n/**\n * Represents a layer paired with feature information results\n * collected before and after an operation (e.g., filtering, ordering, or updates).\n */\ntype LayerWithBeforeAfterFeature<T> = LayerWithResults<T, (TypeFeatureInfoResultSetEntry | undefined)[]>;\n\n/**\n * Represents a layer paired with hover feature information results\n * collected before and after an operation.\n */\ntype LayerWithBeforeAfterHover<T> = LayerWithResults<T, (TypeHoverFeatureInfo | undefined)[]>;\n\n/**\n * Generic structure associating a layer with a set of related results.\n */\ntype LayerWithResults<T, U> = {\n  /** The layer instance. */\n  layer: T;\n  /** The results associated with the layer. */\n  results: U;\n};\n\n/**\n * Describes layer path information and comparison metadata used\n * when evaluating differences between layers.\n */\ntype LayerDetails = {\n  /** The path identifying the original layer.*/\n  originalLayerPath: string;\n  /** The path identifying the alternate or comparison layer. */\n  alternateLayerPath: string;\n  /** The number of features found in the alternate layer. */\n  secondFeatureCount: number;\n};\n","import type { API } from 'geoview-core/api/api';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport { GVAbstractTestSuite } from './abstract-gv-test-suite';\nimport { UITester } from '../testers/ui-tester';\n\n/**\n * The GeoView Test Suite for UI.\n */\nexport class GVTestSuiteUI extends GVAbstractTestSuite {\n  /** The UI Tester used in this Test Suite */\n  #uiTester: UITester;\n\n  /**\n   * Constructs the Test Suite\n   * @param {API} api - The shared api\n   * @param {MapViewer} mapViewer - The map viewer\n   */\n  constructor(api: API, mapViewer: MapViewer) {\n    super(api, mapViewer);\n\n    // Create the UI tester\n    this.#uiTester = new UITester(api, mapViewer);\n    this.addTester(this.#uiTester);\n  }\n\n  /**\n   * Returns the name of the Test Suite.\n   * @returns {string} The name of the Test Suite.\n   */\n  override getName(): string {\n    return 'UI Test Suite';\n  }\n\n  /**\n   * Returns the description of the Test Suite.\n   * @returns {string} The description of the Test Suite.\n   */\n  override getDescriptionAsHtml(): string {\n    return 'Test Suite to perform UI related tests';\n  }\n\n  /**\n   * Overrides the implementation to perform the tests for this Test Suite.\n   * @returns {Promise<unknown>} A Promise which resolves when tests are completed.\n   */\n  protected override onLaunchTestSuite(): Promise<unknown> {\n    // Test details panel guide and Top anchor\n    const pDetailsPanel = this.#uiTester.testGuideDetailsPanelTopAnchor();\n\n    // Resolve when all tests are done\n    return Promise.all([pDetailsPanel]);\n  }\n}\n","import { GVAbstractTester } from './abstract-gv-tester';\nimport type { ClassType } from 'geoview-core/core/types/global-types';\nimport { Test } from '../core/test';\nimport type { MapConfigLayerEntry, TypeGeoviewLayerConfig, TypeGeoviewLayerType } from 'geoview-core/api/types/layer-schema-types';\nimport { LayerNoCapabilitiesError, LayerServiceMetadataUnableToFetchError } from 'geoview-core/core/exceptions/layer-exceptions';\nimport { EsriDynamic } from 'geoview-core/geo/layer/geoview-layers/raster/esri-dynamic';\nimport { EsriFeature } from 'geoview-core/geo/layer/geoview-layers/vector/esri-feature';\nimport { EsriImage } from 'geoview-core/geo/layer/geoview-layers/raster/esri-image';\nimport { WMS } from 'geoview-core/geo/layer/geoview-layers/raster/wms';\nimport { WFS } from 'geoview-core/geo/layer/geoview-layers/vector/wfs';\nimport { GeoJSON } from 'geoview-core/geo/layer/geoview-layers/vector/geojson';\nimport { CSV } from 'geoview-core/geo/layer/geoview-layers/vector/csv';\nimport { OgcFeature } from 'geoview-core/geo/layer/geoview-layers/vector/ogc-feature';\nimport { WKB } from 'geoview-core/geo/layer/geoview-layers/vector/wkb';\nimport { KML } from 'geoview-core/geo/layer/geoview-layers/vector/kml';\nimport { GeoTIFF } from 'geoview-core/geo/layer/geoview-layers/raster/geotiff';\nimport { EsriImageLayerEntryConfig } from 'geoview-core/api/config/validation-classes/raster-validation-classes/esri-image-layer-entry-config';\nimport { EsriFeatureLayerEntryConfig } from 'geoview-core/api/config/validation-classes/vector-validation-classes/esri-feature-layer-entry-config';\nimport { EsriDynamicLayerEntryConfig } from 'geoview-core/api/config/validation-classes/raster-validation-classes/esri-dynamic-layer-entry-config';\nimport { GroupLayerEntryConfig } from 'geoview-core/api/config/validation-classes/group-layer-entry-config';\nimport { OgcWmsLayerEntryConfig } from 'geoview-core/api/config/validation-classes/raster-validation-classes/ogc-wms-layer-entry-config';\nimport { OgcWfsLayerEntryConfig } from 'geoview-core/api/config/validation-classes/vector-validation-classes/wfs-layer-entry-config';\nimport { GeoJSONLayerEntryConfig } from 'geoview-core/api/config/validation-classes/vector-validation-classes/geojson-layer-entry-config';\nimport { CsvLayerEntryConfig } from 'geoview-core/api/config/validation-classes/vector-validation-classes/csv-layer-entry-config';\nimport { OgcFeatureLayerEntryConfig } from 'geoview-core/api/config/validation-classes/vector-validation-classes/ogc-layer-entry-config';\nimport { WkbLayerEntryConfig } from 'geoview-core/api/config/validation-classes/vector-validation-classes/wkb-layer-entry-config';\nimport { KmlLayerEntryConfig } from 'geoview-core/api/config/validation-classes/vector-validation-classes/kml-layer-entry-config';\nimport { GeoTIFFLayerEntryConfig } from 'geoview-core/api/config/validation-classes/raster-validation-classes/geotiff-layer-entry-config';\nimport type { GeoCoreLayerConfigResponse } from 'geoview-core/api/config/geocore';\nimport { GeoCore } from 'geoview-core/api/config/geocore';\nimport { Config, getLocalizedMessage } from 'geoview-core/app';\nimport { logger } from 'geoview-core/core/utils/logger';\n\n/**\n * Main Config testing class.\n * @extends {GVAbstractTester}\n */\nexport class ConfigTester extends GVAbstractTester {\n  /**\n   * Returns the name of the Tester.\n   * @returns {string} The name of the Tester.\n   */\n  override getName(): string {\n    return 'ConfigTester';\n  }\n\n  // #region ESRI DYNAMIC\n\n  /**\n   * Tests an Esri Dynamic layer configuration using Historical Flood information.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testEsriDynamicWithHistoricalFloodEvents(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url: string = ConfigTester.HISTORICAL_FLOOD_URL_MAP_SERVER;\n\n    // Test the Esri Dynamic config\n    return this.testEsriDynamic(\n      'Test an Esri Dynamic with Historical Flood Events',\n      url,\n      {\n        metadataAccessPath: url,\n        listOfLayerEntryConfig: [{ layerEntryProps: { layerName: ConfigTester.HISTORICAL_FLOOD_LAYER_NAME } }],\n      },\n      EsriDynamicLayerEntryConfig\n    );\n  }\n\n  /**\n   * Tests an Esri Dynamic layer configuration using CESI information.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testEsriDynamicWithCESI(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url: string = ConfigTester.CESI_MAP_SERVER;\n\n    // Test the Esri Dynamic config\n    return this.testEsriDynamic(\n      'Test an Esri Dynamic with CESI',\n      url,\n      {\n        metadataAccessPath: url,\n        listOfLayerEntryConfig: [{ layerEntryProps: { layerName: ConfigTester.CESI_GROUP_0_LAYER_NAME } }],\n      },\n      GroupLayerEntryConfig\n    );\n  }\n\n  /**\n   * Tests an Esri Dynamic Config.\n   * @param {string} testName - The test name\n   * @param {string} url - The url of the Esri Dynamic layer\n   * @param {Record<string, unknown>} expectedConfig - The expected configuration on which the assertions will be done\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testEsriDynamic(\n    testName: string,\n    url: string,\n    expectedConfig: Record<string, unknown>,\n    expectedTypeFirstLayerEntry: ClassType<GroupLayerEntryConfig | EsriDynamicLayerEntryConfig>\n  ): Promise<Test<TypeGeoviewLayerConfig>> {\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerName: string = 'gvLayerName';\n    const gvLayerType: TypeGeoviewLayerType = 'esriDynamic';\n\n    // Complete the expected config by adding the geoviewLayerId and geoviewLayerName\n    const expectedConfigFull = {\n      ...expectedConfig,\n      geoviewLayerId: gvLayerId,\n      geoviewLayerName: gvLayerName,\n      geoviewLayerType: gvLayerType,\n    };\n\n    // Test\n    return this.test(\n      testName,\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return EsriDynamic.initGeoviewLayerConfig(gvLayerId, gvLayerName, url);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfigFull);\n\n        // Take the first layer entry\n        test.addStep('Verifying 1st layer entry config...');\n        const layerEntry = result.listOfLayerEntryConfig[0];\n        Test.assertIsInstance(layerEntry, expectedTypeFirstLayerEntry);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of an Esri Dynamic layer configuration when initialized with a bad URL.\n   * This is a negative test case where the `EsriDynamic.initGeoviewLayerConfig` method is expected\n   * to fail due to an unreachable or invalid service URL. The test verifies that a\n   * `LayerServiceMetadataUnableToFetchError` is thrown as expected.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A test object representing the result of the failed layer initialization attempt.\n   */\n  testEsriDynamicBadUrl(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // The bad url\n    const urlBad: string = GVAbstractTester.BAD_URL;\n\n    // Test\n    return this.testError(`Test an EsriDynamic config with a bad url...`, LayerServiceMetadataUnableToFetchError, async (test) => {\n      // Creating the configuration\n      test.addStep('Creating the GeoView Layer Configuration...');\n\n      // Try it and expect a fail\n      await EsriDynamic.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n    });\n  }\n\n  // #endregion ESRI DYNAMIC\n\n  // #region ESRI FEATURE\n\n  /**\n   * Runs a test using an Esri Feature service for the Toronto Neighbourhoods layer.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A promise that resolves to the configured test instance.\n   */\n  testEsriFeatureWithTorontoNeighbourhoods(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = ConfigTester.FEATURE_SERVER_TORONTO_NEIGHBOURHOODS_URL;\n\n    // Test the Esri Feature config\n    return this.testEsriFeature('Test an Esri Feature with Toronto Neighbourhoods', url, {\n      metadataAccessPath: url,\n      listOfLayerEntryConfig: [\n        { layerEntryProps: { layerId: '0', layerName: ConfigTester.FEATURE_SERVER_TORONTO_NEIGHBOURHOODS_LAYER_NAME } },\n      ],\n    });\n  }\n\n  /**\n   * Runs a test using an Esri Feature service for the Historical Flood Events layer.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A promise that resolves to the configured test instance.\n   */\n  testEsriFeatureWithHistoricalFloodEvents(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = ConfigTester.HISTORICAL_FLOOD_URL_FEATURE_SERVER;\n    const expectedUrl = ConfigTester.HISTORICAL_FLOOD_URL_MAP_SERVER;\n\n    // Test the Esri Feature config\n    return this.testEsriFeature('Test an Esri Feature with Historical Flood Events', url, {\n      metadataAccessPath: expectedUrl,\n      listOfLayerEntryConfig: [{ layerEntryProps: { layerId: '0', layerName: ConfigTester.HISTORICAL_FLOOD_LAYER_NAME } }],\n    });\n  }\n\n  /**\n   * Runs a test using an Esri Feature service for the Forest Industry layer.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A promise that resolves to the configured test instance.\n   */\n  testEsriFeatureWithForestIndustry(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = ConfigTester.FOREST_INDUSTRY_FEATURE_SERVER;\n    const expectedUrl = ConfigTester.FOREST_INDUSTRY_MAP_SERVER;\n\n    // Test the Esri Feature config\n    return this.testEsriFeature('Test an Esri Feature with Forest Industry', url, {\n      metadataAccessPath: expectedUrl,\n      listOfLayerEntryConfig: [{ layerEntryProps: { layerId: '0', layerName: ConfigTester.FOREST_INDUSTRY_LAYER_NAME } }],\n    });\n  }\n\n  /**\n   * Tests an Esri Feature Config.\n   * @param {string} testName - The test name\n   * @param {string} url - The url of the Esri Feature layer\n   * @param {Record<string, unknown>} expectedConfig - The expected configuration on which the assertions will be done\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testEsriFeature(testName: string, url: string, expectedConfig: Record<string, unknown>): Promise<Test<TypeGeoviewLayerConfig>> {\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerName: string = 'gvLayerName';\n    const gvLayerType: TypeGeoviewLayerType = 'esriFeature';\n\n    // Complete the expected config by adding the geoviewLayerId and geoviewLayerName\n    const expectedConfigFull = {\n      ...expectedConfig,\n      geoviewLayerId: gvLayerId,\n      geoviewLayerName: gvLayerName,\n      geoviewLayerType: gvLayerType,\n    };\n\n    // Test\n    return this.test(\n      testName,\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return EsriFeature.initGeoviewLayerConfig(gvLayerId, gvLayerName, url);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfigFull);\n\n        // Take the first layer entry\n        test.addStep('Verifying 1st layer entry config...');\n        const layerEntry = result.listOfLayerEntryConfig[0];\n        Test.assertIsInstance(layerEntry, EsriFeatureLayerEntryConfig);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of an Esri Feature layer configuration when initialized with a bad URL.\n   * This is a negative test case where the `EsriFeature.initGeoviewLayerConfig` method is expected\n   * to fail due to an unreachable or invalid service URL. The test verifies that a\n   * `LayerServiceMetadataUnableToFetchError` is thrown as expected.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A test object representing the result of the failed layer initialization attempt.\n   */\n  testEsriFeatureBadUrl(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // The bad url\n    const urlBad: string = GVAbstractTester.BAD_URL;\n\n    // Test\n    return this.testError(`Test an EsriFeature config with a bad url...`, LayerServiceMetadataUnableToFetchError, async (test) => {\n      // Creating the configuration\n      test.addStep('Creating the GeoView Layer Configuration...');\n\n      // Try it and expect a fail\n      await EsriFeature.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n    });\n  }\n\n  // #endregion ESRI FEATURE\n\n  // #region ESRI IMAGE\n\n  /**\n   * Tests an Esri Image using the Elevation Image Server service.\n   * @returns\n   */\n  testEsriImageWithElevation(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = ConfigTester.IMAGE_SERVER_ELEVATION_URL;\n\n    // Test the Esri Image config\n    return this.testEsriImage('Test Esri Image with Elevation', url, {\n      metadataAccessPath: url,\n      listOfLayerEntryConfig: [{ layerEntryProps: { layerId: ConfigTester.IMAGE_SERVER_ELEVATION_LAYER_ID } }],\n    });\n  }\n\n  /**\n   * Tests an Esri Image Config.\n   * @param {string} testName - The test name\n   * @param {string} url - The url of the Esri Image layer\n   * @param {Record<string, unknown>} expectedConfig - The expected configuration on which the assertions will be done\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testEsriImage(testName: string, url: string, expectedConfig: Record<string, unknown>): Promise<Test<TypeGeoviewLayerConfig>> {\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerName: string = 'gvLayerName';\n    const gvLayerType: TypeGeoviewLayerType = 'esriImage';\n\n    // Complete the expected config by adding the geoviewLayerId and geoviewLayerName\n    const expectedConfigFull = {\n      ...expectedConfig,\n      geoviewLayerId: gvLayerId,\n      geoviewLayerName: gvLayerName,\n      geoviewLayerType: gvLayerType,\n    };\n\n    // Test\n    return this.test(\n      testName,\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return EsriImage.initGeoviewLayerConfig(gvLayerId, gvLayerName, url);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfigFull);\n\n        // Take the first layer entry\n        test.addStep('Verifying 1st layer entry config...');\n        const layerEntry = result.listOfLayerEntryConfig[0];\n        Test.assertIsInstance(layerEntry, EsriImageLayerEntryConfig);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing an Esri Image layer configuration using an invalid metadata URL.\n   * This test verifies that when an Esri Image layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a `LayerServiceMetadataUnableToFetchError`.\n   */\n  testEsriImageBadUrl(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // The bad url\n    const urlBad: string = GVAbstractTester.BAD_URL;\n\n    // Test\n    return this.testError(`Test an EsriImage config with a bad url...`, LayerServiceMetadataUnableToFetchError, async (test) => {\n      // Creating the configuration\n      test.addStep('Creating the GeoView Layer Configuration...');\n\n      // Try it and expect a fail\n      await EsriImage.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n    });\n  }\n\n  // #endregion ESRI IMAGE\n\n  // #region WMS\n\n  /**\n   * Tests an WMS Config using OWS Mundialis.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testWMSLayerWithOWSMundialis(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = ConfigTester.OWS_MUNDIALIS;\n\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerType: TypeGeoviewLayerType = 'ogcWms';\n    const gvLayerName: string = 'OpenStreetMap WMS';\n    const fullSubLayers: boolean = false;\n\n    // Expected config\n    const expectedConfig = {\n      geoviewLayerId: gvLayerId,\n      geoviewLayerType: gvLayerType,\n      geoviewLayerName: gvLayerName,\n    };\n\n    // Test the Esri Feature config\n    return this.test(\n      'Test a WMS with OWS Mundialis',\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return WMS.initGeoviewLayerConfig(gvLayerId, gvLayerName, url, fullSubLayers);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfig);\n\n        // Supposedly 11 layer entries\n        test.addStep('Verifying 11 layer entries in the config...');\n        Test.assertIsArrayLengthEqual(result.listOfLayerEntryConfig, 11);\n\n        // Take the first layer entry\n        test.addStep('Verifying 1st layer entry config...');\n        const layerEntry = result.listOfLayerEntryConfig[0];\n        Test.assertIsInstance(layerEntry, OgcWmsLayerEntryConfig);\n        Test.assertIsEqual(layerEntry.layerId, 'OSM-WMS');\n      }\n    );\n  }\n\n  /**\n   * Tests an WMS Config using Datacube MSI.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testWMSLayerWithDatacubeMSI(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = GVAbstractTester.DATACUBE_MSI;\n\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerType: TypeGeoviewLayerType = 'ogcWms';\n    const gvLayerName: string = 'Layers / Couches';\n    const fullSubLayers: boolean = false;\n\n    // Expected config\n    const expectedConfig = {\n      geoviewLayerId: gvLayerId,\n      geoviewLayerType: gvLayerType,\n      geoviewLayerName: gvLayerName,\n    };\n\n    // Test the WMS\n    return this.test(\n      'Test a WMS with Datacube MSI',\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return WMS.initGeoviewLayerConfig(gvLayerId, gvLayerName, url, fullSubLayers);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfig);\n\n        // Supposedly 2 layer entries\n        test.addStep('Verifying 2 layer entries in the config...');\n        Test.assertIsArrayLengthEqual(result.listOfLayerEntryConfig, 2);\n\n        // Take the first layer entry\n        test.addStep('Verifying 1st layer entry...');\n        const layerEntryFirst = result.listOfLayerEntryConfig[0];\n        Test.assertIsInstance(layerEntryFirst, OgcWmsLayerEntryConfig);\n        Test.assertIsEqual(layerEntryFirst.layerId, GVAbstractTester.DATACUBE_MSI_LAYER_NAME_MSI);\n\n        // Take the second layer entry\n        test.addStep('Verifying 2nd layer entry...');\n        const layerEntrySecond = result.listOfLayerEntryConfig[1];\n        Test.assertIsInstance(layerEntrySecond, OgcWmsLayerEntryConfig);\n        Test.assertIsEqual(layerEntrySecond.layerId, GVAbstractTester.DATACUBE_MSI_LAYER_NAME_MSI_OR_MORE);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a WMS layer configuration using an invalid metadata URL.\n   * This test verifies that when a WMS layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerNoCapabilitiesError}.\n   * @returns {Promise<Test<LayerNoCapabilitiesError>>}\n   * A promise that resolves with the test result, expecting a `LayerNoCapabilitiesError`.\n   */\n  testWMSBadUrl(): Promise<Test<LayerNoCapabilitiesError>> {\n    // GV: In the case of a WMS, since a proxy is used when the url fails, and that proxy always returns a 200 response (with an internal error inside)\n    // GV: We can't really test the LayerServiceMetadataUnableToFetchError error exception.\n\n    // The bad url\n    const urlBad: string = GVAbstractTester.BAD_URL;\n\n    // Test\n    return this.testError(`Test a WMS config with a bad url...`, LayerServiceMetadataUnableToFetchError, async (test) => {\n      // Creating the configuration\n      test.addStep('Creating the GeoView Layer Configuration...');\n\n      // Try it and expect a fail\n      await WMS.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad, false);\n    });\n  }\n\n  // #endregion WMS\n\n  // #region WFS\n\n  /**\n   * Tests an WFS Config using Geomet Current Conditions layer.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testWFSLayerWithGeometCurrentConditions(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = GVAbstractTester.GEOMET_URL;\n\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerType: TypeGeoviewLayerType = 'ogcWfs';\n    const gvLayerName: string = 'Current Conditions';\n\n    // Expected config\n    const expectedConfig = {\n      geoviewLayerId: gvLayerId,\n      geoviewLayerType: gvLayerType,\n      geoviewLayerName: gvLayerName,\n    };\n\n    // Test the WMS\n    return this.test(\n      'Test a WFS with Geomet Current Conditions',\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return WFS.initGeoviewLayerConfig(gvLayerId, gvLayerName, url);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfig);\n\n        // Supposedly 92 layer entries\n        test.addStep('Verifying 92 layer entries in the config...');\n        Test.assertIsArrayLengthEqual(result.listOfLayerEntryConfig, 92);\n\n        // Check at least one has the correct layerId\n        test.addStep('Verifying Current Conditions in the list...');\n        const foundLayerEntry = result.listOfLayerEntryConfig.find(\n          (layerEntry) => layerEntry.layerId === GVAbstractTester.GEOMET_URL_CURRENT_COND_LAYER_ID\n        );\n        Test.assertIsDefined('listOfLayerEntryConfig with Current Conditions', foundLayerEntry);\n\n        // Check it's the right type\n        test.addStep('Verifying layer entry is of the right type...');\n        Test.assertIsInstance(foundLayerEntry, OgcWfsLayerEntryConfig);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a WFS layer configuration using an invalid metadata URL.\n   * This test verifies that when a WFS layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a `LayerServiceMetadataUnableToFetchError`.\n   */\n  testWFSBadUrl(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // The bad url\n    const urlBad: string = GVAbstractTester.BAD_URL;\n\n    // Test\n    return this.testError(`Test a WFS config with a bad url...`, LayerServiceMetadataUnableToFetchError, async (test) => {\n      // Creating the configuration\n      test.addStep('Creating the GeoView Layer Configuration...');\n\n      // Try it and expect a fail\n      await WFS.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n    });\n  }\n\n  /**\n   * Tests the behavior of initializing a WFS layer configuration using a 'valid' URL, but without a GetCapabilities response.\n   * This test verifies that when a WFS layer configuration is initialized and the initialization process fails as expected and throws a\n   * {@link getcaoa}.\n   * @returns {Promise<Test<LayerNoCapabilitiesError>>}\n   * A promise that resolves with the test result, expecting a `LayerNoCapabilitiesError`.\n   */\n  testWFSOkayUrlNoCap(): Promise<Test<LayerNoCapabilitiesError>> {\n    // The bad url which still respond something (not a 404, 500, etc)\n    const urlBad: string = GVAbstractTester.FAKE_URL_ALWAYS_RETURNING_RESPONSE_INSTEAD_OF_NETWORK_ERROR;\n\n    // Test\n    return this.testError(`Test a WFS config with a okay url but no capabilities...`, LayerNoCapabilitiesError, async (test) => {\n      // Creating the configuration\n      test.addStep('Creating the GeoView Layer Configuration...');\n\n      // Try it and expect a fail\n      await WFS.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n    });\n  }\n\n  // #endregion WFS\n\n  // #region GeoJSON\n\n  /**\n   * Tests a GeoJson Config using datasets/geojson/metadata.meta file.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testGeojsonWithMetadataMeta(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = GVAbstractTester.GEOJSON_METADATA_META;\n\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerType: TypeGeoviewLayerType = 'GeoJSON';\n    const gvLayerName: string = 'GeojsonLayer';\n\n    // Expected config\n    const expectedConfig = {\n      geoviewLayerId: gvLayerId,\n      geoviewLayerType: gvLayerType,\n      geoviewLayerName: gvLayerName,\n    };\n\n    // Test the WMS\n    return this.test(\n      'Test a Geojson with metadata.meta file',\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return GeoJSON.initGeoviewLayerConfig(gvLayerId, gvLayerName, url);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfig);\n\n        // Supposedly 1 layer entry\n        test.addStep('Verifying 1 layer entry in the config...');\n        Test.assertIsArrayLengthEqual(result.listOfLayerEntryConfig, 1);\n\n        // Check at least one has the correct layerId\n        test.addStep('Verifying layer id in the list...');\n        Test.assertIsEqual(result.listOfLayerEntryConfig[0].layerId, GVAbstractTester.GEOJSON_METADATA_META_FILE);\n\n        // Check it's the right type\n        test.addStep('Verifying layer entry is of the right type...');\n        Test.assertIsInstance(result.listOfLayerEntryConfig[0], GeoJSONLayerEntryConfig);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a GeoJSON layer configuration using an invalid data URL\n   * that does not point to a valid metadata file.\n   * This test verifies that when a GeoJSON layer configuration is initialized with an invalid or\n   * unreachable URL (without a `.meta` suffix), the initialization process does not throw an error,\n   * but instead correctly **skips** metadata loading as intended.\n   * @returns {Promise<Test<void>>} A promise that resolves with nothing.\n   */\n  testGeoJSONBadUrlExpectSkip(): Promise<Test<void>> {\n    // The bad url\n    const urlBad: string = GVAbstractTester.BAD_URL;\n\n    // Test\n    return this.test(\n      `Test a GeoJSON config with a bad url expecting a skip...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Try it and expect a fail\n        await GeoJSON.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n      },\n      (test) => {\n        // Perform assertions\n        test.addStep(`At this point, the metadata was skipped and that's as intended...`);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a GeoJSON layer configuration using an invalid metadata URL.\n   * This test verifies that when a GeoJSON layer configuration is initialized with a metadata URL\n   * ending in `.meta` that is invalid or unreachable, the initialization process correctly **fails**\n   * and throws a {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a {@link LayerServiceMetadataUnableToFetchError}.\n   */\n  testGeoJSONBadUrlExpectError(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // The bad url ending in .meta\n    const urlBad: string = 'https://badurl/oops/metadata.meta';\n\n    // Test\n    return this.testError(\n      `Test a GeoJSON config with a bad url expecting a fail...`,\n      LayerServiceMetadataUnableToFetchError,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Try it and expect a fail\n        await GeoJSON.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n      }\n    );\n  }\n\n  // #endregion GeoJSON\n\n  // #region CSV\n\n  /**\n   * Tests a CSV Config using csv file.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testCSVWithStationList(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = GVAbstractTester.CSV_STATION_LIST;\n\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerType: TypeGeoviewLayerType = 'CSV';\n    const gvLayerName: string = 'CSVLayer';\n\n    // Expected config\n    const expectedConfig = {\n      geoviewLayerId: gvLayerId,\n      geoviewLayerType: gvLayerType,\n      geoviewLayerName: gvLayerName,\n    };\n\n    // Test the WMS\n    return this.test(\n      'Test a CSV with CSV file',\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return CSV.initGeoviewLayerConfig(gvLayerId, gvLayerName, url);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfig);\n\n        // Supposedly 1 layer entry\n        test.addStep('Verifying 1 layer entry in the config...');\n        Test.assertIsArrayLengthEqual(result.listOfLayerEntryConfig, 1);\n\n        // Check at least one has the correct layerId\n        test.addStep('Verifying layer id in the list...');\n        Test.assertIsEqual(result.listOfLayerEntryConfig[0].layerId, GVAbstractTester.CSV_STATION_LIST_FILE);\n\n        // Check it's the right type\n        test.addStep('Verifying layer entry is of the right type...');\n        Test.assertIsInstance(result.listOfLayerEntryConfig[0], CsvLayerEntryConfig);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a CSV layer configuration using an invalid metadata URL.\n   * This test verifies that when a CSV layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a `LayerServiceMetadataUnableToFetchError`.\n   */\n  testCSVBadUrlExpectSkip(): Promise<Test<void>> {\n    // The bad url\n    const urlBad: string = GVAbstractTester.BAD_URL;\n\n    // Test\n    return this.test(\n      `Test a CSV config with a bad url expecting a skip...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Try it and expect a fail\n        await CSV.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n      },\n      (test) => {\n        // Perform assertions\n        test.addStep(`At this point, the metadata was skipped and that's as intended...`);\n      }\n    );\n  }\n\n  // #endregion CSV\n\n  // #region OGC Feature\n\n  /**\n   * Tests an OGC Feature Config using a Pygeoapi service.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testOGCFeatureWithPygeoapi(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = GVAbstractTester.PYGEOAPI_B6RYUVAKK5;\n\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerType: TypeGeoviewLayerType = 'ogcFeature';\n    const gvLayerName: string = 'OGCLayer';\n\n    // Expected config\n    const expectedConfig = {\n      geoviewLayerId: gvLayerId,\n      geoviewLayerType: gvLayerType,\n      geoviewLayerName: gvLayerName,\n    };\n\n    // Test the WMS\n    return this.test(\n      'Test an OGC Feature with Pygeoapi',\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return OgcFeature.initGeoviewLayerConfig(gvLayerId, gvLayerName, url);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfig);\n\n        // Supposedly 1 layer entry\n        test.addStep('Verifying 2 layer entry in the config...');\n        Test.assertIsArrayLengthEqual(result.listOfLayerEntryConfig, 2);\n\n        // Check at least one has the correct layerId\n        test.addStep('Verifying layer id in the list...');\n        Test.assertIsEqual(result.listOfLayerEntryConfig[0].layerId, GVAbstractTester.PYGEOAPI_B6RYUVAKK5_LAKES);\n\n        // Check it's the right type\n        test.addStep('Verifying layer entry is of the right type...');\n        Test.assertIsInstance(result.listOfLayerEntryConfig[0], OgcFeatureLayerEntryConfig);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing an OGC Feature layer configuration using an invalid metadata URL.\n   * This test verifies that when an OGC Feature layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a `LayerServiceMetadataUnableToFetchError`.\n   */\n  testOGCFeatureBadUrl(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // The bad url\n    const urlBad: string = GVAbstractTester.BAD_URL;\n\n    // Test\n    return this.testError(`Test an OGC Feature config with a bad url...`, LayerServiceMetadataUnableToFetchError, async (test) => {\n      // Creating the configuration\n      test.addStep('Creating the GeoView Layer Configuration...');\n\n      // Try it and expect a fail\n      await OgcFeature.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n    });\n  }\n\n  // #endregion OGC Feature\n\n  // #region WKB\n\n  /**\n   * Tests a WKB using South Africa.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves with a Test containing the configuration.\n   */\n  testWKBWithSouthAfrica(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = GVAbstractTester.WKB_SOUTH_AFRICA;\n\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerType: TypeGeoviewLayerType = 'WKB';\n    const gvLayerName: string = 'WKBLayer';\n\n    // Expected config\n    const expectedConfig = {\n      geoviewLayerId: gvLayerId,\n      geoviewLayerType: gvLayerType,\n      geoviewLayerName: gvLayerName,\n    };\n\n    // Test the WMS\n    return this.test(\n      'Test a WKB with South Africa',\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return WKB.initGeoviewLayerConfig(gvLayerId, gvLayerName, url);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfig);\n\n        // Supposedly 1 layer entry\n        test.addStep('Verifying 1 layer entry in the config...');\n        Test.assertIsArrayLengthEqual(result.listOfLayerEntryConfig, 1);\n\n        // Check at least one has the correct layerId\n        test.addStep('Verifying layer id in the list...');\n        Test.assertIsEqual(result.listOfLayerEntryConfig[0].layerId, GVAbstractTester.WKB_SOUTH_AFRICA);\n\n        // Check it's the right type\n        test.addStep('Verifying layer entry is of the right type...');\n        Test.assertIsInstance(result.listOfLayerEntryConfig[0], WkbLayerEntryConfig);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a WKB GeoView layer configuration using an invalid metadata URL.\n   * This test verifies that when a WKB layer configuration is initialized with an invalid or unreachable\n   * metadata URL, the initialization process fails as expected and throws a\n   * {@link LayerServiceMetadataUnableToFetchError}.\n   * @returns {Promise<Test<LayerServiceMetadataUnableToFetchError>>}\n   * A promise that resolves with the test result, expecting a `LayerServiceMetadataUnableToFetchError`.\n   */\n  testWKBBadUrlExpectFail(): Promise<Test<LayerServiceMetadataUnableToFetchError>> {\n    // The bad url\n    const urlBad: string = 'https://badurl/oops/metadata.meta';\n\n    // Test\n    return this.testError(`Test a WKB config with a bad url...`, LayerServiceMetadataUnableToFetchError, async (test) => {\n      // Creating the configuration\n      test.addStep('Creating the GeoView Layer Configuration...');\n\n      // Try it and expect a fail\n      await WKB.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n    });\n  }\n\n  // #endregion WKB\n\n  // #region KML\n\n  /**\n   * Tests a KML using Tornado.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves when the test completes successfully.\n   */\n  testKMLWithTornado(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = GVAbstractTester.KML_TORNADO;\n\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerType: TypeGeoviewLayerType = 'KML';\n    const gvLayerName: string = 'KMLLayer';\n\n    // Expected config\n    const expectedConfig = {\n      geoviewLayerId: gvLayerId,\n      geoviewLayerType: gvLayerType,\n      geoviewLayerName: gvLayerName,\n    };\n\n    // Test the WMS\n    return this.test(\n      'Test a KML with Tornado file',\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return KML.initGeoviewLayerConfig(gvLayerId, gvLayerName, url);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfig);\n\n        // Supposedly 1 layer entry\n        test.addStep('Verifying 1 layer entry in the config...');\n        Test.assertIsArrayLengthEqual(result.listOfLayerEntryConfig, 1);\n\n        // Check at least one has the correct layerId\n        test.addStep('Verifying layer id in the list...');\n        Test.assertIsEqual(result.listOfLayerEntryConfig[0].layerId, GVAbstractTester.KML_TORNADO_FILE);\n\n        // Check it's the right type\n        test.addStep('Verifying layer entry is of the right type...');\n        Test.assertIsInstance(result.listOfLayerEntryConfig[0], KmlLayerEntryConfig);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a KML GeoView layer configuration using an invalid URL.\n   * This test ensures that when the provided KML URL is invalid or unreachable, the initialization\n   * process correctly skips metadata loading instead of throwing an unhandled error or proceeding incorrectly.\n   * @returns {Promise<Test<void>>} A promise that resolves when the test completes successfully.\n   */\n  testKMLBadUrlExpectSkip(): Promise<Test<void>> {\n    // The bad url\n    const urlBad: string = GVAbstractTester.BAD_URL;\n\n    // Test\n    return this.test(\n      `Test a KML config with a bad url expecting a skip...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Try it and expect a fail\n        await KML.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n      },\n      (test) => {\n        // Perform assertions\n        test.addStep(`At this point, the metadata was skipped and that's as intended...`);\n      }\n    );\n  }\n\n  // #endregion KML\n\n  // #region GeoTIFF\n\n  /**\n   * Tests a GeoTIFF using  datacube vegetation.\n   * @returns {Promise<Test<TypeGeoviewLayerConfig>>} A Promise that resolves when the test completes successfully.\n   */\n  testGeoTIFFWithVegetation(): Promise<Test<TypeGeoviewLayerConfig>> {\n    // The url\n    const url = GVAbstractTester.GEOTIFF_VEGETATION;\n\n    // Dummy names\n    const gvLayerId: string = 'gvLayerId';\n    const gvLayerType: TypeGeoviewLayerType = 'GeoTIFF';\n    const gvLayerName: string = 'GeoTIFFLayer';\n\n    // Expected config\n    const expectedConfig = {\n      geoviewLayerId: gvLayerId,\n      geoviewLayerType: gvLayerType,\n      geoviewLayerName: gvLayerName,\n    };\n\n    // Test the GeoTIFF\n    return this.test(\n      'Test a GeoTIFF with Vegetation',\n      (test) => {\n        // Set step\n        test.addStep('Initializing config on url: ' + url);\n\n        // Initialize the layer config\n        return GeoTIFF.initGeoviewLayerConfig(gvLayerId, gvLayerName, url);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected config...');\n        Test.assertJsonObject(result, expectedConfig);\n\n        // Supposedly 1 layer entry\n        test.addStep('Verifying 1 layer entry in the config...');\n        Test.assertIsArrayLengthEqual(result.listOfLayerEntryConfig, 1);\n\n        // Check at least one has the correct layerId\n        test.addStep('Verifying layer id in the list...');\n        Test.assertIsEqual(result.listOfLayerEntryConfig[0].layerId, GVAbstractTester.GEOTIFF_VEGETATION_FILE);\n\n        // Check it's the right type\n        test.addStep('Verifying layer entry is of the right type...');\n        Test.assertIsInstance(result.listOfLayerEntryConfig[0], GeoTIFFLayerEntryConfig);\n      }\n    );\n  }\n\n  /**\n   * Tests the behavior of initializing a KML GeoView layer configuration using an invalid URL.\n   * This test ensures that when the provided KML URL is invalid or unreachable, the initialization\n   * process correctly skips metadata loading instead of throwing an unhandled error or proceeding incorrectly.\n   * @returns {Promise<Test<void>>} A promise that resolves when the test completes successfully.\n   */\n  testGeoTIFFBadUrlExpectSkip(): Promise<Test<void>> {\n    // The bad url\n    const urlBad: string = GVAbstractTester.BAD_URL;\n\n    // Test\n    return this.test(\n      `Test a GeoTIFF config with a bad url expecting a skip...`,\n      async (test) => {\n        // Creating the configuration\n        test.addStep('Creating the GeoView Layer Configuration...');\n\n        // Try it and expect a fail\n        await GeoTIFF.initGeoviewLayerConfig('gvLayerId', 'gvLayerName', urlBad);\n      },\n      (test) => {\n        // Perform assertions\n        test.addStep(`At this point, the metadata was skipped and that's as intended...`);\n      }\n    );\n  }\n\n  // #endregion GeoTIFF\n\n  // #region Geocore\n\n  /**\n   * Tests the Geocore service using Airborne Radioactivity information.\n   * @returns {Promise<Test<GeoCoreLayerConfigResponse>>} A Promise that resolves with the Test containing the response from Geocore.\n   */\n  testStandaloneGeocoreWithAirborne(): Promise<Test<GeoCoreLayerConfigResponse>> {\n    // The values\n    const uuid = GVAbstractTester.AIRBORNE_RADIOACTIVITY_UUID;\n    const language = 'en';\n    const expectedConfig = {\n      config: {\n        geoviewLayerId: GVAbstractTester.AIRBORNE_RADIOACTIVITY_UUID,\n        geoviewLayerType: 'esriDynamic',\n        geoviewLayerName: GVAbstractTester.AIRBORNE_RADIOACTIVITY_LAYER_GROUP_NAME,\n      },\n      geocharts: {\n        [GVAbstractTester.AIRBORNE_RADIOACTIVITY_UUID_WITH_SUFFIX]: {\n          layers: [],\n          chart: 'line',\n        },\n      },\n    };\n\n    // Perform the test\n    return this.test(\n      'Test Geocore with Airborne',\n      () => {\n        // Create a layer config from UUID using Geocore\n        return GeoCore.createLayerConfigFromUUID(uuid, language, undefined, undefined);\n      },\n      (test, result) => {\n        // Perform assertions\n        test.addStep('Verifying expected geoview geocore config...');\n        Test.assertJsonObject(result, expectedConfig);\n      }\n    );\n  }\n\n  // #endregion Geocore\n\n  // #region Settings\n\n  /**\n   * Tests the settings cascade properly to the sublayers.\n   * @returns {Promise<Test<MapConfigLayerEntry>>} A Promise that resolves with the Test containing the response from Geocore.\n   */\n  testSettingsCascadeToSublayers(): Promise<Test<MapConfigLayerEntry>> {\n    // The values\n    const config = GVAbstractTester.INITIAL_SETTINGS_CONFIG;\n\n    // Expected config\n    const expectedResults = {\n      geoviewLayer: { highlight: false, zoom: false },\n      group: { remove: false },\n      child: { highlight: true, remove: false },\n    };\n\n    // Perform the test\n    return this.test(\n      'Test Settings Cascade to Sublayers',\n      () => {\n        // Use the config to convert simplified layer config into proper layer config\n        const configObj = Config.initializeMapConfig(\n          this.getMapId(),\n          [config as unknown as MapConfigLayerEntry],\n          (errorKey: string, params: string[]) => {\n            // Get the message for the logger\n            const message = getLocalizedMessage('en', errorKey, params);\n\n            // Log it\n            logger.logWarning(`- Map ${this.getMapId()}: ${message}`);\n\n            // Show the error using its key (which will get translated)\n            this.getMapViewer().notifications.showError(errorKey, params);\n          }\n        );\n\n        if (!configObj || !configObj[0]) {\n          throw new Error('Failed to initialize map config');\n        }\n\n        return configObj[0];\n      },\n      (test, result) => {\n        // Perform assertions on specific properties only\n        test.addStep('Verifying geoview layer controls...');\n        Test.assertJsonObject(result.initialSettings?.controls, expectedResults.geoviewLayer);\n\n        test.addStep('Verifying group layer controls...');\n        Test.assertJsonObject(result.listOfLayerEntryConfig?.[0].getInitialSettings()?.controls, expectedResults.group);\n\n        test.addStep('Verifying child layer controls...');\n        Test.assertJsonObject(\n          result.listOfLayerEntryConfig?.[0].listOfLayerEntryConfig?.[0].getInitialSettings()?.controls,\n          expectedResults.child\n        );\n      }\n    );\n  }\n\n  // #endregion Settings\n}\n","import type { Coordinate } from 'ol/coordinate';\n\nimport type { API } from 'geoview-core/api/api';\nimport type { MapViewer } from 'geoview-core/geo/map/map-viewer';\nimport type { TypeGeoviewLayerType } from 'geoview-core/api/types/layer-schema-types';\nimport type { TypeLegendItem } from 'geoview-core/core/components/layers/types';\nimport type { LayerApi } from 'geoview-core/geo/layer/layer';\nimport { AbstractTester } from '../core/abstract-tester';\n\n/**\n * Main GeoView Abstract Tester class.\n * @extends {AbstractTester}\n */\nexport abstract class GVAbstractTester extends AbstractTester {\n  /** GLOBAL CONSTANTS FOR THE TESTS */\n\n  /** Some long lat coordinates for map investigations */\n  static readonly QUEBEC_LONLAT: Coordinate = [-71.356054449131, 46.78077550041052];\n  static readonly MANITOBA_CENTER_LONLAT: Coordinate = [-86.73558298224057, 50.833271435899974];\n\n  /** Bad url */\n  static BAD_URL = 'https://badurl/oops';\n\n  /**\n   * Fake url acting like a WMS/WFS url for a GetCapabilities call - the proxy is a good url to use to fake this.\n   * Something like https://google.ca will get turned into https://google.ca/?service=WFS&request=GetCapabilities and that's\n   * not a 200 response and we can't test with that.\n   * Not using the core config url constant on purpose, because it serves a whole different purpose here.\n   */\n  static FAKE_URL_ALWAYS_RETURNING_RESPONSE_INSTEAD_OF_NETWORK_ERROR = 'https://maps.canada.ca/wmsproxy/ws/wmsproxy/executeFromProxy';\n\n  /** Airborne Radioactivity uuid */\n  static AIRBORNE_RADIOACTIVITY_UUID: string = '21b821cf-0f1c-40ee-8925-eab12d357668';\n  static AIRBORNE_RADIOACTIVITY_GROUP: string = GVAbstractTester.AIRBORNE_RADIOACTIVITY_UUID + '/0';\n  static AIRBORNE_RADIOACTIVITY_UUID_WITH_SUFFIX: string = GVAbstractTester.AIRBORNE_RADIOACTIVITY_UUID + '/0/1';\n  static AIRBORNE_RADIOACTIVITY_LAYER_GROUP_NAME: string = 'Airborne Radioactivity';\n\n  /** Historical Flood */\n  static readonly HISTORICAL_FLOOD_URL_MAP_SERVER: string =\n    'https://maps-cartes.services.geo.ca/server_serveur/rest/services/NRCan/historical_flood_event_en/MapServer';\n  static readonly HISTORICAL_FLOOD_URL_LAYER_ID: string = '0';\n  static readonly HISTORICAL_FLOOD_LAYER_NAME: string = 'Historical Flood Events';\n\n  static readonly HISTORICAL_FLOOD_URL_FEATURE_SERVER: string =\n    GVAbstractTester.HISTORICAL_FLOOD_URL_MAP_SERVER + '/' + GVAbstractTester.HISTORICAL_FLOOD_URL_LAYER_ID;\n\n  static readonly HISTORICAL_FLOOD_ICON_LIST: TypeLegendItem[] = [\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAbCAYAAAB4Kn/lAAACWklEQVR4AeyUz2vTYBjHn64ZsaXFVOdYMp3IDgVtcZBo6g/8dVGkFTwI6tHDdvEP8Nb2KCh48bCKR/U46IZMLw4RaSTRyZhSdDA61g5cXbGjtC515gnupU3eLPHgQVjIw/s87/N9Pu8PHt4e+EffDphc7LZXkUgkUiclKSPLsmqaJI2TSheHCjYgo4apzcFYvnrmRnrl8m0RDTY3Uy48kraBZWNXrf3xcQSVLlyHb8NHod7Hw89whBR5cWxgn64LG/0HTJgXgJPGBi7MzqZC759r4dWKU42neRsYq2q12pWB/ANgW00MuywajQpdEw4BFVwsFsvAMGPCi8ekrMXuglbsPM+FQsuyKJaxW0iS4lDBqOttNDRmtdR1H6Xjl+DLrbuwcu0O3zhyLp0YGZl0OgEVjGLd78/Uzt7kcRGr1Y0OwUXqJ64mI4EAtbepYI7jkliErWaFdsaV2CloDkvJ0/G42DmPPhVsJEbXDx42Bvd/7dhF2AgGbbu2gc1r4AQRj+uOdVbYwChth/bi4MnMDei6+1Vgq7GLHzxBURSur4HRmhr6ndbTGRCfYTSzgEw4O70/voO/3Z6yKqhgn8+X7Xv11Kq1xbj4bm0afhkbsSap4EKhMMlUl3JD76atehIjNPJZAba6lEU9SfxxqGDMKao6xs7P5A7lH8K+hY+AIHw7wsbjtGd5AfBEwfmZ7FtVzaDeao5gFCJ8ffHTIPf6WW5g4p429CRd4SfuT/W/fJQNlL9KTlCs3RaMAuwSXEBRFEnRNAGfVQS+mZuzdQLqt8wVvCX82/H/A/8GAAD//xYEcgMAAAAGSURBVAMAimfKN/C2el8AAAAASUVORK5CYII=',\n      name: 'freshet',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAbCAYAAAB4Kn/lAAACQElEQVR4AeyUX2vTUBTAT0dLNppCtzlm+jKElSDdoJpACiq+u05B8MEPYIs++SwIKz6IfgFp9hEGA1f3DUQaSUag7CF0IH1YY5nGSVpqRrTes7HQ5iZthvggGO7NPff8+eX+OSdT8Jee/2DvYCMfhSSKVUkQ2oV8vobyzdVVwaMECJHBMBisNz/tcq3OVvHzUbXU/fVAlSRJLRQK6wFciA4m0b0eC6a5DK3WddD3n0Oz+Vb4Yd/ZwR0Q80i7EHgkkkwsaxH6To5IdPsjMMcdQHr+tXZs2xU/OhKY5/mMP3BurgOZxVcQi8UqhmG0/faxYHI5JdJVdubW4fH3Z5zjJL14bmEHmLheqdfrNU85JISCMa2c7loVL0jTN8E4uO+FMUwPpmc+wlfblj2lTwgE4y3b/SdFvHm8IF8M4Mq/fHsMaZZV/bbzOQXGvHT6d0v7xqNzn8ARUw6PhxxVKciBAg9ct9ixHgb5Uroj6waA625QBqKgwFhhlsUR0+SGx+T+vMYFZQ0NnsyL5BEITia7kYLPnBLm2Tj6psGxWC2VOhz1CpktLe1BnNlrRyoQLM9Ls28AczWE56ln2d3TyvMUQwK1Yvx6nGmUV64+HXKjxRy/CdOJ7XcXqjxFUWSES4II/PI24H8Bd4Ajbj+fewFsSpbruh74L8ZlUCtGJXaEJ05OxPn0y0o2e0/Lr9w2s1fWzMsLZZmd2hIVVS2jX1gPBWPA+0ZD+6CqG+QjoqJpmdNOgKhH+7g+FjwucJLt3wP/BgAA//+APi1zAAAABklEQVQDAOMZyzfx7LbNAAAAAElFTkSuQmCC',\n      name: 'heavy rain',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAACT0lEQVR4AeyT32vTUBTHT3drStsU9oOB7eb0oVImFAeJJAwfRNGnzSf/hvpntP9G+1/IBP+BqRumUNmDFosbQ5a+qNFt7ZomdPcbMkiTNEs32NPCPbn3nnvO+dx77j0zdEPfLSg00aVSqRC64FFeO3WKolRmRVFD74kbGF4L9LRclgZ0t97NvMhbVrYeBbsyCJBhJlP/K5Soy+ZoP/eMAIM+cByuiATBaV2Wa+ra2hbfrabIch3C/chirGawVQkQzE/pjgMbCsIW5n6ZCAKgLyxqv4UnVT33auNQeCl1088rJ6xYUSRpdJa6v3HAT+MNCJiRKuf5pipePcahIED+sWL1KLNOB8KKk5o/LOv0nfRjauXe0Le0Cv+A/GfLxHNY8y8EQKqqbvbYUlVPPyIE9zuEzbM0pHtml1b7O7TS+6CzRKLhtwuARqNRFReMNPiNw+bF/ld6ePxOXzA/NsTeT3m32Sx80rToEzmFZ1nSMRPDYgZ08/YpidYPHcF3Ne3t9t5eM2DkKsZOtCgI+UFyWY97Gje1eTdWZDcGwo5S1q9YjoiKu+G9zuXSNgZyrXWkxB1Hdjn7hBK2PTFdXucACC9m3ux4bSaORfOQZpLJq4HwYkTab+K5TiTwhQccAjvY8+mlLXAieBiG8XphsK0jmHsPUDuCtOJJz/U+v4edo4zxCwW12+0jPNlZ80uD14hTiChGCApStDuNnVZrE3YxGI5JKMhZ4T/UBgcm+sb3JRQjhM8L0PPlqVok6CISdo6nD7nQTdvHAk0bNMz+xkDnAAAA//+bPRxkAAAABklEQVQDAApH5DHHxiadAAAAAElFTkSuQmCC',\n      name: 'coastal storm',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAUCAYAAAB8gkaAAAACYElEQVR4AeySX0hTcRTHj/Pqygx68WGLRFBYZNbo3rhLTBAiV7kyeqnoZdAcZCTUgy/FHPVQL5FRkFkYBtVbso1oFBQrbKt7YaQQA6WHcguE6I8J6obd74U72u93TSfik2Pn3t85v3O+n3MO10Kr+FuDFSzb4XDYXS6Xp1GSemRJ6sO7qaFBLEgycYpeIyCbKiuV+qZToeYTlwPu070duzwXAhvrJEWWZQWNmHD0UFEwTFBTvz/U3jVg29PqpbodzbSl1knOxsN07Mwtcnuvi1ojEwtNycHQuSyKaZfTGcbZ6BQC1TsPBvYePUtVtlq9U/YBsNt3k+bKy8PsHXwOZslmxZaTV2xHzg+21WhToFOsZ66ios+xu5Ws1g2oW9AA3N7itWk1HWwSB8uVlrZVVW/Vu993vJt8V2PU3tkvYkUQYgXM/G3yIYQXh1E2a0fmv4a1LRWEunXrtelNdLjJ8sk4rLBxsJJcTv31/VseMzPzh76MJ3XLBxc5oB46bBoHmxeE9M/JCV38XXSABgMHKHqnM/K8/1wGUFbAzB/7GKN5q5X7IjlYiSBEXj26qAM+vX4QLJudleLJpOfH1JSkAQmTmgGM2GRmnEbfPFQTicRdI2a8OVg8Hg9rwpsBGFaUnrcjIyqSU6lUmgTBH7nfTRBEjDVMPnTbp5ZNT/vZO/gWPFjThdmg5qPb32OKNNTrzbx8co2SwyF93VgbfKwbIKNBraTgbworyGAcCCVU1f55NOr/8OyG/8W9rmDs8aXg1/dP9XXjninJu0XDjEpMCcOqYf+DGDXLhhkCxbxXFfYXAAD//8C3ZaUAAAAGSURBVAMAEC7vKU/8IFQAAAAASUVORK5CYII=',\n      name: 'beaver dam failure',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAACaUlEQVR4AeSTTWgTQRSAX5rddtPmENBLCuJBJFYJBLMQCZ5y6SUt6EEI1Fvc2IN4qeBFE6SIiCIqSFMLgpfiQQ9uoNRDheJPVnahUkRz8GhzUfQQml12l7pvyYTZSTdsf+ilIW/nzbz35ps3894AHNDvEIISicToftxu36vLimIlFo3+wnGvMF8Qbm7ksmVj4QHYW1vl88lkei+wbUGZTEZCiF6cAvPoETAe3wFzcFDeV1DnTSS7cAEgIrh7m8ePgTV9OZ4RxSpmhtmeS6Vk50CqK51119nn05NRLBbLW1cKacyEjtHHc2Bdyktmakw1rk6V9ReP8sbcvbQrszek9tmkjAehY2jdA3KzsayKfeok7dPV9cJFaN2aAYTiQbpyZgz02ZtxK5eVMNtuAKV4QI1GYwNCIXno+m0Qni6AsLwC0NYpd0ftXKej9fz1a0XAt8XrZY0eEBoVVS0pmhbiV79Mcs8XtWhhGoTFN2gKJPbkOJjDw1XWuQdEHOr1uqwoiohQ7pXc5H//Iaa+IxYOWFZPk/uC2N3MkRF2yX9++kTcfW/KIygoTkqdivVVrQGuyRqDgThO4799Z2O3neMVcz9+briFRXkEAvGbm6XwykcqzF8Na18hbNs11iMQ6MP6usa/W60Jn1U23jNHO1bqJ1WteAzOJBDI8YP62toE97CqYanj9eAaEZwjhL/7pIbZk3V6DAzCICx37vVSaag403QbGpt67mUT59z9Z/N/2+0SZo++rOwIhMEObN7prVFs6MjSezHydnniX6slYqOzBYD+RHYMIoHY0Hh6lH4A4r9rENkg6HhgoP8AAAD//4UdvOgAAAAGSURBVAMASOXnMQcKbOYAAAAASUVORK5CYII=',\n      name: 'frazil',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAbCAYAAAB4Kn/lAAACS0lEQVR4AeyUQUsbQRTHX4oQFZtuox5Mm4glkvQgrOzQTYoXoVIssbfcchAKycdQP0b6BTwEKU16sygFabJ2F0Uh3WAJmrQJphdJvIRq2nlLNpCdyWZb6KHQsG9m3sx/fzP75r3cgb/0+w/uBXZoKCKRyNpTQjZlWVZlSaoZPSHpUCjk61E4A1twRBRzAb8/u7S8vBGPx6XE+vpMIpGQnq+uJoWJiW+4IYdpTA0Ey/RUjxcXY89WViA4Pw8ejwfcbrdhD/1+eJVKwb3JyQ36BUmDZGm4YBTPzs0lo9GoRd7vvojFwCsI6aWFBal/BYALpqKkKIq0s3/wCx4Fg/BjfHw4GC9lyuv1TU1P21O7q+FwGEdMOLgn7nQ6M6h2bDc3PquWC75LL8oq/F2fAZdKpdpFuVxvNpuOWN8bDXDd3mpWMQM2BC5XrnF5aQyHNbquA4yOvrbquOCrVmvrw95e/Wu1atX3+fl8Hi4qFa1QKOT6FqjDBWM4rq6vyafDQyphHwwTQj8fHb1TFIWwisF5DIIgxKyXiLA3OzuQyWS0YrGYKhwfr/GgOMc9MVbSbCCQfiLLqDGs3W5D8eSkXj4/f4CnpMbE1RB2GwaMBUIrKS2KovH/0NX1OgxTz7EZMOD7Y2NpQojktPIGsRnwz5GRGuYmXtCgl5zMM2BFVVM1XSeZ7e36+91d+HJ2BrhJy2HBmJsyYFw4OD3VFE3zVarVlwf7+1uYBW+zWY1XYajnGRdsCjHxP6rqJs0AgmaXXuY7Zm8LNkV/0v974F8AAAD//0IVDqMAAAAGSURBVAMAjjPHN6HPFSkAAAAASUVORK5CYII=',\n      name: 'dam failure',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAbCAYAAAB4Kn/lAAACNUlEQVR4AeyUXW7aQBDHx5SYQsAhCaEE1KK0SEhR8lDZklHVKzTHcI6R9hhwjfQIfQAJS1HpQ92HUqU0oNRpnQ8+bcfZsbTI8S4EKcpDpFi2Z2fmvz/Prnc3Ag90PYGnEzt3Kt7v7srvFOWjqqpNVZY93ypKFeNTwozGTDCBaEIq3VwtbB28Km3LxZ23gDZXLPlxlXxgBtMPc8EIldJr1dxWCVbWMrAkPodoZMm3y9IqvCzvQPpFQZsHZ8A4TPGZWE1ncj7I/zzntZ7NQzwpaZVK5QMnDQzYTiRkaWM+lII2CkXwPO+A+kHLgElSSySTxNx94xSB48g8JQsmQr8DT82JibEElMvlfDjFggG6zrUd1s30J+MBN8eABdfV7eGYKw4Hh/0rgGhUNwzjJJyLhANeLHZodn6Fw1x/0L8AIIXwkgy40WjUJu5EP/9n8vTTGOYts6dbl5efpsFAgwFjzrKsPbN3rJ+0DbAnIwwxj9n52UUdbxpQzAWjmFSuDIf9/ePvX+G38Q2wQuxAn3hqZXM9ldKoH7ZcMBUReK2h68Lp2WkBKwyulmzxNbhkc+BOpfqgnQumQhwBbVOLZ0f+zTbYonhIY0G7EDjYIdiOLydBymQ3eYfRvcD9i/9gj8cgOM5COy9Y1K2257iAmwJ/JK6YXqetj0aDvfrREXPCLVyxQDYCWSHd7o/WZ/NPu+ac/VXIz1Xq9fr95hirIisk79tmc/9Lq6XfGk7IWbjiUL873ccHvgEAAP//jD10+AAAAAZJREFUAwAOwtc3slKopAAAAABJRU5ErkJggg==',\n      name: 'municipal water main break',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAACb0lEQVR4AeyTT2jTcBTHX0xBlIE9qNDdRLBF6cVEEjYR2djwsFIPrkO9KErrUCLiUPDSxD+I4EUP05YKvfiHYj1MERlsigxJMIGxUljVuXmwxT8HZaAUVrLfCwu0v2ZLtsEOYyG/vr783vt+Xl5+bxOs0bUBshodDAZbcYmiGDkYDnPWQ5efZbUOxQVBiPtbWnSR2/O9N8oNHerarwscZwo8n1qK5RmElfv9/qH+Ux2pzOCFwJ0bp+FkrBOk81F4lh2A/jNdcQIsYzFOQM+gOZaVr0oR7kj3AdixfVuD1patmwGf30yeCGAxDZsLjicQtqu3r72nTdy7kOZswvt2QWd7iMN4oC5PIJIT7+7giXG/j/cdBqZajdCRnkCh3Ts5ul20kO1jnMmyPbZvW0+gyVLZjvdkQ8FWoA+FJxBRr/z/VyXG/cY4UlilVGqsblEQDmMbz8vkw+qxY2IAT5Y7BuDLdBmYWs2gY5tAOHhkHkwcxoFLR5OZ++c4nBc60cn/9fsvvH03Ab5aTab3m0BgmnEyD9Yw4nHGj0snOfkIGR7VYeR9MT1WKLi/EcswykTxq5MWPM6NQDR2C94MfwQU/jbzA3AVitNw994LyOc1RdP1hFNy0xt90HU591y1hOoTUDyX19KaYTAPsqOJs9JDQ7qWNS5eTr1KXn+qTBVmeMytz6n/3wSyNn2+BFaIJwh9rJqIG39mZxX0NY0ANY0nllfHxyMIGHNoF8bayxFEBNKTUz8T8u0nVmsGH70GhrSUPrK2iBfrCMJEGyZdycDnTxVFVdWX+Hyla1EQCiJMMwwGW4P+ataSoNUI07nrDzQPAAD//zK3WLEAAAAGSURBVAMAPCHpMetySD8AAAAASUVORK5CYII=',\n      name: 'unknown',\n      isVisible: true,\n    },\n  ];\n\n  /** Forest Industry Hotspots */\n  static readonly FOREST_INDUSTRY_MAP_SERVER: string =\n    'https://maps-cartes.services.geo.ca/server_serveur/rest/services/NRCan/forest_industry_hotspots_en/MapServer';\n  static readonly FOREST_INDUSTRY_LAYER_ID: string = '0';\n  static readonly FOREST_INDUSTRY_LAYER_NAME: string = 'Location of mill facilities';\n  static readonly FOREST_INDUSTRY_FEATURE_SERVER: string =\n    GVAbstractTester.FOREST_INDUSTRY_MAP_SERVER + '/' + GVAbstractTester.FOREST_INDUSTRY_LAYER_ID;\n\n  static readonly FOREST_INDUSTRY_ICON_LIST: TypeLegendItem[] = [\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAeklEQVR4AZyPQQ5FQBBE5/87OBFW4iysWbPmLGKFEzkEr0hLRyyE1NPd1TVk/uHl8zlY8oMJZijgkv+iFhWbBGKoQQcpIfhgjhOBSX1mgw9uZrr6s94HR8wVTOoHG3yww2xgAV2mpfZwyAdlaKHLpAw6SDl1D57uw3sHAAD//6HK3mIAAAAGSURBVAMAWeIPFUBE16wAAAAASUVORK5CYII=',\n      name: 'Mills',\n      isVisible: true,\n    },\n  ];\n\n  /** EsriDynamic with Raster Layers */\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_UUID: string = 'ac2096a6-7b4a-464e-9e08-eca7873dd88c';\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_GROUP: string = '0';\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_PETROLEUM: string = '0/1';\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_MINERALS: string = '0/2';\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_FORESTRY: string = '0/3';\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_FISHERIES: string = '0/4';\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_AGRICULTURE: string = '0/5';\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_CANECUMENE: string = '0/6';\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_PETROLEUM_ICON_LIST: TypeLegendItem[] = [\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVklEQVR4AeyUsREAIAgDozM4mKM6mDtopKMl0sERCu7I5b6g43OlGh6GVQWX8OyFqBjG2hnaRhxlKALkeTEkBLGLoQiQ57kM25iIiuEa5f7hWyh6frgAAAD//+AwBAcAAAAGSURBVAMAvFc+KYtCIWgAAAAASUVORK5CYII=',\n      name: '< 5%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVUlEQVR4AeyUQQoAIAgEt/7TG6M39qAy8eLVzZvCKgguyxzs+FyphkfCsoJLePZEVLByhrajRhlS+PS4GCoGqhVDCp8e5zJsYyEqiddE7h++BaPnhwsAAP//QCgD9wAAAAZJREFUAwAnAT4piTIVzwAAAABJRU5ErkJggg==',\n      name: '5 - 10%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAUElEQVR4AeyQMQ4AIAgDTz/pG32lViddrWwQykDSprnK5wkNHCrriqvh6PAqldl7Be6PeTLQBCh7MhQEc5OhCVD2WIalwauAguZsuB6OFAcTAAD//7H06c4AAAAGSURBVAMAK34vKc+QpgoAAAAASUVORK5CYII=',\n      name: '10 - 15%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVUlEQVR4AeyUsREAIAgDo2O4oDO5oGtopKMl0sERCu7I5b6g43OlGh6GVQWXcC8gKoaxdoa2EUcZigB5XgwJQexiKALkeS7DMYGoGK5R7h++haLnhwsAAP//SFI/kAAAAAZJREFUAwDD8S8pNjKTYAAAAABJRU5ErkJggg==',\n      name: '15 - 25%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVUlEQVR4AeyUsREAIAgDo1O6hbO4hVtqpKMl0sERCu7I5b6g43OlGh6GVQWXcE8gKoaxdoa2EUcZigB5XgwJQexiKALkeS7DsYCoGK5R7h++haLnhwsAAP//ME11LgAAAAZJREFUAwDWVi8pjcJ/KAAAAABJRU5ErkJggg==',\n      name: '> 25%',\n      isVisible: true,\n    },\n  ];\n\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_MINERALS_ICON_LIST: TypeLegendItem[] = [\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVklEQVR4AeyUsREAIAgDo1M4j4M7j1topKMl0sERCu7I5b6g43OlGh6GVQWX8KyNqBjG2hnaRhxlKALkeTEkBLGLoQiQ57kM2xyIiuEa5f7hWyh6frgAAAD//4FSeJIAAAAGSURBVAMAhG4+KZVnLzkAAAAASUVORK5CYII=',\n      name: '< 5%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVklEQVR4AeyUsREAIAgDo5M4pGM4pJtopKMl0sERCu7I5b6g43OlGh6GVQWX8MyNqBjG2hnaRhxlKALkeTEkBLGLoQiQ57kM2xqIiuEa5f7hWyh6frgAAAD//0ZA9ncAAAAGSURBVAMAtWM+KdUoI64AAAAASUVORK5CYII=',\n      name: '5 - 10%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAUklEQVR4AeyUMQ4AIAgDq9/y/b4LCxsrlQ1CGUhomhvY+FythsawqpASGi6qYpjoZBgbcYyhCJDnw5AQxB6GIkCe9zJcOKiK4RaV/qEvFLkfHgAAAP//aH6fJwAAAAZJREFUAwDmQy8pZwTmEgAAAABJRU5ErkJggg==',\n      name: '10 - 15%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVUlEQVR4AeyUMQ4AIAgDq6/0L87+xV9qZWOlskEoAwlNcwMdnyvV8DCsKriEGwtRMYy1M7SNOMpQBMjzYkgIYhdDESDPcxkOTETFcI1y//AtFD0/XAAAAP//dT3YpgAAAAZJREFUAwDl5i8pqgLWdwAAAABJRU5ErkJggg==',\n      name: '15 - 25%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVUlEQVR4AeyUsREAIAgDo/u5jWO4jQNqpKMl0sERCu7I5b6g43OlGh6GVQWXcGIgKoaxdoa2EUcZigB5XgwJQexiKALkeS7DhY2oGK5R7h++haLnhwsAAP//yNMpAQAAAAZJREFUAwDbeC8pTXvMHwAAAABJRU5ErkJggg==',\n      name: '> 25%',\n      isVisible: true,\n    },\n  ];\n\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_FORESTRY_ICON_LIST: TypeLegendItem[] = [\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVklEQVR4AeyUsREAIAgDo/u4hIO7hANppKMl0sERCu7I5b6g43OlGh6GVQWXcJ+FqBjG2hnaRhxlKALkeTEkBLGLoQiQ57kMR5uIiuEa5f7hWyh6frgAAAD//xyRtZ4AAAAGSURBVAMArQ8+KQFIbpoAAAAASUVORK5CYII=',\n      name: '< 5%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVklEQVR4AeyUsREAIAgDo3u6hWO4hYNqpKMl0sERCu7I5b6g43OlGh6GVQWXcJ+JqBjG2hnaRhxlKALkeTEkBLGLoQiQ57kMR1uIiuEa5f7hWyh6frgAAAD//2eKdqQAAAAGSURBVAMAvbc+KZoclq0AAAAASUVORK5CYII=',\n      name: '5 - 10%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVUlEQVR4AeyUsREAIAgDo2O4k9O6k2topKMl0sERCu7I5b6g43OlGh6GVQWXcG4gKoaxdoa2EUcZigB5XgwJQexiKALkeS7DNYCoGK5R7h++haLnhwsAAP//tN5HGwAAAAZJREFUAwCgKi8pnn0RXAAAAABJRU5ErkJggg==',\n      name: '10 - 15%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVUlEQVR4AeyUsREAIAgDo0u5iiO6ilNppKMl0sERCu7I5b6g43OlGh6GVQWXcCwgKoaxdoa2EUcZigB5XgwJQexiKALkeS7DPYGoGK5R7h++haLnhwsAAP//NVz9FwAAAAZJREFUAwBCvS8pGlc2mgAAAABJRU5ErkJggg==',\n      name: '15 - 25%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVUlEQVR4AeyUsREAIAgDo7M4omM4ortopKMl0sERCu7I5b6g43OlGh6GVQWXcEwgKoaxdoa2EUcZigB5XgwJQexiKALkeS7DvYCoGK5R7h++haLnhwsAAP//mZ5kWwAAAAZJREFUAwCC+i8pGc9D2QAAAABJRU5ErkJggg==',\n      name: '> 25%',\n      isVisible: true,\n    },\n  ];\n\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_FISHERIES_ICON_LIST: TypeLegendItem[] = [\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVklEQVR4AeyUsREAIAgDowM5hIM7hAtppKMl0sERCu7I5b6g43OlGh6GVQWXcO2DqBjG2hnaRhxlKALkeTEkBLGLoQiQ57kM52iIiuEa5f7hWyh6frgAAAD//4SjC48AAAAGSURBVAMAZd4+KT7693QAAAAASUVORK5CYII=',\n      name: '< 5%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAVklEQVR4AeyUsREAIAgDo/u5jWO4jQNqpKMl0sERCu7I5b6g43OlGh6GVQWXcO6DqBjG2hnaRhxlKALkeTEkBLGLoQiQ57kM12iIiuEa5f7hWyh6frgAAAD//4wP81gAAAAGSURBVAMAMRI+KeIgAKUAAAAASUVORK5CYII=',\n      name: '5 - 10%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAU0lEQVR4AeyUQQoAIQwDx/3wvsUXa+qt10ZvLQ1CISHMwY/L8zRwqawrcsNfeVWpTWwOjIupDjQByt4MBcHcZmgClP0xwzmgKpCZ9B8OOMfqS8wGAAD//5UU6aYAAAAGSURBVAMA62UvKamuBJ0AAAAASUVORK5CYII=',\n      name: '10 - 15%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAUklEQVR4AeyQsQ0AIQwD738/ekakZ0BwOmgxdIlyTaRY1v1cnqeBQ2Vd2BuWBqeoTeweGBeTDDQF6j0dSoK56dAUqPfHDnuFU+BDszaMg4PiYAIAAP//GwRoOAAAAAZJREFUAwBDTS8pFy8iLwAAAABJRU5ErkJggg==',\n      name: '15 - 25%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAU0lEQVR4AeyQsQ0AIQwD738WRmQMRmQXcDpoMXSJck2kWNb9XJ6ngUNlXdgblgqnqE3sHhgXkww0Beo9HUqCuenQFKj3xw57g1PgQ7M2jIOD4mACAAD//2VjptAAAAAGSURBVAMAZPovKerbXT0AAAAASUVORK5CYII=',\n      name: '> 25%',\n      isVisible: true,\n    },\n  ];\n\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_AGRICULTURE_ICON_LIST: TypeLegendItem[] = [\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAUklEQVR4AeyUMQ4AIAgDi0/z4X4NKxsrlQ1CGUhomhtY+Fyths6wqpASuh9UxTDRyTA24hhDESDPhyEhiD0MRYA872VotlEVwxmV/uFbKHp+uAAAAP//EjPmNgAAAAZJREFUAwDqLz4pP8ZI/gAAAABJRU5ErkJggg==',\n      name: '< 5%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAUklEQVR4AeyUMQ4AIAgDi2/2Gf4ZKxsrlQ1CGUhomhtY+Fyths6wqpASum9UxTDRyTA24hhDESDPhyEhiD0MRYA872VodlAVwxmV/uFbKHp+uAAAAP//GCSxLQAAAAZJREFUAwBU2T4pcyJ+NQAAAABJRU5ErkJggg==',\n      name: '5 - 10%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAU0lEQVR4AeyUMQ4AIAgDq8/w/2/jG1rYWKlsEMpAQtPcwMbnajW8DKsKKaEZUBXDRCfD2IhjDEWAPB+GhCD2MBQB8ryX4TlAVQy3qPQPfaHI/fAAAAD//4mmM+8AAAAGSURBVAMALvgvKR32MQoAAAAASUVORK5CYII=',\n      name: '10 - 15%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAUklEQVR4AeyUMQ4AIAgDq6/0ifxSCxsrlQ1CGUhomhvY+FythpdhVSElNAOqYpjoZBgbcYyhCJDnw5AQxB6GIkCe9zI8B6iK4RaV/qEvFLkfHgAAAP//42VpGwAAAAZJREFUAwCxLy8pcBPjTQAAAABJRU5ErkJggg==',\n      name: '15 - 25%',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Point',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAUklEQVR4AeyUMQ4AIAgDq2/2GfxZCxsrlQ1CGUhomhvY+FythpdhVSElPAeoimGik2FsxDGGIkCeD0NCEHsYigB53svQDKiK4RaV/qEvFLkfHgAAAP//CIEZRgAAAAZJREFUAwDDlC8peC6aqwAAAABJRU5ErkJggg==',\n      name: '> 25%',\n      isVisible: true,\n    },\n  ];\n\n  static readonly ESRI_DYNAMIC_LABOUR_FORCE_CANECUMENE_ICON_LIST: TypeLegendItem[] = [\n    {\n      geometryType: 'Polygon',\n      icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAADpElEQVR4Aeyaa0vzQBCFZ+Pl//8bRURRUBQUUUFBsdBilXqp9Vbv3XefeZmwqUKR9JItSoazM5Nkz9mTNB/crFar+Xq97huNhm82m/7i4sK3Wi1/dXXlb29vfbvd9p1Oxz88PPjn52ff7Xb96+urf39/95+fn/7r68tX4S8LJKTX60mMgZzmID2L/py6XScT/ssgEwdkIWdIjzxGxhbxeZPUUhASHhV5enqS8AhpPD4+KobHShiDcdzf3ws5SHQ6Hc2pjTLu7u6EBYwX7puQubk5mZ+fF3B2dlaccxq4wsWIDe+HhPdEXl5eVKiJRAyTjDrCuysfHx+xDikIgahz/4k7V20sqAiJCmG1eebBUEvy0F8tnEAIkaSKQDpDBE4gAgy1JI/cEUQgKkkVgXTuCCIQE2pJHuqIPVaISVJFIK2OIAQRU+NI0kJwI47gUpKHfhD/hFTIu+lyhJecxwus0CL/iop+R/jpRQjxq6srdLJ+R3ACEWAJbhO9NHcEETgzUTYlJs8dQQRiStxropeqI/ZYgRNlU2JydQQBf46UWMVhXpp/EHEEZ4Z583HeKxfCiz4VQhBBjHMVhzlX7ggicGWYNx/nvVQIAhBCjHPyMnP1c9XviL3o/c0yE436Wlt8m0e/I1YErVF1ZNHhC8I1d4QizlBMIRBAwBvMHUEExRREwBHyhPFWRyggAuSkFML4GqojCDBlKYiAI5xNBONkHYE8iw8S+h1hYEXUphBwLjhCgbBiCiLgCGdbfMa5IySI4aQKxEAKcCXgTRSEUBh4h4qcgIhvjlBEBFERngNpIMJ4g/qrRRERxMA7VOQEyMPbUL8jJIgAK8JzIA3ja2JyRxBBk3/EpxDGF0RM7ggJuxqWlpZkYWFBFhcXhfHy8rKsrKzI6uqqrK2tyfr6umxsbMjm5qZsbW3J9va27OzsyO7uruzt7cn+/r4cHBzI4eGhHB0dyfHxsZycnMjp6amcnZ1JrVaTer0ujUZDzs/PpdlsyuXlpbRaLbm+vpabmxtpt9vC7gm2gbCrotvt6i6Lt7c3YdeFc05mZmZ0MxC8EaOO4AQJRcTgCBgHPYJzY7TrqFtQk/D3EzrndOdRaOvhXHGHRZZlQkDUOaeEnXNaszq9eC7G6ggDyDGxITVyMA765CB9Q2rkYBz0yUH6htTIwTjoW06fHKRmyJggp8+44AgFaxpSi4M6eYzcjBykFwd18hg5jxykFwf1/pzzqINxj5w6tX8AAAD//9pUnF4AAAAGSURBVAMAL7U+sAcCQAwAAAAASUVORK5CYII=',\n      name: '',\n      isVisible: true,\n    },\n  ];\n\n  /** CESI */\n  static readonly CESI_MAP_SERVER: string = 'https://maps-cartes.ec.gc.ca/arcgis/rest/services/CESI/MapServer';\n  static readonly CESI_GROUP_0_LAYER_NAME: string = 'Water quantity';\n\n  /** Toronto */\n  static readonly FEATURE_SERVER_TORONTO_NEIGHBOURHOODS_URL: string =\n    'https://services.arcgis.com/V6ZHFr6zdgNZuVG0/ArcGIS/rest/services/Toronto_Neighbourhoods/FeatureServer';\n  static readonly FEATURE_SERVER_TORONTO_NEIGHBOURHOODS_LAYER_NAME: string = 'Toronto_Neighbourhoods';\n\n  /** Elevation */\n  static readonly IMAGE_SERVER_ELEVATION_URL: string =\n    'https://ws.geoservices.lrc.gov.on.ca/arcgis5/rest/services/Elevation/FRI_CHM_SPL/ImageServer';\n  static readonly IMAGE_SERVER_ELEVATION_LAYER_ID: string = 'FRI_CHM_SPL';\n\n  /** USA Image Server */\n  static readonly IMAGE_SERVER_USA_URL: string = 'https://sampleserver6.arcgisonline.com/ArcGIS/rest/services/USA/MapServer';\n  static readonly IMAGE_SERVER_USA_LAYER_ID_CITIES: string = '0';\n  static readonly IMAGE_SERVER_USA_LAYER_ID_ROADS: string = '1';\n\n  /** OWS Mundialis */\n  static readonly OWS_MUNDIALIS: string = 'https://ows.mundialis.de/services/service'; // NOTE: Doesn't support EPSG:3978\n  static readonly OWS_MUNDIALIS_LAYER_ID: string = 'Dark';\n  static readonly OWS_MUNDIALIS_ICON_IMAGE: string =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAMklEQVR4AezSIQ4AAAgCQMeL+P/ntBuRJm5GCDdAsp2PMl8K76AxjKEgkNkIaCvy0HAAAAD//5nQepcAAAAGSURBVAMA0jAfVcgPVAkAAAAASUVORK5CYII=';\n\n  /** Datacube MSI */\n  static readonly DATACUBE_MSI: string = 'https://datacube.services.geo.ca/ows/msi';\n  static readonly DATACUBE_MSI_LAYER_NAME_MSI: string = 'msi';\n  static readonly DATACUBE_MSI_LAYER_NAME_MSI_OR_MORE: string = 'msi-94-or-more';\n  static readonly DATACUBE_MSI_LAYERS_MSI_GET_CAP: string =\n    GVAbstractTester.DATACUBE_MSI + '?request=GetCapabilities&amp;service=wms&amp;version=1.3.0&amp;layers=msi';\n  static readonly DATACUBE_MSI_ICON_IMAGE: string =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAAXCAYAAACiRWVyAAAQAElEQVR4AeyZB5CWRQ/H8z/wUFAEYXTsomNvYG/oITZE9AAF7GDFz3Y27L137F2xgkqVrogi0mzgKNil2LCMgNLh7r788ty+vKif1Lnxc+4dcrubTbLZbDbJPhSUV/2qLPAvskCB+c/343/NaFcGIAw5tFVQZYHKtEA4tKRYU5JJKw4Ik0RTBVUWqFQLhEOnaFpWXm4L58y28tkzrWwZAZ4FzosMdpBk0q+CKgtUlgXCodNiC+fMsvv7D7VOA0balQNG2BVLCdB2ctpHBg61snlzk7iqtsoClW6BxRy6WlmZTSpfxYZXq2ejq9VxqLtUMMZp4ZlSVmjVy0srfROVtWDKOmVuJ4B1E47+yoAkj7a0tDTeNchlTLv88M/gTPvAfgBaJRz9FYXFHNq87K2hclvdFlqt8jKraaVLCWVOX2qFzluOkCVolTbAhhYsWGDAwoUL//GHJ7mBfG8FBQUGeHexf+yBPYFMe6S/LCApZ4dq1aoFK7KkDI+tcPSY8D+sx7rezfHRB+BLLXz5Y/ArCvny6APITC39P4L0ZxtKGe6PtMszXtyhy82NIitzpyxzaeXeLg1AWxa0zrSEf2xWkq/jkr1dZZVVrHr16gFStjEpa5cgqtKn0Z1Ff/31V/vpp5/oLgbsIzm6tHx7YA1J9uOPP1qnTp1s1qxZJmX2YjHsxRrQMZYUtkt92gRSpoMkg09aNE40K9JKi+RJCj2RJ4nmLyHp/csvvxgAETiA/orC4g69otKWgl+SEVUk2WeffWYXXnihnXrqqXbPPffY/PnzQwIRBxqiSn40YtOMwUPDGAZw0NOn/V9ziZ4WHuTQMk688INjjj54gP68efPo2oMPPmgXX3xx9FkrOv7nkksusffee897ZshgLl8O64AHR8sY4vwWPLhXXnnFPvzwQ1t9dc+Xnr0k2fTp0+2MM86w1157Lec8H3zwgT300EOwxJrIYl0gyeJynH322TbN+SFkDh1Sy97A0yY8csDRJmAMDXwAeHCc22+//RaZlnlwaY4WPZLcZMN7773Xbr/9dkhD70ST+JmAl3XgzcfTB8ccNImWttIdGgWIML///rsdc8wxETkOPuQQdLG0WVItNEQV+vAkAE8kBBIOGimLCswzRiDzjAH6UkYjyaBBPnNW8ZMUpQQ45iRFJkm8rGn+Y96bP/1bb731rFatWjk89IC0SA68yGZ9CJNsWsYJP2DAAOvozgsuzX399df28MMPW8eOHW3GjBlM2dixY61nz57R56ChZU1AyvaLzI022siqFWTHzTjpAB06wStlkRwccgApkyEpF4iYB+BhYfQ67rjj6Ib9Eh8tSNaDPgG4tCZ9SQYNOknK2Rz+xAM9Y9akDy084AAp48t2aJX3QyFW+/jjjw2nvuiii+yoI480Isgaa6wRUWTcuHH25ZdfRuSBTqpQ1g/k/ffft0ceecQGDRqUM/Bbb72VKwF++OEHGz58OEtEFBs9erRNnDgx+mltbvfQoUND/pgxY2IOBjIGhzNs2DB78sknIyJKinkcqEuXLvbOO+/EWBIsARiUTrNmzWydddahG7r17tPHnnjiCUOmpOBDt/vvv9/y14VfyvYoyb744ovgKSoqClmSosVerVq1sgYNGthtt90WOA62Ro0a0eeAoXnxpZfsscceM2zBRJ06deyggw6yRPfJJ5/Yo48+al27drVnn33Wvvvuu3BE1uXC9PHsQNSVFumE7XCkSZMmBe/L3bsbERL8iy++aJwTMsePHx/7BM/akuzdd98Nnq5du9kLL7wAOhw40WDbXr17B81XX30V/JIicnOxkfvpp58GHh1Yg6zE3B9tV+kOjULsaLfddrN1113X9t1338UOd6o75IEHHmgXXHBBRJ8mTZqEQeC788477fjjj7fJkyfbVVddZSeeeCKi4vA4QAbdunWLw5s5cyZDO//88+3zzz+PPgdAB2cl5X377bfWtm1b696jB2jr1auX7bzzzsYBPf/883b44YcHfu7cuda8eXPr4w763HPP2U033ZRzDgwaRP7n3HPPtSGvv+49szZt2tijfvFw3BtvvDFwtHfffbeRnktKSqyHR1ZJ4fzISQfM+nvssYfVdUdEZylzaGgYYwccb/bs2VZYWCNXquEYJ510ko14++1wMGxFuQEf+lOyfPTRR1ZcXGw4BeXezTffbDU9q7zxxht28sknGzSPubNfffXVxg9eygHsT+Bo37591L7Pux3gl2TffPNNBCdkp7oYHknGpT7hhBNswoQJXlqeYk899RRiDblStq9rrrnG+volonw69NBDDaeGiPKKi4tc9IEHxz/zzDPDhp07dzZsCi22Y77SHVpSbIZo0q9f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';\n\n  static readonly DATACUBE_RING_FIRE: string = 'https://datacube.services.geo.ca/web/aerial.xml';\n  static readonly DATACUBE_RING_FIRE_LAYER_ID_HALIFAX: string = 'halifax';\n  static readonly DATACUBE_RING_FIRE_HALIFAX_ICON_IMAGE: string =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV4AAABICAYAAAC+050oAAAOlUlEQVR4AeydCawd0x/Hf7+GaEgpQgghtCGEiLVNLalIixBiKSpEY0lLQyqkao99iYYQW4Q8IWgJIXaxpA2xLyEEVUsIIfYQQvr+7zPzzr9nTufed/vezH33Xt/mnfs7y2/OmfuZM7+eOzP3e8f0658IiIAIiEBbCYwx/RMBERABEWgrAQXetuLWYCIgAh1LoI07psDbRtgaSgREQAQgoMALBSUREAERaCMBBd42wtZQIiACq0ugN/0VeHvzuOpdiYAIdDABBd4OPjjaNREQgd4koMDbm8dV70oE6iSgvkdIQIF3hAC1uQiIgAisLgEF3tUlJn8REAERGCEBBd4RAtTmItApBLQf3UNAgbd7jpX2VAREoEcIKPD2yIHU2xABEegeAgq83XOstKfdSED7LAIlBBR4S6CoSgREQATqJKDAWyfdgb6feOIJO+qoo5TEoCPnAPNzYJrqr80EFHhrBn733Xfbgw8+qNRRDHQ8wpxkftZ8Cqj7EgIKvCVQ6qhydxszZoytscYatuaaa9paa61lY8eOtbXXXtvWWWcdGzdunK277ro2fvx422CDDWzDDTe0jTbayDbeeGPbZJNNbNNNN7XNNtvMNt98c9tiiy1syy23tK222somTJhgEydOtG222ca23XZb22677Wz77be3HXbYwXbccUfbaaedbOedd7ZddtnFdtttN9t9991t0qRJNnnyZJsyZYrtueeetvfee9s+++xjU6dOtX333df2228/mzZtmk2fPt0OOOAAO/DAA+2ggw6ygw8+2A455BA79NBD7bDDDrPDDz/cjjzyyGwld/TRR9vMmTPt2GOPteOOO86OP/54O+GEE2zWrFl24okn2kknnWSnnHKKzZ492+bMmWOnnXaazZ07104//XQ744wzbN68eXbmmWfaWWedZWeffbbNnz/fFixYYOeee66df/75dsEFF9hFF11kF198sV1yySV26aWX2uWXX25XXHGFXXXVVXb11Vfbtddea9ddd50tXLjQrr/+ervhhhvsxhtvtJtuusluvvlmu+WWW+y2226z22+/3e644w6788477a677rK+vj4jAN1zzz1277332n333Wf333+/LVq0KPsP86GHHrKHH37YHnnkEXv00Uftscces8cff9xY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';\n  static readonly DATACUBE_RING_FIRE_LAYER_ID_VICTORIA: string = 'victoria';\n\n  /** Geomet */\n  static readonly GEOMET_URL: string = 'https://geo.weather.gc.ca/geomet';\n  static readonly GEOMET_URL_CURRENT_COND_LAYER_ID: string = 'ec-msc:CURRENT_CONDITIONS';\n\n  // GV: Can't add the icon property here, because it's a randomly generated color depending on the layers processed on the map\n  static readonly GEOMET_ICON_LIST: Partial<TypeLegendItem>[] = [\n    {\n      geometryType: 'Point',\n      name: 'Current Conditions',\n      isVisible: true,\n    },\n  ];\n\n  /** Geojson */\n  static readonly GEOJSON_METADATA_META: string = './datasets/geojson/metadata.meta';\n  static readonly GEOJSON_METADATA_META_FILE: string = 'metadata.meta';\n  static readonly GEOJSON_POLYGONS: string = 'polygons.json';\n  static readonly GEOJSON_POLYGONS_ICON_LIST: Partial<TypeLegendItem>[] = [\n    {\n      geometryType: 'Polygon',\n      icon: 'data:image/png;base64,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',\n      name: 'Quebec',\n      isVisible: true,\n    },\n    {\n      geometryType: 'Polygon',\n      icon: 'data:image/png;base64,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',\n      name: 'Alberta',\n      isVisible: false,\n    },\n    {\n      geometryType: 'Polygon',\n      icon: 'data:image/png;base64,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',\n      name: 'Other provinces',\n      isVisible: true,\n    },\n  ];\n\n  static readonly CSV_STATION_LIST: string = './datasets/csv-files/Station_List_Minus_HQ-MELCC.csv';\n  static readonly CSV_STATION_LIST_FILE: string = 'Station_List_Minus_HQ-MELCC.csv';\n\n  // GV: Can't add the icon property here, because it's a randomly generated color depending on the layers processed on the map\n  static readonly CSV_STATION_ICON_LIST: Partial<TypeLegendItem>[] = [\n    {\n      geometryType: 'Point',\n      name: 'Station List CSV',\n      isVisible: true,\n    },\n  ];\n\n  static readonly PYGEOAPI_B6RYUVAKK5: string = 'https://b6ryuvakk5.execute-api.us-east-1.amazonaws.com/dev';\n  static readonly PYGEOAPI_B6RYUVAKK5_LAKES: string = 'lakes';\n\n  // GV: Can't add the icon property here, because it's a randomly generated color depending on the layers processed on the map\n  static readonly PYGEOAPI_B6RYUVAKK5_LAKES_ICON_LIST: Partial<TypeLegendItem>[] = [\n    {\n      geometryType: 'Polygon',\n      name: 'lakes of the world, public domain',\n      isVisible: true,\n    },\n  ];\n\n  static readonly WKB_SOUTH_AFRICA: string =\n    '0103000000010000000500000054E3A59BC4602540643BDF4F8D1739C05C8FC2F5284C4140EC51B81E852B34C0D578E926316843406F1283C0CAD141C01B2FDD2406012B40A4703D0AD79343C054E3A59BC4602540643BDF4F8D1739C0';\n\n  static readonly KML_TORNADO: string = './datasets/kml-files/CanadianNationalTornadoDatabase_1980-2009.kml';\n  static readonly KML_TORNADO_FILE: string = 'CanadianNationalTornadoDatabase_1980-2009.kml';\n\n  static readonly GEOTIFF_VEGETATION: string =\n    'https://datacube-prod-data-public.s3.ca-central-1.amazonaws.com/store/eo4ce/vegetation/vegetation-2020-fCOVER.tif';\n  static readonly GEOTIFF_VEGETATION_FILE: string = 'vegetation-2020-fCOVER.tif';\n\n  static readonly INITIAL_SETTINGS_CONFIG = {\n    geoviewLayerId: 'geojsonLYR1',\n    geoviewLayerName: 'GeoJSON Sample',\n    metadataAccessPath: './datasets/geojson/metadata.meta',\n    geoviewLayerType: 'GeoJSON' as TypeGeoviewLayerType,\n    initialSettings: {\n      controls: {\n        highlight: false,\n        zoom: false,\n      },\n    },\n    listOfLayerEntryConfig: [\n      {\n        entryType: 'group',\n        layerId: 'point-feature-group',\n        layerName: 'Points & Icons',\n        initialSettings: {\n          controls: {\n            remove: false,\n          },\n        },\n        listOfLayerEntryConfig: [\n          {\n            layerId: 'points_1.json',\n            layerName: 'Points 1',\n            initialSettings: {\n              controls: {\n                highlight: true,\n              },\n            },\n          },\n        ],\n      },\n    ],\n  };\n\n  /** The API for the tests */\n  #api: API;\n\n  /** The Map Viewer for the tests */\n  #mapViewer: MapViewer;\n\n  /**\n   * Constructs a GeoView specific tester.\n   * @param {API} api - The api.\n   * @param {string} mapViewer - The map viewer.\n   */\n  constructor(api: API, mapViewer: MapViewer) {\n    super();\n\n    // Keep the attributes\n    this.#api = api;\n    this.#mapViewer = mapViewer;\n  }\n\n  /**\n   * Gets the shared api.\n   */\n  getApi(): API {\n    return this.#api;\n  }\n\n  /**\n   * Gets the MapViewer.\n   */\n  getMapViewer(): MapViewer {\n    return this.#mapViewer;\n  }\n\n  /**\n   * Gets the LayerApi.\n   */\n  getLayerApi(): LayerApi {\n    return this.getMapViewer().layer;\n  }\n\n  /**\n   * Gets the Map Id.\n   */\n  getMapId(): string {\n    return this.getMapViewer().mapId;\n  }\n}\n"],"names":["LayerTester","_GVAbstractTester","_classCallCheck","arguments","_inherits","_createClass","key","value","_this","gvLayerId","generateId","layerUrl","GVAbstractTester","HISTORICAL_FLOOD_URL_MAP_SERVER","layerPath","HISTORICAL_FLOOD_URL_LAYER_ID","this","test","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","gvConfig","_context","prev","next","addStep","EsriDynamic","createGeoviewLayerConfig","id","helperStepAddLayerOnMap","getMapViewer","abrupt","helperStepCheckLayerAtLayerPath","stop","_x","apply","helperStepAssertLayerExists","undefined","HISTORICAL_FLOOD_ICON_LIST","helperFinalizeStepRemoveLayerAndAssert","_this2","ESRI_DYNAMIC_LABOUR_FORCE_UUID","layerPathGroup","ESRI_DYNAMIC_LABOUR_FORCE_GROUP","layerPathPetroleum","ESRI_DYNAMIC_LABOUR_FORCE_PETROLEUM","layerPathMinerals","ESRI_DYNAMIC_LABOUR_FORCE_MINERALS","layerPathForestry","ESRI_DYNAMIC_LABOUR_FORCE_FORESTRY","layerPathFisheries","ESRI_DYNAMIC_LABOUR_FORCE_FISHERIES","layerPathAgriculture","ESRI_DYNAMIC_LABOUR_FORCE_AGRICULTURE","layerPathCanecumene","ESRI_DYNAMIC_LABOUR_FORCE_CANECUMENE","_ref2","_callee2","_context2","helperStepAddLayerOnMapFromUUID","_x2","ESRI_DYNAMIC_LABOUR_FORCE_PETROLEUM_ICON_LIST","ESRI_DYNAMIC_LABOUR_FORCE_MINERALS_ICON_LIST","ESRI_DYNAMIC_LABOUR_FORCE_FORESTRY_ICON_LIST","ESRI_DYNAMIC_LABOUR_FORCE_FISHERIES_ICON_LIST","ESRI_DYNAMIC_LABOUR_FORCE_AGRICULTURE_ICON_LIST","ESRI_DYNAMIC_LABOUR_FORCE_CANECUMENE_ICON_LIST","_this3","BAD_URL","testError","LayerServiceMetadataUnableToFetchError","_ref3","_callee3","_context3","_x3","helperFinalizeStepRemoveLayerConfigAndAssert","_this4","FOREST_INDUSTRY_MAP_SERVER","FOREST_INDUSTRY_LAYER_ID","_ref4","_callee4","_context4","EsriFeature","_x4","FOREST_INDUSTRY_ICON_LIST","_this5","_ref5","_callee5","_context5","_x5","_this6","IMAGE_SERVER_ELEVATION_URL","IMAGE_SERVER_ELEVATION_LAYER_ID","_ref6","_callee6","_context6","EsriImage","createGeoviewLayerConfigSimple","_x6","_this7","IMAGE_SERVER_USA_URL","layerPathCities","IMAGE_SERVER_USA_LAYER_ID_CITIES","layerPathRoads","IMAGE_SERVER_USA_LAYER_ID_ROADS","_ref7","_callee7","_context7","layerName","_x7","_this8","_ref8","_callee8","_context8","_x8","_this9","OWS_MUNDIALIS","OWS_MUNDIALIS_LAYER_ID","_ref9","_callee9","_context9","WMS","_x9","OWS_MUNDIALIS_ICON_IMAGE","_this0","DATACUBE_MSI","DATACUBE_MSI_LAYER_NAME_MSI_OR_MORE","_ref0","_callee0","_context0","_x0","DATACUBE_MSI_ICON_IMAGE","_this1","DATACUBE_RING_FIRE","DATACUBE_RING_FIRE_LAYER_ID_HALIFAX","_ref1","_callee1","_context1","_x1","DATACUBE_RING_FIRE_HALIFAX_ICON_IMAGE","_this10","_ref10","_callee10","_context10","_x10","_this11","GEOMET_URL","GEOMET_URL_CURRENT_COND_LAYER_ID","_ref11","_callee11","_context11","WFS","_x11","GEOMET_ICON_LIST","_this12","_ref12","_callee12","_context12","_x12","_this13","FAKE_URL_ALWAYS_RETURNING_RESPONSE_INSTEAD_OF_NETWORK_ERROR","LayerNoCapabilitiesError","_ref13","_callee13","_context13","_x13","_this14","GEOJSON_METADATA_META","GEOJSON_POLYGONS","_ref14","_callee14","_context14","GeoJSON","_x14","GEOJSON_POLYGONS_ICON_LIST","_this15","LayerStatusErrorError","_ref15","_callee15","_context15","_x15","_this16","GEOTIFF_VEGETATION","GEOTIFF_VEGETATION_FILE","_ref16","_callee16","_context16","GeoTIFF","_x16","_this17","_ref17","_callee17","_context17","_x17","_this18","CSV_STATION_LIST","CSV_STATION_LIST_FILE","_ref18","_callee18","_context18","CSV","_x18","CSV_STATION_ICON_LIST","_this19","_ref19","_callee19","_context19","_x19","_this20","PYGEOAPI_B6RYUVAKK5","PYGEOAPI_B6RYUVAKK5_LAKES","gvLayerName","_ref20","_callee20","_context20","OgcFeature","_x20","PYGEOAPI_B6RYUVAKK5_LAKES_ICON_LIST","_this21","_ref21","_callee21","_context21","_x21","_this22","WKB_SOUTH_AFRICA","_ref22","_callee22","_context22","WKB","_x22","_this23","_ref23","_callee23","_context23","_x23","_this24","KML_TORNADO","KML_TORNADO_FILE","_ref24","_callee24","_context24","KML","_x24","_this25","_ref25","_callee25","_context25","_x25","_this26","config","INITIAL_SETTINGS_CONFIG","expectedResults","groupHighlight","groupRemove","childHighlight","_ref26","_callee26","_context26","createMapConfigFromMapState","_x26","result","_result$map","_layer$initialSetting","_AbstractBaseLayerEnt","_layer$listOfLayerEnt","_AbstractBaseLayerEnt2","_layer$listOfLayerEnt2","layer","map","listOfGeoviewLayerConfig","find","geoviewLayer","geoviewLayerId","Test","assertIsEqual","initialSettings","controls","highlight","AbstractBaseLayerEntryConfig","getClassOrTypeInitialSettings","listOfLayerEntryConfig","remove","_helperStepAddLayerOnMap","_callee27","mapViewer","_context27","addGeoviewLayer","promiseLayer","_x27","_x28","_x29","_helperStepAddLayerOnMapFromUUID","_callee28","uuid","_context28","addGeoviewLayerByGeoCoreUUID","sent","_x30","_x31","_x32","_helperStepCheckLayerAtLayerPath","_callee29","timeoutOnLoad","waitStyle","_args29","_context29","length","concat","getGeoviewLayer","waitLoadedOnce","waitLegendFetched","waitStyleApplied","_x33","_x34","_x35","checkIconImage","checkIconsList","legendLayer","LegendEventProcessor","getLegendLayerInfo","mapId","assertIsDefined","helperStepAssertStyleApplied","assertIsArrayLengthMinimal","icons","firstIcon","hasStyleIcon","iconImage","iconList","assertIsArrayEqualJsons","assertArrayIncludes","getGeoviewLayerPaths","removeLayerUsingPath","legendLayers","getLegendLayers","assertArrayExcludes","getLayerEntryConfigIfExists","assertIsUndefined","TestError","_Error","message","_callSuper","name","Error","captureStackTrace","Object","setPrototypeOf","prototype","_wrapNativeSuper","TestSuiteRunningError","_Error2","TestSuiteCannotExecuteError","_Error3","AssertionError","_Error4","actual","expected","AssertionValueError","_AssertionError","AssertionValueDifferentError","_AssertionError2","AssertionValueNotAnArrayError","_AssertionError3","_typeof","AssertionManualFailError","_AssertionError4","AssertionUndefinedError","_AssertionError5","propertyPath","AssertionDefinedError","_AssertionError6","actualValue","AssertionWrongInstanceError","_AssertionError7","actualObject","expectedClassType","constructor","AssertionNoErrorThrownError","_AssertionError8","AssertionWrongErrorInstanceError","_AssertionError9","actualError","AssertionArrayLengthError","_AssertionError0","actualLength","expectedLength","AssertionArrayLengthMinimalError","_AssertionError1","AssertionArrayIncludingError","_AssertionError10","array","expectedValue","AssertionArrayExcludingError","_AssertionError11","AssertionArraysNotEqualError","_AssertionError12","array1","array2","index","AssertionJSONObjectError","_AssertionError13","mismatchesPaths","mismatches","path","join","_geochartTester","WeakMap","GVTestSuiteGeochart","_GVAbstractTestSuite","api","_classPrivateFieldInitSpec","GeochartTester","addTester","_classPrivateFieldGet","_this$getMapViewer$ma","mapFeaturesConfig","footerBar","tabs","core","includes","Promise","resolve","_onLaunchTestSuite","pGeochartPolygons","pGeochartAirborne","testGeochartOpenForLayerMapClick","MANITOBA_CENTER_LONLAT","testAddGeocoreLayerUUIDForGeochartAirborne","all","GVAbstractTestSuite","_MapConfigTester_brand","WeakSet","MapConfigTester","_len","args","Array","_key","_classPrivateMethodInitSpec","getMapId","footerBarConfig","selectedTab","selectedDataTableLayerPath","_assertClassBrand","_helperCreateMapConfig","call","activeTab","UIEventProcessor","getActiveFooterBarTab","selectedLayerPath","DataTableEventProcessor","getSingleDataTableState","allFeaturesData","assertIsArray","features","assertFail","appBarConfig","getActiveAppBarTab","tabId","footerBarTabs","getFooterBarComponents","assertIsArrayEqual","appBarTabs","getAppBarComponents","emptyTabsConfig","assertIsArrayLengthEqual","navBarComponents","getNavBarComponents","initialViewConfig","layerIds","newMapViewer","mapExtent","layerExtent","mapExtentLayer","getView","calculateExtent","getLayerBounds","delay","Math","round","abs","overlayObjectsConfig","pointMarkers","cities","coordinate","color","opacity","pointsMMarkers","MapEventProcessor","getPointMarkers","ottawaMarker","marker","torontoMarker","viewSettingsConfig","minZoom","maxZoom","projection","view","zoomAt6","zoomAt4","zoomAt8","zoomAt10","setMapZoomLevel","getZoom","_helperCreateMapConfig2","overrides","baseConfig","_args10","interaction","viewSettings","initialView","zoomAndCenter","basemapOptions","basemapId","shaded","labeled","geoviewLayerName","metadataAccessPath","geoviewLayerType","layerId","components","corePackages","navBar","corePackagesConfig","suites","theme","appBar","isArray","forEach","_slicedToArray","_setValueByPath","getApi","deleteMapViewer","createMapFromConfig","JSON","stringify","waitForLayersLoaded","obj","keys","split","current","dangerousKeys","some","i","hasOwnProperty","finalKey","_MapConfigTester","_onTestStartedHandlers","_onTestUpdatedHandlers","_onSuccessHandlers","_onFailureHandlers","_onDoneHandlers","_tests","_testsRunning","_testsDone","_AbstractTester_brand","AbstractTester","filter","getStatus","getTestsDone","getTestsDoneSuccess","getTestsTotal","getTestsDoneAll","every","_classPrivateFieldSet","callback","callbackAssert","callbackFinalize","_testPerformTest","errorClass","_testPerformTestError","onStepChanged","_handleTestStepChanged","bind","logger","logDebug","getTitle","push","_addTestRunning","setStatus","_emitStarted","event","_emitStepChanged","_emitSuccess","error","duringFinalization","originalStatus","normalizedError","String","setError","_emitFailure","_moveTestFromRunningToDone","_emitDone","EventHelper","onEvent","offEvent","_testPerformTest2","_result","_t","_t2","onCreatingTest","onPerformingTest","setResult","onPerformingTestAssertions","onPerformingTestSuccess","onPerformingTestFailure","onPerformingTestFinalization","getResult","onPerformingTestDone","_testPerformTestError2","_result2","_t3","_t4","_t5","setType","formatError","assertIsErrorInstance","findIndex","t","splice","sender","onPerformingTestStepChanged","emitEvent","UITester","geoviewElement","guideContainer","anchorElements","foundTopAnchor","_anchor$textContent","anchor","setActiveFooterBarTab","AppEventProcessor","getGeoviewHTMLElement","querySelector","querySelectorAll","textContent","trim","_layerTester","GVTestSuiteLayer","pLayerEsriDynamicHistoFloods","testAddEsriDynamicHistoFloodEvents","pLayerEsriDynamicWithRasterLayersViaGeocore","testAddEsriDynamicWithRasterLayersViaGeocore","pLayerEsriDynamicBadUrl","testAddEsriDynamicBadUrl","pLayerEsriFeatureForestIndustry","testAddEsriFeatureForestIndustry","pLayerEsriFeatureBadUrl","testAddEsriFeatureBadUrl","pLayerEsriImageElevation","testAddEsriImageWithElevation","pLayerEsriImageBadUrl","testAddEsriImageBadUrl","pLayerWMSOWSMundialis","testAddWMSLayerWithOWSMundialis","pLayerWMSDatacubeOWSMSI","testAddWMSLayerWithDatacubeMSI","pLayerWMSDatacubeRingFireHalifax","testAddWMSLayerWithDatacubeRingOfFire","pLayerWMSBadUrl","testAddWMSBadUrl","pLayerWFSWithGeometCurrentConditions","testAddWFSLayerWithWithGeometCurrentConditions","pLayerWFSBadUrl","testAddWFSBadUrl","pLayerWFSOkayUrlNoCap","testAddWFSOkayUrlNoCap","pLayerGeoJSONWithPolygons","testAddGeoJSONWithMetadataPolygons","pLayerGeoJSonBadUrl","testAddGeoJSONBadUrl","pLayerCSVStationList","testAddCSVWithStationList","pLayerCSVBadUrl","testAddCSVWithBadUrl","pLayerOGCFeatureWithPygeoapi","testAddOGCFeatureWithPygeoapi","pLayerOGCFeatureBadUrl","testAddOGCFeatureWithBadUrl","pLayerWKBWithSouthAfrica","testAddWKBWithSouthAfrica","pLayerWKBBadUrl","testAddWKBWithBadUrl","pLayerKMLWithTornado","testAddKMLWithTornado","pLayerKMLBadUrl","testAddKMLWithBadUrl","pLayerGeoTIFFVegetation","testAddGeotiffLayerWithDatacubeVegetation","pLayerGeoTIFFBadUrl","testAddGeoTIFFWithBadUrl","pInitialSettingsCascade","testInitialSettingsCascade","_mapTester","GVTestSuiteMapVaria","MapTester","pmapState","pZoom","pProjection","pZoomToExtent","pZoomToCoordinate","pCreateAndSetBasemap","pNorthArrowRotationLCC","pZIndex","pFooterBarSelectTab","pAppBarSelectTab","pFooterBarCreateTab","pSetLanguage","pNonQueryableLayerNotInDetails","pLayerHoverableState","pDetailsLayerSelectionPersistence","testInitialMapState","testMapZoom","testSwitchProjectionAndExtent","testZoomToExtent","testZoomToCoordinate","testCreateAndSetBasemap","testNorthArrowRotationLCC","zoomToInitialExtent","testGeometryGroupZIndex","testFooterBarSelectTab","testAppBarSelectTab","testFooterBarCreateTab","testSetLanguage","testNonQueryableLayerNotInDetails","testLayerHoverableState","testDetailsLayerSelectionPersistence","_testers","_onTestersTestStartedHandlers","_onTestersTestUpdatedHandlers","_onTestersTestSuccessHandlers","_onTestersTestFailureHandlers","_AbstractTestSuite_brand","AbstractTestSuite","reduce","total","tester","getTestsRunning","getTestsDoneFailed","getTestsDoneAllSuccess","onStarted","_handleTesterTestStarted","onStepUpdated","_handleTesterTestStepUpdated","onSuccess","_handleTesterSuccess","onFailure","_handleTesterFailure","_launchTestSuite","onCanExecuteTestSuite","onLaunchTestSuite","resetTests","_emitTestStarted","_objectSpread","_emitTestUpdated","_api","_mapViewer","_AbstractTestSuite","_title","_type","_steps","_status","_error","_onStatusChangedHandlers","_onStepChangedHandlers","_Test_brand","title","type","status","_emitStatusChanged","steps","getSteps","_step","html","currentMajorHtml","nestedSteps","_iterator","_createForOfIteratorHelper","s","n","done","step","level","err","e","f","TestStep","roundToPrecision","equalResult","_checkValuesEqual","equal","expectedType","expectedMinimumLength","_array$length","_array$length2","_assertIsArrayEqualComparer","value1","value2","_unused","assertJsonObject","expectedObject","_jsonObjectIsAtLeast","ok","_roundToPrecision","precision","multiplier","pow","roundedActual","roundedExpected","comparer","basePath","currentPath","_step2","expectedItem","foundMatch","failedMismatches","_iterator2","actualItem","_toConsumableArray","_i","_Object$keys","childResult","_Test","_mapConfigTester","GVTestSuiteMapConfig","pDataTableInFooterBar","pDataTableInAppBar","pNoFooterBarAppBarDefaults","pEmptyFooterBarAppBar","pNoNavBarDefaults","pEmptyNavBarZoomRotate","pInitialViewLayerIds","pOverlayObjectsPointMarkers","pViewSettingsZoomConstraints","testDataTableSelectedTabFooterBar","testDataTableSelectedTabAppBar","testNoFooterBarAppBarConfigHasDefaults","testEmptyFooterBarAppBarTabsHasNoFooter","testNoNavBarHasDefaults","testEmptyNavBarHasZoomRotate","testInitialViewLayerIdsSetExtent","testOverlayObjectsPointMarkers","testViewSettingsZoomConstraints","lonlat","helperStepLayerWithGeochart","GeochartEventProcessor","getSingleGeochartState","testAddGeocoreLayerUUIDForGeochart","AIRBORNE_RADIOACTIVITY_UUID","AIRBORNE_RADIOACTIVITY_UUID_WITH_SUFFIX","AIRBORNE_RADIOACTIVITY_GROUP","QUEBEC_LONLAT","_defineProperty","layers","propertyValue","propertyDisplay","chart","query","url","queryOptions","whereClauses","field","prefix","valueFrom","suffix","orderByField","layerPathAdd","layerPathRemove","expectedGeochartChartsConfig","geochartsConfig","_helperStepLayerWithGeochart","featureInfoLayerSet","queryLayers","setSelectedGeochartLayerPath","_configTester","GVTestSuiteConfig","ConfigTester","pEsriDynamicHistoFlood","testEsriDynamicWithHistoricalFloodEvents","pEsriDynamicCESI","testEsriDynamicWithCESI","pEsriDynamicBadUrl","testEsriDynamicBadUrl","pEsriFeatureToronto","testEsriFeatureWithTorontoNeighbourhoods","pEsriFeatureHisto","testEsriFeatureWithHistoricalFloodEvents","pEsriFeatureForest","testEsriFeatureWithForestIndustry","pEsriFeatureBadUrl","testEsriFeatureBadUrl","pEsriImage","testEsriImageWithElevation","pEsriImageBadUrl","testEsriImageBadUrl","pWMSMundialis","testWMSLayerWithOWSMundialis","pWMSDatacubeMSI","testWMSLayerWithDatacubeMSI","pWMSBadUrl","testWMSBadUrl","pWFSCurrentConditions","testWFSLayerWithGeometCurrentConditions","pWFSBadUrl","testWFSBadUrl","pWFSOkayUrlNoCap","testWFSOkayUrlNoCap","pOGcFeature","testOGCFeatureWithPygeoapi","pOgcFeatureBadUrl","testOGCFeatureBadUrl","pGeoJson","testGeojsonWithMetadataMeta","pGeoJsonBadUrlSkip","testGeoJSONBadUrlExpectSkip","pGeoJsonBadUrlFail","testGeoJSONBadUrlExpectError","pCSV","testCSVWithStationList","pCSVBadUrlSkip","testCSVBadUrlExpectSkip","pWKB","testWKBWithSouthAfrica","pWKBBadUrlFail","testWKBBadUrlExpectFail","pKMLTornado","testKMLWithTornado","pKMLSkip","testKMLBadUrlExpectSkip","testGeoTIFFWithVegetation","pGeoTIFFSkip","testGeoTIFFBadUrlExpectSkip","pGeocoreAirborne","testStandaloneGeocoreWithAirborne","pSettingsCascadeToSublayers","testSettingsCascadeToSublayers","_suitesCompleted","_onSuiteTestersTestStartedHandlers","_onSuiteTestersTestUpdatedHandlers","_onSuiteTestersTestSuccessHandlers","_onSuiteTestersTestFailureHandlers","_TestSuitePlugin_brand","TestSuitePlugin","_AbstractPlugin","getConfig","PluginConfigNotFoundError","pluginId","suite","addTestSuite","window","cgpv","TestSuiteInitializationError","GVTestSuiteUI","testSuite","testSuites","onTestStarted","onTestUpdated","_launchTestSuites","_this$suitesCompleted","resetTestSuites","launchTestSuite","finish","resetTestSuite","getDescriptionAsHtml","getSuitesCompleted","getSuitesTotal","getSuitesDone","AbstractPlugin","React","reactUtilities","react","geoviewPlugins","_MapTester_brand","expectedConfig","currentProjection","_getMapConfigFromStore","getMapState","zoomEnd","zoomDuration","currentZoom","zoomMap","_testSwitchProjectionAndExtent","initialProjection","secondProjection","zoomLevel","_MapEventProcessor$ge2","setProjection","testGroupId","circleCoords","geometry","addCircle","style","radius","fillColor","fillOpacity","strokeColor","strokeWidth","initialZIndex","getGeometryGroupZIndex","setGeometryGroupZIndex","finalZIndex","deleteGeometryGroup","extent","expectedExtent","zoomToLonLatExtentOrCoordinate","Projection","transformExtentFromProj","getProjection","getProjectionLonLat","coordinates","transformCoordinates","mapCenterCoordinates","getCode","targetTab","footerBarApi","selectTab","appBarApi","customTabId","customTabConfig","label","content","createTab","customTab","tab","targetLanguage","getDisplayLanguage","setLanguage","targetBasemapId","originalBasemap","basemap","activeBasemap","_this10$getMapViewer$","activeBasemapId","createCoreBasemap","setBasemap","bcExtent","_MapEventProcessor$ge3","rotationElement","transformStyle","angleValue","values","matrixValues","a","b","document","getComputedStyle","transform","match","parseFloat","atan2","PI","results1","layerDataOnTemp","layerDataOn","results2","layerDataOffTemp","layerDataOff","results3","layerDataOn2Temp","layerDataOn2","getLayerApi","AbstractGVLayer","LayerWrongTypeError","getLayerName","getQueryable","waitLoadedStatus","setQueryable","results","_result$results$","_result$results$2","_result$results$3","getHoverable","hoverFeatureInfoLayerSet","getMapHoverFeatureInfo","setHoverable","fieldInfo","layerPath1","layerPath2","clickCoordinates1","clickCoordinates2","_secondLayerData$feat","simulatedMapClick1","originalLayerPath","altLayerPathh","simulatedMapClick2","alternateLayerPath","secondLayerData","secondFeatureCount","simulateMapClick","promiseQueryBatched","FeatureInfoEventProcessor","getSelectedLayerPath","setSelectedLayerPath","findLayerDataFromLayerDataArray","assertIsNotEqual","mapConfig","getGeoViewMapConfig","_uiTester","pDetailsPanel","testGuideDetailsPanelTopAnchor","testEsriDynamic","layerEntryProps","HISTORICAL_FLOOD_LAYER_NAME","EsriDynamicLayerEntryConfig","CESI_MAP_SERVER","CESI_GROUP_0_LAYER_NAME","GroupLayerEntryConfig","testName","expectedTypeFirstLayerEntry","expectedConfigFull","initGeoviewLayerConfig","layerEntry","assertIsInstance","urlBad","FEATURE_SERVER_TORONTO_NEIGHBOURHOODS_URL","testEsriFeature","FEATURE_SERVER_TORONTO_NEIGHBOURHOODS_LAYER_NAME","HISTORICAL_FLOOD_URL_FEATURE_SERVER","expectedUrl","FOREST_INDUSTRY_FEATURE_SERVER","FOREST_INDUSTRY_LAYER_NAME","EsriFeatureLayerEntryConfig","testEsriImage","EsriImageLayerEntryConfig","OgcWmsLayerEntryConfig","layerEntryFirst","DATACUBE_MSI_LAYER_NAME_MSI","layerEntrySecond","foundLayerEntry","OgcWfsLayerEntryConfig","GEOJSON_METADATA_META_FILE","GeoJSONLayerEntryConfig","CsvLayerEntryConfig","OgcFeatureLayerEntryConfig","WkbLayerEntryConfig","KmlLayerEntryConfig","GeoTIFFLayerEntryConfig","AIRBORNE_RADIOACTIVITY_LAYER_GROUP_NAME","geocharts","GeoCore","createLayerConfigFromUUID","zoom","configObj","Config","initializeMapConfig","errorKey","params","getLocalizedMessage","logWarning","notifications","showError","_result$initialSettin","_result$listOfLayerEn","_result$listOfLayerEn2","getInitialSettings","_AbstractTester","geometryType","icon","isVisible","entryType"],"ignoreList":[],"sourceRoot":""}