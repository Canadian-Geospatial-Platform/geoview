{
  "map": {
    "interaction": "dynamic",
    "viewSettings": {
      "projection": 3857
    },
    "basemapOptions": {
      "basemapId": "transport",
      "shaded": false,
      "labeled": false
    },
    "listOfGeoviewLayerConfig": [
      {
        "geoviewLayerId": "airborne_radioactivity",
        "geoviewLayerName": "Airborne Radioactivity - ESRI Dynamic",
        "metadataAccessPath": "https://maps-cartes.services.geo.ca/server_serveur/rest/services/HC/airborne_radioactivity_en/MapServer",
        "geoviewLayerType": "esriDynamic",
        "listOfLayerEntryConfig": [
          {
            "layerId": "1"
          }
        ]
      },
      {
        "geoviewLayerId": "21b821cf-0f1c-40ee-8925-eab12d357668",
        "geoviewLayerName": "Airborne Radioactivity - GeoCore",
        "geoviewLayerType": "geoCore"
      },
      {
        "geoviewLayerId": "tritium_agol",
        "geoviewLayerName": "Tritium Radioactivity agol",
        "metadataAccessPath": "https://services1.arcgis.com/HsjBaDykC1mjhXz9/ArcGIS/rest/services/CRMN___Tritium_in_Atmospheric_Water_Vapour_WFL1/FeatureServer",
        "geoviewLayerType": "esriFeature",
        "listOfLayerEntryConfig": [
          {
            "layerId": "1"
          }
        ]
      },
      {
        "geoviewLayerId": "ogcFeatureLakes",
        "geoviewLayerName": "Large Lakes",
        "metadataAccessPath": "https://b6ryuvakk5.execute-api.us-east-1.amazonaws.com/dev",
        "geoviewLayerType": "ogcFeature",
        "listOfLayerEntryConfig": [
          {
            "layerId": "lakes",
            "layerFilter": "name in ('Lake Victoria', 'Lake Superior', 'L. Erie', 'L. Ontario')"
          }
        ]
      },
      {
        "geoviewLayerId": "cesi",
        "geoviewLayerName": "CESI",
        "metadataAccessPath": "https://maps-cartes.ec.gc.ca/arcgis/rest/services/CESI/MapServer",
        "geoviewLayerType": "esriFeature",
        "listOfLayerEntryConfig": [
          {
            "layerId": "1",
            "layerFilter": "E_Province = 'Alberta' or E_Province = 'Manitoba'"
          }
        ]
      },
      {
        "geoviewLayerId": "geojsonLYR5",
        "geoviewLayerName": "GeoJSON Sample",
        "metadataAccessPath": "./datasets/geojson/metadata.meta",
        "geoviewLayerType": "GeoJSON",
        "listOfLayerEntryConfig": [
          {
            "layerId": "polygons.json",
            "layerName": "Polygons"
          },
          {
            "layerId": "lines.json",
            "layerName": "Lines"
          },
          {
            "entryType": "group",
            "layerId": "point-feature-group",
            "layerName": "Points",
            "listOfLayerEntryConfig": [
              {
                "layerId": "icon_points.json",
                "layerName": "Icons"
              },
              {
                "layerId": "points.json",
                "layerName": "Points"
              }
            ]
          }
        ]
      }
    ]
  },
  "theme": "geo.ca",
  "appBar": {
    "tabs": {
      "core": ["geolocator", "legend", "details", "export"]
    }
  },
  "components": ["north-arrow", "overview-map"],
  "footerBar": {
    "tabs": {
      "core": ["layers", "geochart"]
    },
    "selectedTab": "geochart"
  },
  "corePackages": [],
  "corePackagesConfig": [
    {
      "geochart": {
        "charts": [
          {
            "layers": [
              {
                "layerId": "airborne_radioactivity/1",
                "propertyValue": "OBJECTID",
                "propertyDisplay": "Location_Emplacement"
              }
            ],
            "chart": "line",
            "query": {
              "type": "esriRegular",
              "url": "https://maps-cartes.services.geo.ca/server_serveur/rest/services/HC/airborne_radioactivity_en/MapServer/3",
              "queryOptions": {
                "whereClauses": [
                  {
                    "field": "Location_Emplacement",
                    "prefix": "'",
                    "valueFrom": "Location_Emplacement",
                    "suffix": "'"
                  }
                ],
                "orderByField": "CollectionStart_DebutPrelevement"
              }
            },
            "geochart": {
              "xAxis": {
                "type": "time",
                "property": "CollectionStart_DebutPrelevement",
                "label": "Collected date",
                "timeFormat": {
                  "en": "MMM dd, yyyy",
                  "fr": "d MMM yyyy"
                }
              },
              "yAxis": {
                "type": "linear",
                "property": "Activity_Activite_mBqm3",
                "label": "Activity (mBqm3)",
                "tooltipSuffix": "mBqm3"
              },
              "borderWidth": 1
            },
            "category": {
              "property": "Radionuclide_Radionucleide",
              "usePalette": false
            },
            "ui": {
              "xSlider": {
                "display": true
              },
              "ySlider": {
                "display": true
              },
              "stepsSwitcher": true,
              "scalesSwitcher": ["linear", "logarithmic"],
              "description": "This is a description text",
              "download": true
            }
          },
          {
            "layers": [
              {
                "layerId": "tritium_agol/1",
                "propertyValue": "OBJECTID",
                "propertyDisplay": "Station"
              }
            ],
            "chart": "line",
            "query": {
              "type": "esriRegular",
              "url": "https://services1.arcgis.com/HsjBaDykC1mjhXz9/ArcGIS/rest/services/CRMN___Tritium_in_Atmospheric_Water_Vapour_WFL1/FeatureServer/3",
              "queryOptions": {
                "whereClauses": [
                  {
                    "field": "Station",
                    "prefix": "'",
                    "valueFrom": "Station",
                    "suffix": "'"
                  }
                ],
                "orderByField": "Date"
              }
            },
            "geochart": {
              "xAxis": {
                "type": "time",
                "property": "Date",
                "label": "Collected date"
              },
              "yAxis": {
                "type": "linear",
                "property": "Activity_Activite_Bqm3",
                "label": "Activity (mBqm3)",
                "tooltipSuffix": "mBqm3"
              },
              "borderWidth": 1
            },
            "ui": {
              "xSlider": {
                "display": true
              },
              "ySlider": {
                "display": true
              },
              "stepsSwitcher": true,
              "description": "This is an ArcGIS Online layer chart",
              "download": true
            }
          },
          {
            "layers": [
              {
                "layerId": "ogcFeatureLakes/lakes",
                "propertyValue": "name",
                "propertyDisplay": "name"
              }
            ],
            "chart": "bar",
            "query": {
              "type": "ogcAPIFeatures",
              "url": "https://demo.pygeoapi.io/master/collections/lakes"
            },
            "geochart": {
              "xAxis": {
                "property": "name"
              },
              "yAxis": {
                "property": "id"
              }
            },
            "ui": {
              "download": true
            }
          },
          {
            "layers": [
              {
                "layerId": "geojsonLYR5/base-group/polygons.json"
              }
            ],
            "chart": "pie",
            "geochart": {
              "xAxis": {
                "property": "label"
              },
              "yAxis": {
                "property": "data"
              }
            },
            "category": {
              "property": "location",
              "usePalette": false
            },
            "datasources": [
              {
                "display": "Feature",
                "items": [
                  {
                    "data": 92,
                    "label": "Hockey",
                    "location": "Victoria"
                  },
                  {
                    "data": 43.54,
                    "label": "Baseball",
                    "location": "Victoria"
                  },
                  {
                    "data": 12.3,
                    "label": "Basketball",
                    "location": "Victoria"
                  },
                  {
                    "data": 66,
                    "label": "Football",
                    "location": "Victoria"
                  },
                  {
                    "data": 75,
                    "label": "Soccer",
                    "location": "Victoria"
                  },
                  {
                    "data": 553,
                    "label": "Hockey",
                    "location": "Toronto"
                  },
                  {
                    "data": 54,
                    "label": "Baseball",
                    "location": "Toronto"
                  },
                  {
                    "data": 32.553,
                    "label": "Basketball",
                    "location": "Toronto"
                  },
                  {
                    "data": 5.43,
                    "label": "Football",
                    "location": "Toronto"
                  },
                  {
                    "data": 55,
                    "label": "Soccer",
                    "location": "Toronto"
                  },
                  {
                    "data": 155,
                    "label": "Hockey",
                    "location": "Montreal"
                  },
                  {
                    "data": 55,
                    "label": "Baseball",
                    "location": "Montreal"
                  },
                  {
                    "data": 255,
                    "label": "Basketball",
                    "location": "Montreal"
                  }
                ]
              }
            ]
          },
          {
            "layers": [
              {
                "layerId": "geojsonLYR5/base-group/point-feature-group/icon_points.json"
              }
            ],
            "chart": "bar",
            "geochart": {
              "xAxis": {
                "property": "label"
              },
              "yAxis": {
                "property": "data"
              }
            },
            "category": {
              "property": "location",
              "usePalette": false
            },
            "datasources": [
              {
                "display": "Feature",
                "items": [
                  {
                    "data": 92,
                    "label": "Hockey",
                    "location": "Victoria"
                  },
                  {
                    "data": 43.54,
                    "label": "Baseball",
                    "location": "Victoria"
                  },
                  {
                    "data": 12.3,
                    "label": "Basketball",
                    "location": "Victoria"
                  },
                  {
                    "data": 66,
                    "label": "Football",
                    "location": "Victoria"
                  },
                  {
                    "data": 75,
                    "label": "Soccer",
                    "location": "Victoria"
                  },
                  {
                    "data": 553,
                    "label": "Hockey",
                    "location": "Toronto"
                  },
                  {
                    "data": 54,
                    "label": "Baseball",
                    "location": "Toronto"
                  },
                  {
                    "data": 32.553,
                    "label": "Basketball",
                    "location": "Toronto"
                  },
                  {
                    "data": 5.43,
                    "label": "Football",
                    "location": "Toronto"
                  },
                  {
                    "data": 55,
                    "label": "Soccer",
                    "location": "Toronto"
                  },
                  {
                    "data": 155,
                    "label": "Hockey",
                    "location": "Montreal"
                  },
                  {
                    "data": 55,
                    "label": "Baseball",
                    "location": "Montreal"
                  },
                  {
                    "data": 255,
                    "label": "Basketball",
                    "location": "Montreal"
                  }
                ]
              }
            ]
          }
        ]
      }
    }
  ]
}
