<!doctype html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Layers Navigator - Canadian Geospatial Platform Viewer</title><link rel="shortcut icon" href="./favicon.ico"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="msapplication-config" content="./img/browserconfig.xml"/><meta name="theme-color" content="#ffffff"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><link rel="stylesheet" href="css/style.css"/><style>.actionButton {
        padding: 5px;
      }

      .selector-container {
        display: flex;
        flex-direction: row;
        margin: 10px;
      }

      .selector {
        padding: 15px;
      }

      .editor {
        display: inline-flex;
        gap: 10px;
        font-family: monospace;
        line-height: 21px;
        background: #282a3a;
        border-radius: 2px;
        padding: 20px 10px;
        height: 600px;
        overflow-y: auto;
      }

      .line-numbers {
        width: 20px;
        text-align: right;
        height: 9999px;
      }

      .line-numbers span {
        counter-increment: linenumber;
      }

      .line-numbers span::before {
        content: counter(linenumber);
        display: block;
        color: #506882;
      }

      textarea {
        height: 9999px;
        line-height: 21px;
        overflow-y: hidden;
        padding: 0;
        border: 0;
        background: #282a3a;
        color: #fff;
        min-width: 500px;
        outline: none;
        resize: none;
      }

      select {
        max-width: 96%;
      }

      @media screen and (max-width: 600px) {
        .selector-container {
          display: flex;
          flex-direction: column;
          width: 100%;
        }
        .selector-container p {
          margin-bottom: 0px;
        }
        .selector {
          padding: 8px;
        }
        textarea {
          min-width: 96%;
          max-width: 96%;
        }
      }</style><script src="cgpv-main.js"></script></head><body><div class="header-table"><table><tbody><tr><td><img class="header-logo" alt="logo" src="./img/Logo.png"/></td><td class="header-title"><h1><strong>Layers Navigator</strong></h1></td></tr></tbody></table><table><tbody><tr><td><a href="./index.html">Main</a><br/></td></tr><tr><td><a href="./demos-navigator.html">Demos Navigator</a><br/></td></tr></tbody></table></div><hr/><div class="selector-container"><p>Configuration to load:</p><div class="selector"><select name="Config Loader" id="configLoader"><option value="">--select--</option><option value="./configs/navigator/layers/all-layers.json">All Layer Types</option><option value="./configs/navigator/layers/csv.json">CSV</option><option value="./configs/navigator/layers/esri-dynamic.json">ESRI Dynamic</option><option value="./configs/navigator/layers/esri-dynamic-group-of-groups.json">ESRI Dynamic - group of groups</option><option value="./configs/navigator/layers/esri-dynamic-projections.json">ESRI Dynamic - projections</option><option value="./configs/navigator/layers/esri-dynamic-errors.json">ESRI Dynamic - errors</option><option value="./configs/navigator/layers/esri-feature.json">ESRI Feature</option><option value="./configs/navigator/layers/esri-feature-errors.json">ESRI Feature - errors</option><option value="./configs/navigator/layers/esri-image.json">ESRI Image</option><option value="./configs/navigator/layers/esri-image-errors.json">ESRI Image - errors</option><option value="./configs/navigator/layers/geojson.json">GeoJSON</option><option value="./configs/navigator/layers/geojson-multi.json">GeoJSON MutiPolygon</option><option value="./configs/navigator/layers/geojson-errors.json">GeoJSON - errors</option><option value="./configs/navigator/layers/geopackages.json">GeoPackages</option><option value="./configs/navigator/layers/kml.json">KML</option><option value="./configs/navigator/layers/ogc-feature-api.json">OGC Feature API</option><option value="./configs/navigator/layers/ogc-feature-api-errors.json">OGC Feature API - errors</option><option value="./configs/navigator/layers/shapefile.json">Shapefile</option><option value="./configs/navigator/layers/static-image.json">Static Image</option><option value="./configs/navigator/layers/static-image-errors.json">Static Image - errors</option><option value="./configs/navigator/layers/vector-tile.json">Vector Tile</option><option value="./configs/navigator/layers/wfs.json">WFS</option><option value="./configs/navigator/layers/wfs-errors.json">WFS - errors</option><option value="./configs/navigator/layers/wkb.json">WKB</option><option value="./configs/navigator/layers/wms-layer.json">WMS</option><option value="./configs/navigator/layers/wms-layer-vpn.json">WMS - VPN</option><option value="./configs/navigator/layers/wms-layer-errors.json">WMS - errors</option><option value="./configs/navigator/layers/xyz-tile.json">XYZ Tile</option><option value="./configs/navigator/layers/xyz-tile-errors.json">XYZ Tile - errors</option><option value="./configs/navigator/layers/geocore.json">GeoCore</option><option value="./configs/navigator/layers/geocore-custom.json">GeoCore Custom Config</option><option value="./configs/navigator/layers/geocore-custom-inline-config.json">GeoCore Custom Inline Config</option><option value="./configs/navigator/layers/geocore-duplicates.json">Duplicate GeoCore Config</option><option value="./configs/navigator/layers/geocore-errors.json">GeoCore - errors</option><option value="./configs/navigator/layers/rcs-gcgeo.json">gcGeo RCS - VPN</option></select></div></div><div class="selector-container"><p>Display Language:</p><div class="selector"><select name="Switch Language" id="switchLang"><option value="en">English</option><option value="fr">French</option><option value="unsupported">Not Supported</option></select> <input type="checkbox" id="resetLayer" name="resetLayer" checked="checked"/> <label for="resetLayer">Reset Layers</label></div><p>Display Theme:</p><div class="selector"><select name="Switch Theme" id="switchTheme"><option value="geo.ca">Geo.ca</option><option value="light">Light</option><option value="dark">Dark</option><option value="unsupported">Not Supported</option></select></div><p>Display Projection:</p><div class="selector"><select name="Switch Projection" id="switchProjection"><option value="3978">LCC (3978)</option><option value="3857">Web Mercator (3857)</option><option value="unsupported">Not Supported</option></select></div></div><hr/><button type="button" class="collapsible">Layers Status</button><pre id="sandboxMap-state" class="panel map-title-holder"></pre><div id="mapSection"><div id="map1"></div></div><p>This map loads its configurations from a selected configuration file.</p><hr/><div class="editor"><div class="line-numbers"><span></span></div><textarea id="configGeoview" name="configuration" rows="30" cols="150">
        Select a configuration file to see its content...
      </textarea></div><div class="actionButton">Reload Map <button id="Reload-Button">Reload</button></div><div class="actionButton">Remove Map <button id="Remove-Button">Remove</button></div><hr/><button type="button" class="collapsible">Code Snippet</button><pre id="codeSnippet" class="panel"></pre><script src="codedoc.js"></script><script>const configLoader = document.getElementById('configLoader');
      const switchLang = document.getElementById('switchLang');
      const resetLayer = document.getElementById('resetLayer');
      const switchThemeElem = document.getElementById('switchTheme');
      const switchProjectioneElem = document.getElementById('switchProjection');
      const reload = document.getElementById('Reload-Button');
      const remove = document.getElementById('Remove-Button');
      const urlParams = new URLSearchParams(window.location.search);
      const config = urlParams.get('config');
      const mapId = 'map1';

      // ------------------ CONFIG SELECTOR SECTION START -----------------------------------------
      configLoader.addEventListener('change', async (e) => {
        onConfigChange(mapId, e);
      });
      // ------------------ CONFIG SELECTOR SECTION END -----------------------------------------

      // If there's a config
      if (config) {
        configLoader.value = config;
        configLoader.dispatchEvent(new Event('change'));
      }

      // ------------------ SWITCHER SECTION START -----------------------------------------
      switchLang.addEventListener('change', (e) => {
        cgpv.api.getMapViewer(mapId).setLanguage(e.target.value, resetLayer.checked);
      });

      switchThemeElem.addEventListener('change', (e) => {
        cgpv.api.getMapViewer(mapId).setTheme(e.target.value);
      });

      switchProjectioneElem.addEventListener('change', (e) => {
        cgpv.api.getMapViewer(mapId).setProjection(e.target.value);
      });
      // ------------------ SWITCHER SECTION END -----------------------------------------

      reload.addEventListener('click', (e) => {
        cgpv.api.reload(mapId);
      });

      remove.addEventListener('click', (e) => {
        cgpv.api.deleteMapViewer(mapId, true);
      });

      // create snippets
      window.addEventListener('load', () => {
        createCodeSnippet();
        createConfigSnippet();
      });</script></body></html>